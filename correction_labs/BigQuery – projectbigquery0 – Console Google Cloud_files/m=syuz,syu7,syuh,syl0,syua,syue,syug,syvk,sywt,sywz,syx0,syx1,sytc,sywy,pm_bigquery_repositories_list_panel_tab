"use strict";this.default_r_tvffkgi=this.default_r_tvffkgi||{};(function(_){var window=this;
try{
_.bxj=function(a){return _.Ck(_.e3g,b=>{if(b&&a)return b[a]})};_.cxj=function(a){return _.Ck(_.bxj(a),b=>b==null?void 0:b.details)};_.dxj=function(a){return _.fe([a.defaultServiceAccountEmail(),a.activeRepositoryServiceAccount$]).pipe(_.x(([b,c])=>c?c:b))};
_.N0=class{constructor(){this.purviewService=_.l(_.jl);this.store=_.l(_.Gk);this.activeRepositoryServiceAccount$=this.store.select(_.m3g)}defaultServiceAccountEmail(){return this.purviewService.getCurrentProject().pipe(_.x(a=>{let b;return`service-${(b=a==null?void 0:a.projectNumber)!=null?b:"<project-number>"}@gcp-sa-dataform.iam.gserviceaccount.com`}))}};_.N0.\u0275fac=function(a){return new (a||_.N0)};_.N0.\u0275prov=_.k({token:_.N0,factory:_.N0.\u0275fac,providedIn:"root"});
}catch(e){_._DumpException(e)}
try{
var Wlj=function(){return new _.Pk("path","regionId")},Xlj=function(){return new _.Iib(["keys"],"matrix","source")},Ylj={OVERVIEW:"overview",VERSIONS:"versions",USAGE_TRACKING:"usage",PERMISSIONS:"permissions"},Zlj=class extends _.cOc{constructor(){super();this.regionId=this.registerParam(Wlj());this.keyRingId=this.registerParam(new _.Pk("path","keyRingId"));this.source=this.registerParam(Xlj());this.extendPath(["keyring","manage",this.regionId,this.keyRingId])}},$lj=class extends _.cOc{constructor(){super();
this.regionId=this.registerParam(Wlj());this.keyRingId=this.registerParam(new _.Pk("path","keyRingId"));this.keyId=this.registerParam(new _.Pk("path","keyId"));this.source=this.registerParam(Xlj());this.tab=this.registerParam(new _.Iib(Object.values(Ylj),"matrix","tab"));this.extendPath(["key","manage",this.regionId,this.keyRingId,this.keyId])}},amj=class extends $lj{constructor(){super();this.projectId=this.registerParam(new _.Pk("query","project"));this.extendPath([""])}},bmj=class extends _.cOc{constructor(){super();
this.extendPath(["infrastructure"])}},cmj=class extends bmj{constructor(){super();this.regionId=this.registerParam(Wlj());this.ekmConnectionId=this.registerParam(new _.Pk("path","ekmConnectionId"));this.extendPath(["manage",this.regionId,this.ekmConnectionId,"ekmconnection"])}},dmj=class extends _.ZZh{constructor(){super();this.extendPath(["service-directory"])}},emj=class extends dmj{constructor(){super();this.extendPath(["namespaces"])}},fmj=class extends emj{constructor(){super();this.location=
this.registerParam(new _.Pk("path","location"));this.namespace=this.registerParam(new _.Pk("path","namespace"));this.extendPath([this.location,this.namespace])}},gmj=class extends fmj{constructor(){super();this.extendPath(["services"])}},hmj=class extends gmj{constructor(){super();this.service=this.registerParam(new _.Pk("path","service"));this.extendPath([this.service])}},imj=class extends hmj{constructor(){super();this.extendPath(["view"])}},jmj=class{constructor(){this.url=Zlj.create()}transform(a){return this.url.link().set(this.url.regionId,
a.locationId).set(this.url.keyRingId,a.keyRingId).build()}},pmj;jmj.\u0275fac=function(a){return new (a||jmj)};jmj.\u0275pipe=_.Ye({name:"keyListUrl",type:jmj,pure:!0,standalone:!1});var kmj=class{constructor(){this.url=$lj.create()}transform(a,b){a=this.url.link().set(this.url.regionId,a.locationId).set(this.url.keyRingId,a.keyRingId).set(this.url.keyId,a.cryptoKeyId);b&&a.set(this.url.source,b);return a.build()}};kmj.\u0275fac=function(a){return new (a||kmj)};
kmj.\u0275pipe=_.Ye({name:"keyVersionListUrl",type:kmj,pure:!0,standalone:!1});var lmj=class{constructor(){this.url=Zlj.create()}transform(a){a=_.YC(a);return this.url.link().set(this.url.regionId,a.locationId).set(this.url.keyRingId,a.keyRingId).build()}};lmj.\u0275fac=function(a){return new (a||lmj)};lmj.\u0275pipe=_.Ye({name:"kmsKeyRingNameUrl",type:lmj,pure:!0,standalone:!1});
_.mmj=class{constructor(){this.url=amj.create()}transform(a){a=_.YC(a);return this.url.link().set(this.url.projectId,a.projectId).set(this.url.regionId,a.locationId).set(this.url.keyRingId,a.keyRingId).set(this.url.keyId,a.cryptoKeyId)}};_.mmj.\u0275fac=function(a){return new (a||_.mmj)};_.mmj.\u0275pipe=_.Ye({name:"kmsKeyNameUrl",type:_.mmj,pure:!0,standalone:!1});
var nmj=class{constructor(){this.url=cmj.create()}transform(a){a=_.YC(a);return this.url.link().set(this.url.regionId,a.locationId).set(this.url.ekmConnectionId,a.ekmConnectionId).build()}};nmj.\u0275fac=function(a){return new (a||nmj)};nmj.\u0275pipe=_.Ye({name:"ekmViaVpcConnectionUrl",type:nmj,pure:!0,standalone:!1});
var omj=class{constructor(){this.url=imj.create()}transform(a){a=_.bOc.exec(a);return this.url.link().set(this.url.project,a[1]).set(this.url.location,a[2]).set(this.url.namespace,a[3]).set(this.url.service,a[4])}};omj.\u0275fac=function(a){return new (a||omj)};omj.\u0275pipe=_.Ye({name:"serviceDirectoryServiceUrl",type:omj,pure:!0,standalone:!1});pmj=[nmj,jmj,kmj,_.mmj,lmj,omj];_.qmj=class{};_.qmj.\u0275fac=function(a){return new (a||_.qmj)};_.qmj.\u0275mod=_.We({type:_.qmj});_.qmj.\u0275inj=_.Pc({providers:pmj});
}catch(e){_._DumpException(e)}
try{
var yqg;yqg=["copyButton"];
_.zqg=class{constructor(){this.ariaDescriber=_.l(_.zo);this.elementRef=_.l(_.De);this.liveAnnouncer=_.l(_.xo);this.icons={copyIcon:_.kF};this.ve={CfcCodeSnippetCopyButton:54696};this.JSC$419119_contentWasCopied=void 0}set buttonClass(a){const b=this.elementRef.nativeElement.querySelector("button");b&&(a?(this.buttonClassInternal=a,b.classList.add(a)):this.buttonClassInternal&&b.classList.contains(this.buttonClassInternal)&&(b.classList.remove(this.buttonClassInternal),this.buttonClassInternal=void 0))}ngOnInit(){}getTooltipText(){return this.JSC$419119_contentWasCopied===
void 0?"Copier dans le presse-papiers":this.JSC$419119_contentWasCopied?"Code copi\u00e9":"\u00c9chec de la copie"}focusout(){this.JSC$419119_contentWasCopied=void 0}};_.zqg.\u0275fac=function(a){return new (a||_.zqg)};
_.zqg.\u0275cmp=_.A({type:_.zqg,selectors:[["cfc-code-snippet-copy"]],viewQuery:function(a,b){a&1&&_.Gg(yqg,5,_.De);if(a&2){let c;_.Jg(c=_.Kg())&&(b.copyButton=c.first)}},inputs:{codeSnippet:"codeSnippet",ariaLabel:"ariaLabel",buttonClass:"buttonClass"},decls:4,vars:5,consts:[["copyButton",""],[1,"cfc-code-snippet-copy"],["type","button","mat-icon-button","","cfcTooltipAriaRelationship","description","cfcTooltipPosition","bottom",3,"click","focusout","cfcTooltip","ve","veClick"],[1,"cm-icon--legacy-margins",
3,"icon"]],template:function(a,b){if(a&1){const c=_.m();_.G(0,"div",1)(1,"button",2,0);_.P("click",function(d){_.p(c);a:{try{b.codeSnippet.selectAllContents();var e=document.execCommand("copy");break a}catch(f){}e=void 0}b.JSC$419119_contentWasCopied=e;b.copyButton.nativeElement.focus();b.liveAnnouncer.JSC$390975_announce(b.getTooltipText());b.ariaDescriber.describe(b.copyButton.nativeElement,b.getTooltipText());d.stopPropagation();return _.t(void 0)})("focusout",function(){_.p(c);return _.t(b.focusout())});
_.J(3,"cm-icon",3);_.H()()}a&2&&(_.y(),_.E("cfcTooltip",b.getTooltipText())("ve",b.ve.CfcCodeSnippetCopyButton)("veClick",!0),_.Xf("aria-label",b.ariaLabel),_.y(2),_.E("icon",b.icons.copyIcon))},dependencies:[_.An,_.ds,_.cs,_.Zr,_.as,_.vp,_.up,_.us,_.rs,_.qt,_.Sq],styles:["body[data-cm-color-scheme=dark]:where([data-cm-dark-launched=true])   .cm-gm2[_nghost-%COMP%], body[data-cm-color-scheme=dark]:where([data-cm-dark-launched=true])   .cm-gm2   [_nghost-%COMP%]{--focus-indicator-color-primary-inverse: #dadce0}[_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]{--cm-md1-button-line-height: 24px;--cm-md1-button-padding-inline: 8px;--cm-icon-button-height: 24px;--cm-icon-button-width: 24px;--cm-icon-button-line-height: 24px;--cm-gm2-button-height: 28px;position:absolute;right:16px;top:4px;z-index:5}[_nghost-%COMP%]   .cfc-code-snippet-copy[mat-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[mat-flat-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[mat-raised-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[mat-stroked-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy.mat-button-toggle-label-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   [mat-raised-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   [mat-flat-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   .cfc-progress-button-unresolved[_ngcontent-%COMP%]{line-height:24px;padding:0 8px}[_nghost-%COMP%]   .cfc-code-snippet-copy[mat-icon-button][_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]{--cm-focus-indicator-offset: 2px;padding:0}[_nghost-%COMP%]   .cfc-code-snippet-copy[mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)), [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   [mat-icon-button][_ngcontent-%COMP%]:where(:not(.cm-button)){height:24px;line-height:24px;width:24px}[_nghost-%COMP%]   .cfc-code-snippet-copy.cfc-split-button-menu-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy.cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   .cfc-split-button-menu-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   .cfc-split-button-menu-button.cm-button[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   .cfc-split-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .cfc-code-snippet-copy.cfc-split-button[_ngcontent-%COMP%]{line-height:20px}body.cfc-focus-indicators-enabled   [_nghost-%COMP%]   .cfc-code-snippet-copy.mat-icon-button[_ngcontent-%COMP%]::before, body.cfc-focus-indicators-enabled   [_nghost-%COMP%]   .cfc-code-snippet-copy[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]::before{margin:-2px}.cfc-code-snippet-snack-bar[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;flex-grow:1;height:20px;justify-content:space-between}"],
changeDetection:0});_.Aqg=class{};_.Aqg.\u0275fac=function(a){return new (a||_.Aqg)};_.Aqg.\u0275mod=_.We({type:_.Aqg});_.Aqg.\u0275inj=_.Pc({imports:[_.zqg]});
}catch(e){_._DumpException(e)}
try{
var lnj,nnj,onj,pnj,qnj,snj,unj,wnj;lnj=function(a){a&1&&(_.G(0,"cfc-message-text")(1,"div",11)(2,"span",12),_.N(3,0),_.H(),_.J(4,"cfc-loader",13),_.H()());a&2&&(_.y(4),_.E("isLoading",!0))};
nnj=function(a){if(a&1){const b=_.m();_.G(0,"cfc-message-text",14);_.R(1);_.H();_.G(2,"cfc-message-actions")(3,"button",15);_.P("click",function(){_.p(b);const c=_.Q(2);return _.t(mnj(c))});_.N(4,1);_.H();_.G(5,"button",15);_.P("click",function(){_.p(b);_.Q(2).state$.next(void 0);return _.t(void 0)});_.N(6,2);_.H()()}a&2&&(a=_.Q(2),_.E("ve",a.ve.CloundRunServiceAccountPermissionsError)("veImpression",!0),_.y(),_.Pg(a.error),_.y(2),_.E("ve",a.ve.CloundRunServiceAccountPermissionsRetryButton)("veClick",
!0),_.y(2),_.E("ve",a.ve.CloundRunServiceAccountPermissionsDismissButton)("veClick",!0))};onj=function(a,b){a&1&&(_.G(0,"li"),_.N(1,5),_.H());a&2&&(a=b.$implicit,_.y(),_.rg(a.role)(a.resource.getDisplayName()),_.sg(1))};pnj=function(a,b){a&1&&(_.G(0,"p",19),_.og(1,4),_.J(2,"b"),_.pg(),_.H(),_.G(3,"ul",20),_.jg(4,onj,2,2,"li",null,_.hg),_.H());a&2&&(a=b.$implicit,_.y(2),_.rg(a.accountEmail),_.sg(1),_.y(2),_.kg(a.bindings))};
qnj=function(a){a&1&&(_.G(0,"a",18),_.R(1," Learn more "),_.H());a&2&&(a=_.Q(3),_.E("cfcDocLink",a.learnMoreDocLink))};
snj=function(a){if(a&1){const b=_.m();_.G(0,"cfc-message-text")(1,"p");_.R(2);_.H();_.jg(3,pnj,6,1,null,null,rnj);_.H();_.G(5,"cfc-message-actions")(6,"cfc-progress-button",16);_.T(7,"async");_.G(8,"button",17);_.P("click",function(){_.p(b);const c=_.Q(2);return _.t(mnj(c))});_.N(9,3);_.H()();_.F(10,qnj,2,1,"a",18);_.H()}a&2&&(a=_.Q(2),_.y(2),_.Pg(a.warningText),_.y(),_.kg(a.missingGrantsToDisplay),_.y(3),_.E("inProgress",_.U(7,5,a.grantPending$)),_.y(2),_.E("ve",a.ve.CloundRunServiceAccountPermissionsGrantButton)("veClick",
!0),_.y(2),_.gg(a.learnMoreDocLink?10:-1))};
unj=function(a){if(a&1){const b=_.m();_.G(0,"cfc-message-text",14);_.N(1,6);_.H();_.G(2,"cfc-message-actions")(3,"button",15);_.P("click",function(){_.p(b);const c=_.Q(2);return _.t(tnj(c))});_.N(4,7);_.H();_.G(5,"button",15);_.P("click",function(){_.p(b);_.Q(2).state$.next(void 0);return _.t(void 0)});_.N(6,8);_.H()()}a&2&&(a=_.Q(2),_.E("ve",a.ve.CloundRunServiceAccountPermissionsError)("veImpression",!0),_.y(3),_.E("ve",a.ve.CloundRunServiceAccountPermissionsRetryButton)("veClick",!0),_.y(2),_.E("ve",
a.ve.CloundRunServiceAccountPermissionsDismissButton)("veClick",!0))};wnj=function(a,b){a&1&&(_.G(0,"div",9)(1,"cfc-message",10),_.F(2,lnj,5,1,"cfc-message-text")(3,nnj,7,7)(4,snj,11,7)(5,unj,7,6),_.H()());a&2&&(a=_.Q(),_.y(),_.E("type",vnj(b)),_.y(),_.gg(b===a.displayState.CHECKING?2:b===a.displayState.GRANT_PERMISSIONS_ERROR?3:b===a.displayState.LIST_MISSING_GRANTS_SUCCESS?4:b===a.displayState.LIST_MISSING_GRANTS_ERROR?5:-1))};_.xnj={type:1,path:"/dataform/docs/required-access"};
_.ynj=class{constructor(){this.dialogRef=_.l(_.Zo);this.dialogData=_.l(_.ip);this.contextService=_.l(_.Jx);let a;this.form={name:"text-input-dialog-form",elements:{textInput:{input:{label:(a=this.dialogData.inputLabel)!=null?a:"Saisir du texte",required:!0,email:this.dialogData.useEmailValidator}}},onSubmit:({value:c})=>{this.dialogRef.close(c.textInput)}};let b;this.title=(b=this.dialogData.title)!=null?b:"Saisir du texte"}close(){const a=this.contextService.context.get(this.form);let b;this.dialogRef.close(a==
null?void 0:(b=a.textInput)==null?void 0:b.value)}};_.ynj.\u0275fac=function(a){return new (a||_.ynj)};
_.ynj.\u0275cmp=_.A({type:_.ynj,selectors:[["text-input-dialog"]],standalone:!1,decls:9,vars:2,consts:()=>["Annuler","Confirmer",["matDialogTitle",""],["matDialogContent",""],[3,"content"],["matDialogActions",""],["mat-button","","color","primary",3,"click"]],template:function(a,b){a&1&&(_.G(0,"h1",2),_.R(1),_.H(),_.G(2,"div",3),_.J(3,"raf-form",4),_.H(),_.G(4,"div",5)(5,"button",6),_.P("click",function(){return b.dialogRef.close()}),_.N(6,0),_.H(),_.G(7,"button",6),_.P("click",function(){return b.close()}),
_.N(8,1),_.H()());a&2&&(_.y(),_.S(" ",b.title,"\n"),_.y(2),_.E("content",b.form))},dependencies:[_.Gq,_.cs,_.Yr,_.as,_.lp,_.np,_.mp,_.zA],encapsulation:2});_.znj=function(a){return _.QH(a.iamAccountService,a.currentProjectId,!0).pipe(_.x(b=>b.sort((c,d)=>{let e,f;return((e=c.displayName)!=null?e:"").localeCompare((f=d.displayName)!=null?f:"")})),_.Ze(()=>_.v([])),_.Jf(b=>{a.serviceAccounts$.next(b)}),_.hf())};_.B0=class{constructor(){this.projectParamService=_.l(_.aq);this.iamAccountService=_.l(_.RH);this.currentProjectId=_.$p(this.projectParamService);this.serviceAccounts$=new _.Jh([]);_.$d(_.znj(this))}};_.B0.\u0275fac=function(a){return new (a||_.B0)};
_.B0.\u0275prov=_.k({token:_.B0,factory:_.B0.\u0275fac,providedIn:"root"});var Bnj,Cnj,Anj,Dnj,Enj;Bnj=function(a,b,c){return Anj(a,b.map(({accountEmail:d})=>d),c).pipe(_.x(d=>{const e=[];b.forEach(({roles:f,accountEmail:h,overridingRole:n})=>{let q;if(!(n&&((q=d[h])==null?0:q.includes(n)))){var r;f=(0,_.mq.difference)(f,(r=d[h])!=null?r:[]);f.length&&e.push({roles:f,accountEmail:h,resource:c})}});return e}))};
Cnj=function(a,b){if(b.length===0)return _.v([]);b=(0,_.mq.groupBy)(b,c=>c.resource.getResourceId());return _.fe(Object.entries(b).map(([,c])=>Bnj(a,c,c[0].resource))).pipe(_.x(c=>c.flat()))};Anj=function(a,b,c){return _.NFd(a.JSC$431611_policyService,c).pipe(_.x(d=>{const e={};d.forEach(f=>{const h=b.find(n=>f.iamMember===`serviceAccount:${n}`);h!==void 0&&(e[h]=f.roles.map(({role:n})=>n.name||""))});return e}))};
Dnj=function(a,b,c){const d=new _.Xv;b.forEach(({roles:e,accountEmail:f})=>{e.forEach(h=>{_.Wv(d,h,[`serviceAccount:${f}`])})});return _.uy(a.JSC$431611_iamActionService,[c],d,!0).pipe(_.hf())};Enj=function(a,b){b=(0,_.mq.groupBy)(b,c=>c.resource.getResourceId());return _.fe(Object.entries(b).map(([,c])=>Dnj(a,c,c[0].resource))).pipe(_.hf())};_.Fnj=class{constructor(){this.JSC$431611_iamActionService=_.l(_.Xt);this.JSC$431611_policyService=_.l(_.SH)}};_.Fnj.\u0275fac=function(a){return new (a||_.Fnj)};
_.Fnj.\u0275prov=_.k({token:_.Fnj,factory:_.Fnj.\u0275fac});var rnj,Gnj,mnj,tnj,vnj;rnj=(a,b)=>b.accountEmail;Gnj={CHECKING:"CHECKING",LIST_MISSING_GRANTS_SUCCESS:"LIST_MISSING_GRANTS_SUCCESS",LIST_MISSING_GRANTS_ERROR:"LIST_MISSING_GRANTS_ERROR",GRANT_PERMISSIONS_ERROR:"GRANT_PERMISSIONS_ERROR"};
mnj=function(a){a.grantPending$.next(!0);Enj(a.serviceAccountPermissionsService,a.missingGrants).pipe(_.Ii(a.destroyRef)).subscribe(()=>{a.grantPending$.next(!1);a.requiredGrants$.next(a.requiredGrants$.value);a.permissionsGranted.emit()},b=>{a.grantPending$.next(!1);a.state$.next("GRANT_PERMISSIONS_ERROR");a.error=b.message})};
tnj=function(a){a.requiredGrants$.pipe(_.Ii(a.destroyRef),_.Jf(()=>{a.state$.next("CHECKING")}),_.B(b=>b.length===0?_.v([]):Cnj(a.serviceAccountPermissionsService,b))).subscribe(b=>{a.missingGrants=b;b.length===0?(a.state$.next(void 0),a.permissionsEnabled.emit()):a.state$.next("LIST_MISSING_GRANTS_SUCCESS")},()=>{a.state$.next("LIST_MISSING_GRANTS_ERROR")})};
vnj=function(a){switch(a){case "CHECKING":return"informational";case "LIST_MISSING_GRANTS_SUCCESS":return"warning";case "LIST_MISSING_GRANTS_ERROR":return"warning";case "GRANT_PERMISSIONS_ERROR":return"error";default:return null}};
_.C0=class{set requiredGrants(a){this.requiredGrants$.next(a)}constructor(){this.serviceAccountPermissionsService=_.l(_.Fnj);this.destroyRef=_.l(_.Ce);this.permissionsEnabled=new _.Gi;this.permissionsGranted=new _.Gi;this.error="";this.missingGrants=[];this.ve={CloundRunServiceAccountPermissionsDismissButton:258874,CloundRunServiceAccountPermissionsGrantButton:258872,CloundRunServiceAccountPermissionsRetryButton:258873,CloundRunServiceAccountPermissionsError:258876};this.displayState=Gnj;this.state$=
new _.Jh("CHECKING");this.grantPending$=new _.Jh(!1);this.requiredGrants$=new _.Jh([]);tnj(this)}get missingGrantsToDisplay(){return Object.entries((0,_.mq.groupBy)(this.missingGrants,a=>a.accountEmail)).map(([a,b])=>({accountEmail:a,bindings:b.map(({roles:c,resource:d})=>c.map(e=>({role:e,resource:d}))).flat().sort((c,d)=>c.role.localeCompare(d.role))})).sort((a,b)=>a.accountEmail.localeCompare(b.accountEmail))}};_.C0.\u0275fac=function(a){return new (a||_.C0)};
_.C0.\u0275cmp=_.A({type:_.C0,selectors:[["service-account-permissions-granter"]],inputs:{requiredGrants:"requiredGrants",warningText:"warningText",learnMoreDocLink:"learnMoreDocLink"},outputs:{permissionsEnabled:"permissionsEnabled",permissionsGranted:"permissionsGranted"},decls:2,vars:3,consts:()=>["V\u00e9rification des autorisations pour le compte de service...","R\u00e9essayer","Fermer","Tout autoriser","pour \ufffd#2\ufffd\ufffd0\ufffd\ufffd/#2\ufffd\u00a0:"," \ufffd0\ufffd on \ufffd1\ufffd ",
"\u00c9chec de la v\u00e9rification des autorisations.","R\u00e9essayer","Fermer",[1,"cfc-flex-wrap-container"],[1,"cfc-width-base",3,"type"],[1,"cfc-flex-container","cfc-flex-center-aligned"],[1,"cfc-prefix"],[3,"isLoading"],[3,"ve","veImpression"],["mat-button","",3,"click","ve","veClick"],[3,"inProgress"],["mat-raised-button","","type","button",3,"click","ve","veClick"],["mat-button","","color","primary","aria-label","En savoir plus sur les autorisations de compte de service requises",3,"cfcDocLink"],
[1,"cfc-space-last"],["cfc-list",""]],template:function(a,b){a&1&&(_.F(0,wnj,6,2,"div",9),_.T(1,"async"));if(a&2){let c;_.gg((c=_.U(1,1,b.state$))?0:-1,c)}},dependencies:[_.rt,_.Gq,_.Sq,_.ds,_.cs,_.Yr,_.as,_.Pq,_.wx,_.Kp,_.Mp,_.Lp,_.gs,_.Bs,_.wn],encapsulation:2,changeDetection:0});_.D0=class{};_.D0.\u0275fac=function(a){return new (a||_.D0)};_.D0.\u0275mod=_.We({type:_.D0});_.D0.\u0275inj=_.Pc({providers:[_.Fnj],imports:[_.TH,_.rt,_.ds,_.Qq,_.Ds,_.xx,_.Pp,_.hs,_.C0]});
}catch(e){_._DumpException(e)}
try{
_.Moj=function(a,b,c=_.v(void 0)){return _.fe([a,b,c]).pipe(_.x(([d,e,f])=>{d=d.filter(h=>!!h.email).map(h=>({label:h.displayName||h.email,value:h.email,hint:h.email}));e=[...e,...d];f&&(e.find(h=>h.value===f)||e.unshift({label:f,value:f}));return e}))};_.Noj={data:{useEmailValidator:!0,inputLabel:"Saisir l'adresse e-mail du compte de service",title:"Compte de service"},width:"400px"};
}catch(e){_._DumpException(e)}
try{
var Uoj;_.Voj=function(a){return a&&!Uoj.test(a)?"Les ID ne peuvent contenir que des chiffres, des lettres, des traits d'union ou des traits de soulignement":null};Uoj=RegExp("^[a-zA-Z0-9-_]+$");
}catch(e){_._DumpException(e)}
try{
_.LGj=function(a,b,c){return b?a.JSC$432573_defaultServiceAccountEmail$.pipe(_.jf(1),_.x(d=>{const e=new _.pj(`projects/${a.currentProjectId}/serviceAccounts/${b}`,30,b),f=[];b!==d&&f.push({roles:["roles/iam.serviceAccountTokenCreator"],accountEmail:d,resource:e});(c==null?0:c.includeQueryRoles)&&f.push({roles:["roles/bigquery.jobUser"],accountEmail:b,resource:new _.pj(a.currentProjectId,0)});(c==null?0:c.includeNotebookRoles)&&f.push({roles:(c==null?0:c.includeQueryRoles)?["roles/aiplatform.notebookExecutorUser"]:
["roles/aiplatform.notebookExecutorUser","roles/bigquery.jobUser"],accountEmail:b,resource:new _.pj(a.currentProjectId,0)},{roles:["roles/iam.serviceAccountUser"],accountEmail:b,resource:e});(c==null?0:c.includeActAsChecksRoles)&&b!==d&&f.push({roles:["roles/iam.serviceAccountUser"],accountEmail:d,resource:e});return f})):_.v([])};
_.MGj=class{constructor(){this.projectParamService=_.l(_.aq);this.JSC$432573_p4saProvider=_.l(_.N0);this.currentProjectId=_.$p(this.projectParamService);this.JSC$432573_defaultServiceAccountEmail$=this.JSC$432573_p4saProvider.defaultServiceAccountEmail()}};_.MGj.\u0275fac=function(a){return new (a||_.MGj)};_.MGj.\u0275prov=_.k({token:_.MGj,factory:_.MGj.\u0275fac,providedIn:"root"});
}catch(e){_._DumpException(e)}
try{
var eak=function(a,b){a&1&&(_.G(0,"a",10),_.R(1),_.H());a&2&&(a=b.ngIf,b=_.Q(3),_.E("cfc-external-link",a.asString()),_.y(),_.S(" ",b.resource.cryptoKeyId," "))},fak=function(a){a&1&&(_.K(0),_.D(1,eak,2,2,"a",9),_.T(2,"async"),_.T(3,"kmsKeyNameUrl"),_.M());a&2&&(a=_.Q(2),_.y(),_.E("ngIf",_.U(3,3,_.U(2,1,a.resourceName$))))},gak=function(a){a&1&&(_.G(0,"cfc-disable-deprecated",11),_.T(1,"async"),_.T(2,"async"),_.G(3,"span",12),_.R(4),_.H()());a&2&&(a=_.Q(2),_.E("cfcIamCheck",_.U(1,3,a.iamPermission$))("cfcIamResource",
_.U(2,5,a.iamCompatibleStub$)),_.y(4),_.S(" ",a.resource.cryptoKeyId," "))},hak=function(a){a&1&&(_.K(0),_.G(1,"span",13),_.R(2," | "),_.H(),_.G(3,"span",14),_.N(4,2),_.H(),_.M());a&2&&(a=_.Q(2),_.y(4),_.rg(a.resource.cryptoKeyVersionId),_.sg(4))},iak=function(a){a&1&&(_.K(0),_.G(1,"span",13),_.R(2," | "),_.H(),_.G(3,"span",15),_.og(4,3),_.J(5,"cfc-icon",16),_.pg(),_.H(),_.M())},jak=function(a){a&1&&(_.K(0),_.G(1,"span",13),_.R(2," | "),_.H(),_.G(3,"span",17),_.og(4,4),_.J(5,"a",18),_.pg(),_.H(),
_.M());a&2&&(a=_.Q(3),_.y(5),_.E("cfcDocLink",a.CONSOLE__KMS_DOCS_HSM))},kak=function(a,b){a&1&&(_.K(0),_.D(1,iak,6,0,"ng-container",8)(2,jak,6,1,"ng-container",8),_.M());a&2&&(a=b.ngIf,_.y(),_.E("ngIf",a.getAvailability()===!1),_.y(),_.E("ngIf",a.getKmsProtectionLevel().protectionLevelInput.isHardwareKey))},lak=function(a){a&1&&(_.G(0,"p"),_.D(1,fak,4,5,"ng-container",6),_.T(2,"async"),_.D(3,gak,5,7,"ng-template",null,1,_.fh)(5,hak,5,1,"ng-container",8)(6,kak,3,2,"ng-container",8),_.T(7,"async"),
_.H());if(a&2){a=_.ug(4);const b=_.Q();_.y();_.E("ngIf",_.U(2,4,b.hasPermissions$))("ngIfElse",a);_.y(4);_.E("ngIf",b.hasVersion);_.y();_.E("ngIf",_.U(7,6,b.keyOrVersionModel$))}},mak=function(a){a&1&&(_.G(0,"span",12),_.R(1," \u2013 "),_.H())},nak=function(a,b){a&1&&(_.G(0,"p",19),_.R(1),_.H());a&2&&(a=b.ngIf,_.y(),_.S(" ",a,"\n"))},oak=function(a){return _.YC(a).cryptoKeyVersionId!==void 0};_.o9a.prototype.hasVersion=_.ca(19,function(){return _.fm(this,5,_.db)});
_.bAa.prototype.hasVersion=_.ca(18,function(){return _.fm(this,3)});
var pak={type:1,path:"/kms/docs/hsm"},qak=function(a){a.JSC$402428__container&&(a.JSC$402428__layoutWatcher=a.JSC$402428__container.JSC$402380_layout$.subscribe(()=>{a.JSC$402428__updateWithValue()}))},rak=class extends _.EE{set offset(a){this._cacheInput("offset",a)}set offsetXs(a){this._cacheInput("offsetXs",a)}set offsetSm(a){this._cacheInput("offsetSm",a)}set offsetMd(a){this._cacheInput("offsetMd",a)}set offsetLg(a){this._cacheInput("offsetLg",a)}set offsetXl(a){this._cacheInput("offsetXl",a)}set offsetLtSm(a){this._cacheInput("offsetLtSm",
a)}set offsetLtMd(a){this._cacheInput("offsetLtMd",a)}set offsetLtLg(a){this._cacheInput("offsetLtLg",a)}set offsetLtXl(a){this._cacheInput("offsetLtXl",a)}set offsetGtXs(a){this._cacheInput("offsetGtXs",a)}set offsetGtSm(a){this._cacheInput("offsetGtSm",a)}set offsetGtMd(a){this._cacheInput("offsetGtMd",a)}set offsetGtLg(a){this._cacheInput("offsetGtLg",a)}constructor(a,b,c,d,e){super(a,b,c);this.JSC$402428__container=d;this.JSC$402428__directionality=e;this.JSC$402428__directionWatcher=this.JSC$402428__directionality.change.subscribe(this.JSC$402428__updateWithValue.bind(this));
qak(this)}ngOnChanges(a){(a.offset!=null||this._mqActivation)&&this.JSC$402428__updateWithValue()}ngOnDestroy(){super.ngOnDestroy();this.JSC$402428__layoutWatcher&&this.JSC$402428__layoutWatcher.unsubscribe();this.JSC$402428__directionWatcher&&this.JSC$402428__directionWatcher.unsubscribe()}ngOnInit(){super.ngOnInit();this._listenForMediaQueryChanges("offset",0,a=>{this.JSC$402428__updateWithValue(a.value)})}JSC$402428__updateWithValue(a){a=a||this._queryInput("offset")||0;this._mqActivation&&(a=
this._mqActivation.activatedInput);var b=this._applyStyleToElement,c=String(a).indexOf("%")>-1;String(a).indexOf("px")>-1||c||isNaN(a)||(a+="%");c=this.JSC$402428__directionality.value==="rtl"?"margin-right":"margin-left";let d=this._getFlowDirection(this.parentElement,!0);a=_.hZc(d)?{[c]:`${a}`}:{"margin-top":`${a}`};b.call(this,a)}};rak.\u0275fac=function(a){return new (a||rak)(_.Se(_.DE),_.Se(_.De),_.Se(_.Ci),_.Se(_.FE,12),_.Se(_.Ai))};
rak.\u0275dir=_.Xe({type:rak,selectors:[["","fxFlexOffset",""],["","fxFlexOffset.xs",""],["","fxFlexOffset.sm",""],["","fxFlexOffset.md",""],["","fxFlexOffset.lg",""],["","fxFlexOffset.xl",""],["","fxFlexOffset.lt-sm",""],["","fxFlexOffset.lt-md",""],["","fxFlexOffset.lt-lg",""],["","fxFlexOffset.lt-xl",""],["","fxFlexOffset.gt-xs",""],["","fxFlexOffset.gt-sm",""],["","fxFlexOffset.gt-md",""],["","fxFlexOffset.gt-lg",""]],inputs:{offset:[0,"fxFlexOffset","offset"],offsetXs:[0,"fxFlexOffset.xs","offsetXs"],
offsetSm:[0,"fxFlexOffset.sm","offsetSm"],offsetMd:[0,"fxFlexOffset.md","offsetMd"],offsetLg:[0,"fxFlexOffset.lg","offsetLg"],offsetXl:[0,"fxFlexOffset.xl","offsetXl"],offsetLtSm:[0,"fxFlexOffset.lt-sm","offsetLtSm"],offsetLtMd:[0,"fxFlexOffset.lt-md","offsetLtMd"],offsetLtLg:[0,"fxFlexOffset.lt-lg","offsetLtLg"],offsetLtXl:[0,"fxFlexOffset.lt-xl","offsetLtXl"],offsetGtXs:[0,"fxFlexOffset.gt-xs","offsetGtXs"],offsetGtSm:[0,"fxFlexOffset.gt-sm","offsetGtSm"],offsetGtMd:[0,"fxFlexOffset.gt-md","offsetGtMd"],
offsetGtLg:[0,"fxFlexOffset.gt-lg","offsetGtLg"]},standalone:!1,features:[_.Nf,_.fn]});
_.sak=class{constructor(){this.JSC$433654_iamPermissionsService=_.l(_.Yt);this.JSC$433654_kmsService=_.l(_.iPc);this.CONSOLE__KMS_DOCS_HSM=pak;this.resourceName$=new _.wf(1);this.hideResourceName=this.hasVersion=!1;this.iamPermission$=this.resourceName$.pipe(_.x(a=>oak(a)?"cloudkms.cryptoKeyVersions.get":"cloudkms.cryptoKeys.get"));this.iamCompatibleStub$=this.resourceName$.pipe(_.x(a=>oak(a)?new _.pj(a,44):new _.pj(a,39)));this.hasPermissions$=_.fe([this.iamPermission$,this.iamCompatibleStub$]).pipe(_.B(([a,
b])=>this.JSC$433654_iamPermissionsService.preFetchPermissions([a],[b])),_.oqa(_.fe([this.iamPermission$,this.iamCompatibleStub$])),_.x(([a,b])=>this.JSC$433654_iamPermissionsService.can(a,b)));this.keyOrVersionModel$=_.fe([this.hasPermissions$,this.resourceName$]).pipe(_.B(([a,b])=>a?oak(b)?this.JSC$433654_kmsService.getCryptoKeyVersion(b).pipe(_.Ze(()=>_.v(void 0))):this.JSC$433654_kmsService.getCryptoKey(b).pipe(_.Ze(()=>_.v(void 0))):_.v(void 0)))}set kmsResourceName(a){a&&a.match(_.aOc)&&(this.resource=
_.YC(a),this.hasVersion=oak(a),this.resourceName$.next(a))}};_.sak.\u0275fac=function(a){return new (a||_.sak)};
_.sak.\u0275cmp=_.A({type:_.sak,selectors:[["cfc-key-viewer"]],hostAttrs:[1,"cfc-key-viewer"],inputs:{kmsResourceName:"kmsResourceName",hideResourceName:"hideResourceName"},standalone:!1,decls:6,vars:5,consts:()=>[["noResource",""],["noPermissionKeyName",""],"Version\u00a0\ufffd0\ufffd","\ufffd#5\ufffd\ufffd/#5\ufffd\u00a0Non disponible","\ufffd#5\ufffdSauvegarde avec HSM\ufffd/#5\ufffd",["fxLayout","row"],[4,"ngIf","ngIfElse"],["class","resource-name cfc-color-secondary cfc-space-last",4,"ngIf"],
[4,"ngIf"],["target","_blank","class","resource-id",3,"cfc-external-link",4,"ngIf"],["target","_blank",1,"resource-id",3,"cfc-external-link"],["cfcIamNoPermissionTooltip","You do not have permissions to view this key.",3,"cfcIamCheck","cfcIamResource"],[1,"resource-id","cfc-color-disabled"],["fxFlexOffset","10px","aria-hidden","true"],["fxFlexOffset","10px",1,"version"],["fxFlexOffset","10px",1,"availability"],["icon","status-destroyed"],["fxFlexOffset","10px","title","The key is backed by Hardware Security Module (HSM)",
1,"hsmBacked"],[3,"cfcDocLink"],[1,"resource-name","cfc-color-secondary","cfc-space-last"]],template:function(a,b){a&1&&(_.G(0,"section",5),_.D(1,lak,8,8,"p",6)(2,mak,2,0,"ng-template",null,0,_.fh),_.H(),_.D(4,nak,2,1,"p",7),_.T(5,"async"));a&2&&(a=_.ug(3),_.y(),_.E("ngIf",b.resource)("ngIfElse",a),_.y(3),_.E("ngIf",_.U(5,3,!b.hideResourceName&&b.resourceName$)))},dependencies:[_.rn,_.ZVb,_.Oq,_.Tq,_.FE,rak,_.wy,_.Fp,_.wn,_.mmj],encapsulation:2,changeDetection:0});var tak;tak=[39,44];_.uak=class{constructor(){const a=_.l(_.Vt),b=_.l(_.oPc);for(const c of tak)_.Ut(a,c,b)}};_.uak.\u0275fac=function(a){return new (a||_.uak)};_.uak.\u0275mod=_.We({type:_.uak});_.uak.\u0275inj=_.Pc({imports:[_.An,_.px,_.Qq,_.Vq,_.KE,_.xy,_.Jp,_.qmj]});
}catch(e){_._DumpException(e)}
try{
_.Pek=function(a=!1,b=!1,c){return{badge:8,title:"V\u00e9rifications d'autorisations actAs",hiddenAndDisabled:a,readonly:{disableChildElementInlineEditing:!0},elements:{enforced:{radio:{label:b?"Application":void 0,hint:"Exigent que les utilisateurs qui lancent des jobs disposent de l'autorisation iam.serviceAccount.actAs sur les comptes de service. Cela garantit que seuls les utilisateurs autoris\u00e9s peuvent agir en tant que compte de service. Les programmations peuvent \u00e9chouer sans l'autorisation requise. ",
options:[{label:"Appliquer les v\u00e9rifications d'autorisations actAs (par d\u00e9faut)",value:!0},{label:"Ne pas appliquer",value:!1}],initialValue:c?c.pipe(_.x(d=>d!=null?d:!0)):!0}}}}};_.Qek=new _.go("45680525");
}catch(e){_._DumpException(e)}
try{
_.Rek=function(){return new _.Pk("matrix","regionalSecret")};_.Sek=class extends _.Mk{constructor(){super();this.project=this.registerParam(new _.Pk("query","project"));this.registerParam(_.Rek());this.extendPath(["security","secret-manager"])}};
}catch(e){_._DumpException(e)}
try{
_.ySi=(0,_.g)`<svg data-icon-name="addIcon" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"/></svg>`.firstElementChild;
}catch(e){_._DumpException(e)}
try{
var Ofk,Pfk,Qfk,Rfk,Sfk,Tfk,Ufk,Wfk,Xfk,Yfk,A1,Zfk,$fk,agk,bgk,cgk,dgk,egk,fgk,ggk,igk,jgk,kgk,lgk,mgk,ngk,ogk,pgk,qgk,rgk,sgk,tgk,ugk,vgk,wgk,xgk,ygk,zgk,Agk,Bgk,Cgk,Dgk,Egk,Fgk,Hgk,Igk,Kgk,Lgk,Mgk,Ngk,Ogk,Pgk,Qgk,Sgk,Tgk,Ugk,Vgk,Wgk,Xgk,Ygk,Zgk,$gk,ahk,bhk,chk,dhk,ehk,fhk,ghk,hhk,ihk,jhk,khk,lhk,mhk,nhk,ohk,phk,qhk,rhk,shk,thk,uhk,vhk,whk,xhk,yhk,zhk,Ahk,Bhk,Ehk,Fhk,Ghk,Ihk,Khk,Mhk,Ohk,Phk,Qhk,Thk,Uhk,Vhk,Whk,Xhk,Yhk,Zhk,$hk,aik,bik,cik,dik,eik,fik,gik,hik,iik,jik,kik,mik,nik,oik,pik,qik,rik,sik,
tik,uik,vik,wik,xik,zik,Bik;Ofk=function(){return _.nf((a,b)=>a.value===b.value)};Pfk=function(a){var b={lineBreakAfterBytes:16};if(!b.forceByteOutput)try{return _.dTc(a)}catch(d){}a=_.tVa(a);const c=b.lineBreakAfterBytes;return c?a.map((d,e)=>{e=c&&(e+1)%c===0?"\n":" ";return d.toString(16).padStart(2,"0")+e}).join("").trim():a.map(d=>d.toString(16).padStart(2,"0")).join(" ")};
Qfk=function(){return a=>{a=a.value;if(a instanceof Array&&a.length>0)for(const b of a){if(b instanceof File&&b.size<1)return{minFileSize:!0}}else if(a instanceof File&&a.size<1)return{minFileSize:!0};return null}};Rfk=function(a){return _.Ck(_.cxj(a),b=>_.Z2g(b))};Sfk=function(a){if(!a)return!1;try{return(new URL(a)).protocol==="https:"}catch(b){return!1}};Tfk=function(a){return a?_.Soj.test(a)||_.Roj.test(a):!1};
Ufk=function(a,b,c,d,e,f,h,n,q,r,u=!0){return{form:{name:"edit-repository-form",readonly:{compactDisplay:!0},elements:{repositoryId:{input:{readonly:!0,label:"Nom",initialValue:b.repositoryId}},location:{input:{readonly:!0,label:"Emplacement",initialValue:b.location}},serviceAccount:{singleSelect:{hidden:!d,options:d,footerButtons:[{label:"Saisie manuelle",action:c},{label:"Actualiser",progressIndicator:!0,hidden:!q,action:q}],initialValue:h,label:"Compte de service",tooltip:e==null?void 0:e.pipe(_.te(w=>
!!w),_.x(w=>_.Nj("Par d\u00e9faut, Dataform utilisera un compte de service d\u00e9riv\u00e9 de votre num\u00e9ro de projet\u00a0: {defaultServiceAccountEmail}",{defaultServiceAccountEmail:w})))}},strictActAsChecks:{section:_.Pek(!u,!0,r)},gitRemoteSettings:{section:{title:"Param\u00e8tres de connexion Git",readonly:!0,hidden:f==null?void 0:f.pipe(_.x(w=>!w||!(w==null?0:w.url)&&!(w==null?0:w.defaultBranch))),initialValue:f==null?void 0:f.pipe(_.x(w=>{let z,C;return{url:w==null?void 0:w.url,defaultBranch:w==
null?void 0:w.defaultBranch,authenticationTokenSecretVersion:w==null?void 0:w.authenticationTokenSecretVersion,sshAuthenticationConfig:{userPrivateKeySecretVersion:w==null?void 0:(z=w.sshAuthenticationConfig)==null?void 0:z.userPrivateKeySecretVersion,hostPublicKey:w==null?void 0:(C=w.sshAuthenticationConfig)==null?void 0:C.hostPublicKey}}})),elements:{url:{input:{label:"Source du d\u00e9p\u00f4t"}},defaultBranch:{input:{label:"Nom de la branche par d\u00e9faut"}},authenticationTokenSecretVersion:{input:{label:"Jeton secret",
hidden:f==null?void 0:f.pipe(_.x(w=>!w||!(w==null?0:w.authenticationTokenSecretVersion)))}},sshAuthenticationConfig:{section:{title:"Param\u00e8tres d'authentification SSH",hidden:f==null?void 0:f.pipe(_.x(w=>{let z,C;return!w||!(w==null?0:(z=w.sshAuthenticationConfig)==null?0:z.userPrivateKeySecretVersion)&&!(w==null?0:(C=w.sshAuthenticationConfig)==null?0:C.hostPublicKey)})),elements:{userPrivateKeySecretVersion:{input:{label:"Cl\u00e9 priv\u00e9e de l'utilisateur"}},hostPublicKey:{input:{label:"Cl\u00e9 publique de l'h\u00f4te"}}}}}}}},
encryptionSettings:{section:{title:"Param\u00e8tres de chiffrement",readonly:!0,hidden:!n,elements:{type:{singleSelect:{label:"Type",initialValue:n==null?void 0:n.pipe(_.x(w=>w?"customer-managed":"google-managed")),options:[{label:"G\u00e9r\u00e9 par le client",value:"customer-managed"},{label:"G\u00e9r\u00e9 par Google",value:"google-managed"}]}},kmsKeyName:{input:{label:"Cl\u00e9 de chiffrement",hidden:w=>!w.value,initialValue:n,readonly:{displayValue:{generic:new _.VF({angularClass:_.sak,angularModule:_.uak,
inputs:w=>({kmsResourceName:w.value})})}}}}}}}},onSubmit:({value:w})=>a(w).pipe(_.x(()=>{}))}}};
_.Vfk=function(a,b){switch(a.tokenStatus){case "INVALID":return a.errorMessage?"Impossible d'\u00e9tablir une connexion au fournisseur Git avec les identifiants configur\u00e9s. Si vous utilisez l'authentification HTTPS, v\u00e9rifiez que le jeton est valide et qu'il n'a pas expir\u00e9. Si vous utilisez l'authentification SSH, v\u00e9rifiez que la cl\u00e9 utilisateur priv\u00e9e et la cl\u00e9 de l'h\u00f4te public sont valides. Pour en savoir plus, consultez le message d'erreur suivant\u00a0:":"Impossible d'\u00e9tablir une connexion au fournisseur Git avec les identifiants configur\u00e9s. Si vous utilisez l'authentification HTTPS, v\u00e9rifiez que le jeton est valide et qu'il n'a pas expir\u00e9. Si vous utilisez l'authentification SSH, v\u00e9rifiez que la cl\u00e9 utilisateur priv\u00e9e et la cl\u00e9 de l'h\u00f4te public sont valides.";
case "NOT_FOUND":return _.Nj("Le compte de service par d\u00e9faut de Dataform n'a pas acc\u00e8s au secret configur\u00e9. Assurez-vous que le secret existe et qu'il est partag\u00e9 avec votre compte de service Dataform par d\u00e9faut\u00a0: {defaultServiceAccount}.",{defaultServiceAccount:b});default:return"Une erreur s'est produite lors du calcul de l'\u00e9tat de l'authentification."}};
Wfk=function(a){const b=RegExp("^[a-zA-Z0-9_]*$");return!a||b.test(a.replaceAll("${workspaceName}",""))?null:'Doit \u00eatre au format alphanum\u00e9rique (plus des traits de soulignement) et peut contenir le jeton "${workspaceName}"'};
Xfk=function(a){return{defaultDatabase:{input:{label:"ID de projet Google\u00a0Cloud",tooltip:{value:"ID du projet Google\u00a0Cloud dans lequel les tables seront mat\u00e9rialis\u00e9es. Les ID ne peuvent contenir que des caract\u00e8res latins."},initialValue:a==null?void 0:a.defaultDatabase}},schemaSuffix:{input:{label:"Suffixe du sch\u00e9ma",tooltip:{value:"Suffixe \u00e0 ajouter au nom d'un sch\u00e9ma"},initialValue:a==null?void 0:a.schemaSuffix,validations:[({value:b})=>Wfk(b)]}},tablePrefix:{input:{label:"Pr\u00e9fixe de la table",
tooltip:{value:"Pr\u00e9fixe \u00e0 ajouter au nom d'une table"},initialValue:a==null?void 0:a.tablePrefix,validations:[({value:b})=>Wfk(b)]}}}};
Yfk=function(a,b,c){const d={name:"compilation-overrides-settings-form",elements:Xfk(c),onSubmit:({value:e})=>a(e).pipe(_.x(()=>{}))};b={components:[{button:Object.assign({},_.nH,{action:e=>{let f;return(f=e.get(d))==null?void 0:f.submit()}})},{button:Object.assign({},_.oH,{action:b})}]};return{form:d,actionBar:{title:"Remplacements de compilation d'espace de travail"},footer:b}};A1=function(){return _.Bf({bufferSize:1,refCount:!0})};Zfk=function(a){return'Le secret "'+a+'" a \u00e9t\u00e9 cr\u00e9\u00e9'};
$fk=function(a){return"\u00c9chec de l'ajout d'une version de \""+a+'"'};agk=function(a){a&1&&(_.G(0,"cm-error",19),_.N(1,5),_.H())};bgk=function(a){a&1&&(_.G(0,"cm-error",19)(1,"span"),_.og(2,6),_.J(3,"max-payload-size"),_.pg(),_.H()())};cgk=function(a,b){a&1&&_.J(0,"cfc-help-button",20);a&2&&_.E("tooltip",b.ngIf)};
dgk=function(a,b){a&1&&(_.G(0,"p",21),_.og(1,7),_.J(2,"span",22)(3,"cfc-help-button",23),_.pg(),_.H());a&2&&(a=b.ngIf,_.Q(),b=_.ug(27),_.$f("cfc-visibility-hidden",a==="0x00000000"),_.y(3),_.E("tooltip",b),_.rg(a),_.sg(1))};egk=function(a){a&1&&(_.G(0,"div"),_.og(1,8),_.J(2,"a",24),_.pg(),_.H());a&2&&(a=_.Q(),_.y(2),_.E("cfcDocLink",a.CONSOLE__SECRET_MANAGER_DOCS_DATA_INTEGRITY)("ve",a.ve.SecretsChecksumLearnMoreLink)("veImpression",!0)("veClick",!0))};
fgk=function(a){a&1&&(_.G(0,"h3",7),_.N(1,2),_.H())};ggk=function(a){a&1&&(_.G(0,"h2",8),_.N(1,3),_.H())};igk=function(a){a=hgk.exec(a);return{projectId:a[1],secretId:a[3],versionId:a[4],locationId:a[2]}};jgk=function(a){a&1&&(_.G(0,"cm-error",15),_.N(1,4),_.H())};kgk=function(a){a&1&&(_.G(0,"cm-error",15),_.R(1),_.H());a&2&&(_.Q(),a=_.ug(12),_.y(),_.S(" ",a.builtInErrorMessage," "))};lgk=function(a){a&1&&(_.G(0,"cm-error",15),_.N(1,5),_.H())};
mgk=function(a){const b=new _.wf(1),c=b.pipe(_.ef(500),Ofk(),_.B(d=>_.Yd(a(d))));return d=>{b.next(d);return c.pipe(_.jf(1))}};ngk=function(a,b){const c=(a.value||"").localeCompare(b.value||"");return(a.key||"").localeCompare(b.key||"")||c};ogk=function(a){return{key:a.key,value:a.value}};pgk=function(a){return _.B(b=>{b=_.La(b!=null?b:null,a.split("."));return b===null||b===void 0?_.re:_.v(b)})};qgk=function(a){a&1&&_.J(0,"cm-icon",13)};rgk=function(a){a&1&&(_.G(0,"mat-hint"),_.N(1,2),_.H())};
sgk=function(a){a&1&&(_.G(0,"mat-hint"),_.N(1,3),_.H())};tgk=function(a){a&1&&(_.G(0,"cm-error",14),_.N(1,4),_.H())};ugk=function(a){a&1&&(_.G(0,"cm-error",14),_.N(1,5),_.H())};vgk=function(a){a&1&&(_.G(0,"cm-error",14)(1,"div"),_.og(2,6),_.J(3,"span",15)(4,"br")(5,"span",15),_.pg(),_.H()());a&2&&(a=_.Q(),_.y(5),_.rg(a.nameField.value)(a.projectId),_.sg(2))};wgk=function(a){a&1&&(_.G(0,"h2",15),_.N(1,1),_.H())};xgk=function(a){a&1&&(_.G(0,"h2",15),_.N(1,2),_.H())};
ygk=function(a){a&1&&(_.K(0),_.N(1,3),_.M())};zgk=function(a){a&1&&(_.K(0),_.N(1,4),_.M())};Agk=function(a){a&1&&(_.G(0,"a",16),_.N(1,5),_.H());a&2&&(a=_.Q(),_.E("cfcDocLink",a.CONSOLE__SECRET_MANAGER_DOCS_CHOOSING_REPLICATION)("ve",a.ve.SecretsReplicationPoliciesLearnMoreLink)("veImpression",!0)("veClick",!0))};
Bgk=function(a){a&1&&(_.G(0,"mat-checkbox",17,0),_.T(2,"async"),_.T(3,"async"),_.N(4,6),_.H());a&2&&(a=_.Q(),_.E("cfcDisable",_.U(2,5,a.manualReplicationDisabledTooltip$)!==void 0)("cfcDisableTooltip",_.U(3,7,a.manualReplicationDisabledTooltip$)||a.MSG_SECRET_CREATE_PENDING)("ve",a.ve.SecretsManualRegionCheckedToggle)("veImpression",!0)("veClick",!0))};Cgk=function(a,b){a&1&&(_.G(0,"mat-option",24),_.R(1),_.H());a&2&&(a=b.$implicit,_.E("value",a),_.y(),_.S(" ",a," "))};
Dgk=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,8),_.H())};
Egk=function(a){a&1&&(_.G(0,"mat-form-field",20)(1,"mat-label"),_.N(2,7),_.H(),_.G(3,"cfc-select",21),_.D(4,Cgk,2,2,"mat-option",22),_.T(5,"async"),_.H(),_.D(6,Dgk,2,0,"cm-error",23),_.H());a&2&&(a=_.Q(2),_.y(3),_.E("observable",a.availableRegions$)("multiple",!0)("hasOkCancelButtons",!0)("hasFilter",!0)("requireSelection",!0)("ve",a.ve.SecretsManualRegionSelect)("veImpression",!0)("veClick",!0),_.y(),_.E("ngForOf",_.U(5,10,a.availableRegions$)),_.y(2),_.E("cfcDebounceErrorFor","required"))};
Fgk=function(a){a&1&&(_.G(0,"section",18),_.D(1,Egk,7,12,"mat-form-field",19),_.H());a&2&&(a=_.Q(),_.y(),_.E("ngIf",a.isRegionalizedField.value))};
Hgk=function(a){a&1&&(_.G(0,"section"),_.J(1,"cfc-location-selection",26),_.T(2,"async"),_.T(3,"async"),_.H());if(a&2){a=_.Q();_.y();let b,c;_.E("formControl",a.locationField)("locations",(b=_.U(2,5,a.detailedLocations$))!=null?b:_.Xg(9,Ggk))("required",!0)("allowedTypes",(c=_.U(3,7,a.supportedLocationTypes$))!=null?c:_.Xg(10,Ggk))("enableSingleRegionTreatment",!0)}};
Igk=function({regions:a,encryptionConfiguration:b}){if(a)return{userManaged:{replicas:a.map(c=>{const d=b?b.get(c):void 0;return{location:c,customerManagedEncryption:d?{kmsKeyName:d}:void 0}})}};a=b?b.get("global"):void 0;return{automatic:{customerManagedEncryption:a?{kmsKeyName:a}:void 0}}};Kgk=function(a){a=Jgk.exec(a);return{projectId:a[1],locationId:a[2],secretId:a[3],versionId:a[4]}};Lgk=function(a,b,c,d){a="projects/"+a;d&&(a+="/locations/"+d);b&&(a+="/secrets/"+b,c&&(a+="/versions/"+c));return a};
Mgk=function(a){const {projectId:b,secretId:c,locationId:d}=Kgk(a);return Lgk(b,c,void 0,d)};Ngk=function(a){a&1&&(_.G(0,"li"),_.N(1,7),_.H())};Ogk=function(a){a&1&&_.J(0,"cfc-icon",32)};Pgk=function(a){a&1&&_.mg(0)};Qgk=function(a){a&1&&_.mg(0)};Sgk=function(a){a&1&&(_.G(0,"cm-error",33)(1,"span"),_.N(2,8),_.H(),_.D(3,Qgk,1,0,"ng-container",27),_.H());if(a&2){a=_.Q();const b=_.ug(34);_.y(3);_.E("ngTemplateOutlet",b)("ngTemplateOutletContext",_.Yg(2,Rgk,a.canEnterVersion))}};
Tgk=function(a){a&1&&_.mg(0)};Ugk=function(a){a&1&&(_.G(0,"cm-error",33)(1,"span"),_.N(2,9),_.H(),_.D(3,Tgk,1,0,"ng-container",27),_.H());if(a&2){a=_.Q();const b=_.ug(34);_.y(3);_.E("ngTemplateOutlet",b)("ngTemplateOutletContext",_.Yg(2,Rgk,a.canEnterVersion))}};Vgk=function(a){a&1&&(_.G(0,"cm-error",33)(1,"span"),_.N(2,10),_.H()())};Wgk=function(a){a&1&&(_.G(0,"cm-error",33)(1,"span"),_.N(2,11),_.H()())};Xgk=function(a){a&1&&(_.G(0,"cm-error",33)(1,"span"),_.N(2,12),_.H()())};
Ygk=function(a){a&1&&(_.G(0,"cm-error",33)(1,"span"),_.N(2,13),_.H()())};Zgk=function(a){a&1&&(_.G(0,"cfc-message",34)(1,"cfc-message-text"),_.N(2,14),_.H()())};$gk=function(a){a&1&&(_.G(0,"div",35),_.og(1,16),_.J(2,"span",35),_.pg(),_.H());a&2&&(_.y(2),_.rg('"projects/project-number/secrets/secret-name/versions/1"'),_.sg(1))};
ahk=function(a){a&1&&(_.K(0),_.G(1,"div",35),_.og(2,15),_.J(3,"span",35),_.pg(),_.H(),_.D(4,$gk,3,1,"div",36),_.M());a&2&&(a=_.Q().canEnterVersion,_.y(3),_.rg('"projects/project-number/secrets/secret-name"'),_.sg(2),_.y(),_.E("ngIf",a))};bhk=function(a){a&1&&(_.G(0,"div"),_.og(1,18),_.J(2,"span",35),_.pg(),_.H());a&2&&(_.y(2),_.rg('"projects/project-number/locations/location-id/secrets/secret-name/versions/1"'),_.sg(1))};
chk=function(a){a&1&&(_.K(0),_.G(1,"div"),_.og(2,17),_.J(3,"span",35),_.pg(),_.H(),_.D(4,bhk,3,1,"div",24),_.M());a&2&&(a=_.Q().canEnterVersion,_.y(3),_.rg('"projects/project-number/locations/location-id/secrets/secret-name"'),_.sg(2),_.y(),_.E("ngIf",a))};dhk=function(a){a&1&&_.D(0,ahk,5,2,"ng-container",24)(1,chk,5,2,"ng-container",24);a&2&&(a=_.Q(),_.E("ngIf",!a.isRegionalSecret),_.y(),_.E("ngIf",a.isRegionalSecret))};
ehk=function(a){a&1&&(_.K(0),_.J(1,"cfc-select-rich-option",31),_.M());a&2&&(a=_.Q(4).$implicit,_.y(),_.Bg("primary",a.name))};fhk=function(a,b){a&1&&(_.K(0),_.D(1,ehk,2,1,"ng-container",30),_.T(2,"toProjectId"),_.T(3,"toProjectId"),_.M());if(a&2){a=b.ngIf;b=_.Q().ngIf;const c=_.Q(2).$implicit,d=_.ug(3),e=_.Q(2);_.y();_.E("ngIf",e.manuallyEnteredSecretResourceName===c.name||_.U(2,2,c.name)!==b&&_.U(3,4,c.name)!==a)("ngIfElse",d)}};
ghk=function(a){a&1&&(_.K(0),_.D(1,fhk,4,6,"ng-container",30),_.T(2,"async"),_.M());if(a&2){_.Q(2);a=_.ug(3);const b=_.Q(2);_.y();_.E("ngIf",_.U(2,2,b.projectNumber$))("ngIfElse",a)}};hhk=function(a){a&1&&(_.K(0),_.D(1,ghk,3,4,"ng-container",30),_.T(2,"async"),_.M());if(a&2){_.Q();a=_.ug(3);const b=_.Q(2);_.y();_.E("ngIf",_.U(2,2,b.projectId$))("ngIfElse",a)}};ihk=function(a){a&1&&_.J(0,"cfc-select-rich-option",31);a&2&&(a=_.Q().$implicit,_.Bg("primary",a.displayName))};
jhk=function(a){a&1&&(_.D(0,hhk,3,4,"ng-container",30),_.T(1,"async"),_.D(2,ihk,1,1,"ng-template",null,3,_.fh));if(a&2){a=_.ug(3);const b=_.Q(2);_.E("ngIf",_.U(1,2,b.isSecretInSecretList$)===!1)("ngIfElse",a)}};khk=function(a){a&1&&(_.G(0,"mat-hint"),_.R(1),_.H());a&2&&(a=_.Q(2),_.y(),_.Pg(a.secretHint))};lhk=function(a){a&1&&(_.G(0,"cm-error",32),_.N(1,7),_.H())};mhk=function(a){a&1&&(_.K(0),_.R(1),_.M());a&2&&(a=_.Q(3),_.y(),_.S(" ",a.regionsErrorMessage," "))};nhk=function(a){a&1&&_.N(0,8)};
ohk=function(a){a&1&&(_.G(0,"cm-error",32),_.D(1,mhk,2,1,"ng-container",30)(2,nhk,1,0,"ng-template",null,4,_.fh),_.H());if(a&2){a=_.ug(3);const b=_.Q(2);_.y();_.E("ngIf",b.regionsErrorMessage)("ngIfElse",a)}};
phk=function(a){if(a&1){const b=_.m();_.G(0,"mat-form-field")(1,"mat-label");_.R(2);_.H();_.G(3,"cfc-select",28,2);_.T(5,"async");_.T(6,"async");_.T(7,"async");_.P("onOpen",function(){_.p(b);const c=_.Q();c.refreshSecretSelectOnOpen&&c.refreshSecretSelect$.next();return _.t(void 0)});_.D(8,jhk,4,4,"ng-template");_.H();_.D(9,khk,2,1,"mat-hint",24)(10,lhk,2,0,"cm-error",29)(11,ohk,4,2,"cm-error",29);_.H()}if(a&2){a=_.Q();const b=_.ug(9);_.y(2);_.S(" ",a.secretSelectLabel," ");_.y();_.E("formControl",
a.secretControl)("hasFilter",!0)("isRequired",a.required)("hasOkCancelButtons",!0)("leftButtons",b)("manager",_.U(5,16,a.secretSelectManager$))("isLoading",_.U(6,18,a.isLoadingSecrets$))("additionalOptions",_.U(7,20,a.additionalSecrets$))("ve",a.ve.SecretPickerSecretSelect)("veImpression",!0)("veClick",!0)("noneOptionText",a.showNoneOption?a.MSG_SECRET_PICKER_NONE_OPTION_TEXT:void 0);_.y(6);_.E("ngIf",a.secretHint);_.y();_.E("cfcDebounceErrorFor","required");_.y();_.E("cfcDebounceErrorFor","region")}};
qhk=function(a){a&1&&(_.G(0,"mat-option",36)(1,"div",37),_.J(2,"mat-spinner",38),_.G(3,"span",39),_.N(4,9),_.H()()());a&2&&_.E("disabled",!0)};rhk=function(a){a&1&&(_.G(0,"mat-option",44)(1,"div",45)(2,"span"),_.R(3),_.T(4,"async"),_.H()()());if(a&2){a=_.Q(3);_.E("disabled",!0);_.y(3);var b=(a=(b=_.U(4,2,a.filterString$))!=null?b:"")?_.Nj('Aucun secret trouv\u00e9 avec le filtre "{filter}"',{filter:a}):"Aucun secret trouv\u00e9";_.S(" ",b," ")}};
shk=function(a,b){a&1&&(_.G(0,"mat-option",46),_.R(1),_.H());a&2&&(a=b.$implicit,_.E("value",a.name),_.y(),_.S(" ",a.displayName," "))};thk=function(a,b){a&1&&(_.G(0,"mat-option",46),_.R(1),_.H());a&2&&(a=b.$implicit,_.E("value",a.name),_.y(),_.S(" ",a.displayName," "))};uhk=function(a,b){a&1&&(_.G(0,"mat-optgroup",47),_.D(1,thk,2,2,"mat-option",41),_.H());a&2&&(a=b.$implicit,_.E("label",a.key),_.y(),_.E("ngForOf",a.value))};
vhk=function(a){a&1&&(_.G(0,"mat-option",48),_.N(1,10),_.H());a&2&&_.E("disabled",!0)};
whk=function(a){a&1&&(_.K(0),_.G(1,"div",34),_.D(2,rhk,5,4,"mat-option",40),_.T(3,"async"),_.H(),_.D(4,shk,2,2,"mat-option",41),_.T(5,"async"),_.D(6,uhk,2,2,"mat-optgroup",42),_.T(7,"async"),_.T(8,"keyvalue"),_.D(9,vhk,2,1,"mat-option",43),_.T(10,"async"),_.M());a&2&&(a=_.Q(2),_.y(2),_.E("ngIf",_.U(3,4,a.emptyRegionalSecretsList$)),_.y(2),_.E("ngForOf",_.U(5,6,a.additionalSecrets$)),_.y(2),_.E("ngForOf",_.U(8,10,_.U(7,8,a.regionalSecretGroups$))),_.y(3),_.E("ngIf",_.U(10,12,a.regionalSecretsListTooLong$)===
!0))};xhk=function(a){a&1&&(_.G(0,"cm-error",32),_.N(1,11),_.H())};
yhk=function(a){if(a&1){const b=_.m();_.G(0,"mat-form-field")(1,"mat-label");_.R(2);_.H();_.G(3,"cfc-select",33,2);_.T(5,"async");_.P("filterStringChange",function(c){_.p(b);const d=_.Q();return _.t(d.onFilterStringChange(c))})("onOpen",function(){_.p(b);const c=_.Q();c.refreshSecretSelectOnOpen&&c.refreshSecretSelect$.next();return _.t(void 0)});_.G(6,"div",34);_.D(7,qhk,5,1,"mat-option",35);_.H();_.D(8,whk,11,14,"ng-container",24);_.H();_.D(9,xhk,2,0,"cm-error",29);_.H()}if(a&2){a=_.Q();const b=
_.ug(11);_.y(2);_.S(" ",a.secretSelectLabel," ");_.y();_.E("formControl",a.secretControl)("hasFilter",!0)("isRequired",a.required)("hasOkCancelButtons",!0)("leftButtons",b)("isLoading",_.U(5,15,a.isLoadingSecrets$))("ve",a.ve.SecretPickerSecretSelect)("veImpression",!0)("veClick",!0)("filterFunction",a.filterFunction)("noneOptionText",a.showNoneOption?a.MSG_SECRET_PICKER_NONE_OPTION_TEXT:void 0);_.y(4);_.E("ngIf",a.fetchingSecrets);_.y();_.E("ngIf",!a.fetchingSecrets);_.y();_.E("cfcDebounceErrorFor",
"required")}};zhk=function(a){a&1&&(_.G(0,"cfc-message",49)(1,"cfc-message-text"),_.K(2),_.N(3,12),_.M(),_.G(4,"a",50),_.N(5,13),_.H()()());a&2&&(a=_.Q(),_.y(4),_.E("cfcDocLink",a.dl.CONSOLE__SECRET_MANAGER_DOCS_LOCATIONS))};Ahk=function(a){a&1&&(_.G(0,"mat-checkbox",51),_.N(1,14),_.H());a&2&&(a=_.Q(),_.E("formControl",a.usingLatestVersionControl)("ve",a.ve.SecretPickerLatestVersionCheckedToggle)("veImpression",!0)("veClick",!0))};
Bhk=function(a,b){a&1&&_.J(0,"cfc-select-rich-option",31);a&2&&_.Bg("primary",b.$implicit.displayName)};Ehk=function(a){if(a&1){const b=_.m();_.G(0,"button",53);_.T(1,"async");_.P("click",function(){_.p(b);const c=_.Q(2);return _.t(Chk(c))});_.N(2,16);_.H()}a&2&&(a=_.Q(2),_.E("cfcIamCheck",_.Yg(7,Dhk,a.ADD_VERSION_PERMISSION))("cfcIamResource",_.U(1,5,a.secretStub$))("ve",a.ve.SecretPickerAddSecretVersionButton)("veImpression",!0)("veClick",!0))};
Fhk=function(a){a&1&&(_.G(0,"mat-hint"),_.R(1),_.H());a&2&&(a=_.Q(2),_.y(),_.Pg(a.secretVersionHint))};Ghk=function(a){a&1&&(_.G(0,"cm-error",32),_.N(1,17),_.H())};
Ihk=function(a){a&1&&(_.G(0,"mat-form-field")(1,"mat-label"),_.N(2,15),_.H(),_.G(3,"cfc-select",52,5),_.T(5,"async"),_.T(6,"async"),_.T(7,"async"),_.D(8,Bhk,1,1,"ng-template")(9,Ehk,3,9,"ng-template",null,6,_.fh),_.H(),_.D(11,Fhk,2,1,"mat-hint",24)(12,Ghk,2,0,"cm-error",29),_.H());if(a&2){a=_.ug(10);const b=_.Q();_.y(3);_.E("formControl",b.versionControl)("isRequired",b.required)("hasOkCancelButtons",!0)("leftButtons",a)("manager",_.U(5,14,b.secretVersionsSelectManager$))("isLoading",_.U(6,16,b.isLoadingSecretVersions$))("additionalOptions",
_.U(7,18,b.additionalSecretVersions$))("cfcDisable",!!Hhk(b))("cfcDisableTooltip",Hhk(b)||b.MSG_DEFAULT_VERSION_SELECT_DISABLED)("ve",b.ve.SecretPickerSecretVersionSelect)("veImpression",!0)("veClick",!0);_.y(8);_.E("ngIf",b.secretVersionHint);_.y();_.E("cfcDebounceErrorFor","required")}};Khk=function(a){if(a&1){const b=_.m();_.G(0,"mat-slide-toggle",54);_.P("change",function(c){_.p(b);const d=_.Q();return _.t(Jhk(d,c.checked))});_.N(1,18);_.H()}a&2&&(a=_.Q(),_.E("checked",a.displayRegionalSecrets))};
Mhk=function(a){if(a&1){const b=_.m();_.G(0,"button",57);_.T(1,"async");_.P("click",function(){_.p(b);const c=_.Q(2);return _.t(Lhk(c))});_.N(2,20);_.H()}if(a&2){a=_.Q(2);let b;_.E("cfcDisable",(b=_.U(1,5,a.secretManagerApiDisabled$))!=null?b:!1)("cfcIamCheck",_.Yg(7,Dhk,a.CREATE_SECRET_PERMISSION))("ve",a.ve.SecretPickerCreateSecretButton)("veImpression",!0)("veClick",!0)}};
Ohk=function(a){if(a&1){const b=_.m();_.G(0,"button",55);_.P("click",function(){_.p(b);const c=_.Q();return _.t(Nhk(c))});_.N(1,19);_.H();_.D(2,Mhk,3,9,"button",56)}a&2&&(a=_.Q(),_.E("ve",a.ve.SecretPickerEnterManualSecretButton)("veImpression",!0)("veClick",!0),_.y(2),_.E("ngIf",!a.isJurisdictionalized))};
Phk=function(a){if(a&1){const b=_.m();_.G(0,"button",55);_.P("click",function(){_.p(b);const c=_.Q();return _.t(Nhk(c))});_.N(1,21);_.H();_.G(2,"button",58);_.T(3,"async");_.P("click",function(){_.p(b);const c=_.Q();return _.t(Lhk(c))});_.N(4,22);_.H()}if(a&2){a=_.Q();_.E("ve",a.ve.SecretPickerEnterManualSecretButton)("veImpression",!0)("veClick",!0);_.y(2);let b;_.E("cfcDisable",(b=_.U(3,8,a.secretManagerApiDisabled$))!=null?b:!1)("cfcIamCheck",_.Yg(10,Dhk,a.CREATE_SECRET_PERMISSION))("ve",a.ve.SecretPickerCreateSecretButton)("veImpression",
!0)("veClick",!0)}};Qhk=function(a){a=Kgk(a);return Lgk(a.projectId,a.secretId,"latest")};Thk=function(a,b){return{component:{angularComponent:new _.VF({angularClass:Rhk,angularModule:Shk,inputs:{validateExistence:!1,refreshSecretSelectOnOpen:!0}}),formGroup:()=>{const c=new _.W2c({secret:new _.Gr});var d=c.setValue;if(b){var e=Kgk(b);e=Lgk(e.projectId,e.secretId)}else e="";d.call(c,{secret:e});return c},hiddenAndDisabled:c=>{let d;return((d=c.remoteUrlProtocol)==null?void 0:d.value)!==a}}}};
Uhk=function(a,b){let c;return(a==null?0:(c=a.gitRemoteSettings)==null?0:c.url)?"Mettre \u00e0 jour":b?"Se connecter":"Lien"};
Vhk=function(a,b,c,d,e=!1){var f;let h,n,q,r,u,w,z,C;const I={name:"git-connection-details-form",elements:{remoteUrlProtocol:{radio:{label:"Protocole du d\u00e9p\u00f4t Git distant",options:[{label:"HTTPS",value:0},{label:"SSH",value:1}],initialValue:Sfk(d==null?void 0:(f=d.gitRemoteSettings)==null?void 0:f.url)?0:Tfk(d==null?void 0:(h=d.gitRemoteSettings)==null?void 0:h.url)?1:void 0,hidden:!1}},url:{input:{required:!0,label:"URL du d\u00e9p\u00f4t Git distant",tooltip:{value:"URL du d\u00e9p\u00f4t \u00e0 associer, par exemple https://a.com/remote.git"},
validations:[O=>{let W;if(((W=O.remoteUrlProtocol)==null?void 0:W.value)===1)return Tfk(O.value)?null:"L'URL SSH doit \u00eatre valide.";let X;return((X=O.remoteUrlProtocol)==null?void 0:X.value)===0?Sfk(O.value)?null:"Vous devez saisir une URL HTTPS valide.":null}],initialValue:d==null?void 0:(n=d.gitRemoteSettings)==null?void 0:n.url,hint:{value:O=>{var W=(O=O==null?void 0:(W=O.url)==null?void 0:W.value)&&!O.endsWith(".git")?"Les URL des d\u00e9p\u00f4ts Git distants se terminent g\u00e9n\u00e9ralement par .git":
null;return W!=null?W:""}}}},defaultBranch:{input:{required:!0,label:"Nom de la branche par d\u00e9faut",tooltip:{value:'Nom de la branche par d\u00e9faut du d\u00e9p\u00f4t distant, par exemple "main"'},validations:[],initialValue:d==null?void 0:(q=d.gitRemoteSettings)==null?void 0:q.defaultBranch}},personalAccessTokenSecret:Thk(0,d==null?void 0:(r=d.gitRemoteSettings)==null?void 0:r.authenticationTokenSecretVersion),sshAuthenticationConfig:{section:{title:"Param\u00e8tres d'authentification SSH",
elements:{userPrivateKeySecret:Thk(1,d==null?void 0:(u=d.gitRemoteSettings)==null?void 0:(w=u.sshAuthenticationConfig)==null?void 0:w.userPrivateKeySecretVersion),hostPublicKey:{input:{required:!0,textarea:{rows:5},label:"Valeur de la cl\u00e9 d'h\u00f4te publique SSH",tooltip:{value:"Valeur de la cl\u00e9 d'h\u00f4te publique SSH permettant de v\u00e9rifier son identit\u00e9"},validations:[],initialValue:d==null?void 0:(z=d.gitRemoteSettings)==null?void 0:(C=z.sshAuthenticationConfig)==null?void 0:
C.hostPublicKey}}},disabled:O=>{let W;return((W=O.remoteUrlProtocol)==null?void 0:W.value)!==1},hidden:O=>{let W;return((W=O.remoteUrlProtocol)==null?void 0:W.value)!==1}}}},onSubmit:({value:O})=>a(O).pipe(_.x(()=>{}))};f={title:e?"Se connecter au d\u00e9p\u00f4t distant":"Lien vers le d\u00e9p\u00f4t distant"};b=[{button:Object.assign({},_.nH,{label:Uhk(d,e),action:O=>{let W;return(W=O.get(I))==null?void 0:W.submit()}})},{button:Object.assign({},_.oH,{action:b})}];let L;(d==null?0:(L=d.gitRemoteSettings)==
null?0:L.url)&&b.push({button:{progressIndicator:!0,label:"Supprimer la connexion",action:O=>{let W;return c((W=O.get(I))==null?void 0:W.value)}}});return{form:I,actionBar:f,footer:{components:b}}};Whk=function(a,b){a&1&&(_.og(0,1,1),_.J(1,"b"),_.pg());a&2&&(a=b.ngIf,_.y(),_.rg(a),_.sg(0))};Xhk=function(a){a=Kgk(a);return Lgk(a.projectId,a.secretId,"latest")};
Yhk=function(a,b,c){const d={name:"npm-package-secret-form",elements:{tokenSecret:{component:{angularComponent:new _.VF({angularClass:Rhk,angularModule:Shk,inputs:{validateExistence:!1,refreshSecretSelectOnOpen:!0}}),formGroup:()=>{const e=new _.W2c({secret:new _.Gr});var f=e.setValue,h;(h=c==null?void 0:c.npmrcEnvironmentVariablesSecretVersion)?(h=Kgk(h),h=Lgk(h.projectId,h.secretId)):h="";f.call(e,{secret:h});return e}}}},onSubmit:({value:e})=>a(e).pipe(_.x(()=>{}))};b={components:[{button:Object.assign({},
_.nH,{action:e=>{let f;return(f=e.get(d))==null?void 0:f.submit()}})},{button:Object.assign({},_.oH,{action:b})}]};return{form:d,actionBar:{title:"Ajouter un jeton secret pour les packages npm"},footer:b}};Zhk=function(a,b){a&1&&(_.og(0,1,1),_.J(1,"b"),_.pg());a&2&&(a=b.ngIf,_.y(),_.rg(a),_.sg(0))};$hk=function(a){a&1&&(_.og(0,1,1),_.J(1,"cfc-icon",23),_.pg())};aik=function(a){a&1&&(_.og(0,1,2),_.J(1,"cfc-icon",24),_.pg())};
bik=function(a){if(a&1){const b=_.m();_.G(0,"button",20);_.P("click",function(){_.p(b);_.Q(2).gitConnectionDetails.open();return _.t(void 0)});_.og(1,1);_.D(2,$hk,2,0,"cfc-icon",21)(3,aik,2,0,"cfc-icon",22);_.pg();_.H()}a&2&&(a=_.Q().ngIf,_.E("cmNativeDisabled",!a),_.y(2),_.E("ngIf",!a),_.y(),_.E("ngIf",!!a))};cik=function(a){if(a&1){const b=_.m();_.G(0,"button",25);_.P("click",function(){_.p(b);_.Q(2).gitConnectionDetails.open();return _.t(void 0)});_.og(1,2);_.J(2,"cfc-icon",24);_.pg();_.H()}};
dik=function(a){if(a&1){const b=_.m();_.G(0,"button",25);_.P("click",function(){_.p(b);_.Q(2).npmPackageSecret.open();return _.t(void 0)});_.og(1,3);_.J(2,"cfc-icon",24);_.pg();_.H()}};eik=function(a){if(a&1){const b=_.m();_.G(0,"cfc-message",29)(1,"cfc-message-text")(2,"span",30);_.R(3," Successfully linked to remote Git repository ");_.H()();_.G(4,"cfc-message-actions")(5,"button",25);_.P("click",function(){_.p(b);_.Q(3).showGitConnectionDetailsSuccess=!1;return _.t(void 0)});_.N(6,4);_.H()()()}};
fik=function(a,b){a&1&&(_.G(0,"cfc-message-text"),_.R(1),_.G(2,"div",32),_.R(3),_.H(),_.G(4,"a",33),_.R(5," View docs on connecting a remote git repository. "),_.H()());if(a&2){a=b.ngIf;b=_.Q(2).ngIf;const c=_.Q(2);_.y();_.S(" ",c.getAuthenticationStatusDescription(b,a)," ");_.y(2);_.S(" ",(b==null?null:b.errorMessage)||""," ");_.y();_.E("cfcDocLink",c.connectRepositoryDocLink)}};
gik=function(a){a&1&&(_.G(0,"cfc-message",31),_.D(1,fik,6,3,"cfc-message-text",9),_.T(2,"async"),_.H());a&2&&(a=_.Q(3),_.y(),_.E("ngIf",_.U(2,1,a.defaultServiceAccountEmail)))};hik=function(a,b){a&1&&(_.G(0,"div",26),_.D(1,eik,7,0,"cfc-message",27)(2,gik,3,3,"cfc-message",28),_.H());a&2&&(a=b.ngIf,b=_.Q(2),_.y(),_.E("ngIf",b.showGitConnectionDetailsSuccess&&a.tokenStatus===b.authenticationStatusEnum.VALID),_.y(),_.E("ngIf",a.tokenStatus!==b.authenticationStatusEnum.VALID))};
iik=function(a,b){a&1&&_.J(0,"service-account-permissions-granter",17);a&2&&(a=_.Q(2),_.E("requiredGrants",b)("learnMoreDocLink",a.dl.CONSOLE__DATAFORM_DOCS_REQUIRED_ACCESS))};jik=function(a,b){a&1&&(_.K(0),_.J(1,"compilation-overrides-detail",39),_.M());a&2&&(a=b.ngIf,_.y(),_.E("compilationOverrides",a))};kik=function(a){a&1&&(_.G(0,"p",40),_.N(1,8),_.H())};
mik=function(a){if(a&1){const b=_.m();_.G(0,"div",13)(1,"div",34)(2,"cfc-heading",35);_.N(3,5);_.H();_.G(4,"button",36);_.P("click",function(){_.p(b);_.Q(2).compilationOverridesSettings.open();return _.t(void 0)});_.og(5,6);_.J(6,"cfc-icon",37);_.pg();_.H()();_.K(7);_.og(8,7);_.G(9,"p");_.J(10,"a",33);_.H();_.pg();_.M();_.D(11,jik,2,1,"ng-container",38);_.T(12,"async");_.D(13,kik,2,0,"ng-template",null,0,_.fh);_.H()}if(a&2){a=_.ug(14);const b=_.Q(2);_.y(2);_.E("visualLevel",5)("removeMargins",!0);
_.y(2);_.E("cfcIamCheck",_.Xg(8,lik));_.y(6);_.E("cfcDocLink",b.dl.CONSOLE__DATAFORM_DOCS_COMPILATION_OVERRIDES);_.y();_.E("ngIf",_.U(12,6,b.compilationOverrides$))("ngIfElse",a)}};
nik=function(a,b){a&1&&(_.K(0),_.G(1,"div",12)(2,"div",13),_.K(3),_.D(4,bik,4,3,"button",14)(5,cik,3,0,"button",15)(6,dik,3,0,"button",15),_.M(),_.H(),_.G(7,"div",13),_.K(8),_.D(9,hik,3,2,"div",16),_.T(10,"async"),_.F(11,iik,1,2,"service-account-permissions-granter",17),_.T(12,"async"),_.J(13,"raf-form",18),_.M(),_.H(),_.D(14,mik,15,9,"div",19),_.H(),_.M());if(a&2){let c;a=b.ngIf;b=_.Q();_.y(4);_.E("ngIf",!(a==null?0:a.gitRemoteSettings==null?0:a.gitRemoteSettings.url));_.y();_.E("ngIf",a==null?null:
a.gitRemoteSettings==null?null:a.gitRemoteSettings.url);_.y();_.E("ngIf",!b.isBQUI);_.y(3);_.E("ngIf",_.U(10,7,b.repositoryAuthenticationStatus$));_.y(2);_.gg((c=_.U(12,9,b.serviceAccountRequiredGrants$))?11:-1,c);_.y(2);_.E("content",b.editRepoRaf==null?null:b.editRepoRaf.form);_.y();_.E("ngIf",!b.isBQUI)}};oik={type:1,path:"/bigquery/docs/repositories#connect-third-party"};pik={type:1,path:"/dataform/docs/workspace-compilation-overrides"};qik={type:1,path:"/dataform/docs/connect-repository"};
rik={type:1,path:"/secret-manager/docs/choosing-replication"};sik={type:1,path:"/secret-manager/docs/creating-and-accessing-secrets#create"};tik={type:1,path:"/secret-manager/docs/creating-and-managing-expiring-secrets"};uik={type:1,path:"/secret-manager/docs/data-integrity"};vik={type:1,path:"/secret-manager/docs/locations"};wik={type:1,path:"/secret-manager/regional-secrets/create-regional-secret#create-a-regional-secret"};xik={type:1,path:"/secret-manager/regional-secrets/set-expiration-regional-secrets"};
_.yik={TOKEN_STATUS_UNSPECIFIED:"TOKEN_STATUS_UNSPECIFIED",NOT_FOUND:"NOT_FOUND",INVALID:"INVALID",VALID:"VALID"};
zik=class{constructor(){this.elementRef=_.l(_.De);this.ve={CfcCodeSnippetInline:54697};this.hasBeenFocused=!1}ngAfterViewInit(){this.content=this.elementRef.nativeElement;this.highlightableElement=this.content.querySelector(".cfc-code-snippet-inline")}handleFocus(){this.hasBeenFocused||(this.hasBeenFocused=!0,this.highlightableElement&&_.Kze(this.highlightableElement))}handleBlur(){this.hasBeenFocused=!1;_.Jze()}};zik.\u0275fac=function(a){return new (a||zik)};
zik.\u0275cmp=_.A({type:zik,selectors:[["","cfc-code-snippet-inline",""]],hostAttrs:[1,"cfc-outline-focus-indicator"],hostVars:1,hostBindings:function(a,b){a&1&&_.P("focusin",function(){return b.handleFocus()})("focusout",function(){return b.handleBlur()});a&2&&_.Xf("tabindex",-1)},attrs:["cfc-code-snippet-inline",""],ngContentSelectors:["*"],decls:2,vars:1,consts:[[1,"cfc-code-snippet-inline",3,"ve"]],template:function(a,b){a&1&&(_.yg(),_.G(0,"span",0),_.zg(1),_.H());a&2&&_.E("ve",b.ve.CfcCodeSnippetInline)},
dependencies:[_.An,_.Aqg,_.qt,_.Sq],styles:['body[data-cm-color-scheme=dark]:where([data-cm-dark-launched=true])   .cm-gm2[_nghost-%COMP%], body[data-cm-color-scheme=dark]:where([data-cm-dark-launched=true])   .cm-gm2   [_nghost-%COMP%]{--focus-indicator-color-primary-inverse: #dadce0}[cfc-code-snippet-inline][_nghost-%COMP%]{background-color:var(--cm-sys-color-container, #fafafa);color:var(--cm-sys-color-on-surface, #000);cursor:text;padding:4px;outline-offset:-3px}.cm-md1   [cfc-code-snippet-inline][_nghost-%COMP%]{font-family:"Roboto Mono",monospace;background-color:#f7f7f7;color:inherit}.cm-gm2   [cfc-code-snippet-inline][_nghost-%COMP%]{font:var(--cm-sys-type-code, 400 24px/32px "Roboto Mono", monospace)}[cfc-code-snippet-inline][_nghost-%COMP%]     a:not(:hover){border:0}'],
changeDetection:0});var B1=class{};B1.\u0275fac=function(a){return new (a||B1)};B1.\u0275mod=_.We({type:B1});B1.\u0275inj=_.Pc({imports:[zik]});var Aik=class{constructor(){this.keyWidth=3}};Aik.\u0275fac=function(a){return new (a||Aik)};
Aik.\u0275cmp=_.A({type:Aik,selectors:[["compilation-overrides-detail"]],inputs:{compilationOverrides:"compilationOverrides"},standalone:!1,decls:16,vars:5,consts:()=>["ID de projet Google\u00a0Cloud","Suffixe du sch\u00e9ma","Pr\u00e9fixe de la table",["cfc-kv-list","",1,"cfc-width-base",3,"keyWidth","hidePinlines"]],template:function(a,b){a&1&&(_.G(0,"dl",3)(1,"div")(2,"dt"),_.N(3,0),_.H(),_.G(4,"dd"),_.R(5),_.H()(),_.G(6,"div")(7,"dt"),_.N(8,1),_.H(),_.G(9,"dd"),_.R(10),_.H()(),_.G(11,"div")(12,
"dt"),_.N(13,2),_.H(),_.G(14,"dd"),_.R(15),_.H()()());a&2&&(_.E("keyWidth",b.keyWidth)("hidePinlines",!1),_.y(5),_.Pg(b.compilationOverrides==null?null:b.compilationOverrides.defaultDatabase),_.y(5),_.Pg(b.compilationOverrides==null?null:b.compilationOverrides.schemaSuffix),_.y(5),_.Pg(b.compilationOverrides==null?null:b.compilationOverrides.tablePrefix))},dependencies:[_.As],encapsulation:2});Bik=[_.Ds];_.Cik=class{};_.Cik.\u0275fac=function(a){return new (a||_.Cik)};_.Cik.\u0275mod=_.We({type:_.Cik});
_.Cik.\u0275inj=_.Pc({imports:[Bik]});var Dik=["compilation_overrides_settings_subtask"],Eik=class{constructor(){this.route=_.l(_.Ih);this.contextService=_.l(_.Jx);this.store=_.l(_.Gk);this.onSuccess=new _.Gi;this.onSubmit=a=>this.repositoryScope?_.s3g(this.store,(0,_.I2g)({scope:this.repositoryScope,workspaceCompilationOverrides:{defaultDatabase:a.defaultDatabase,schemaSuffix:a.schemaSuffix,tablePrefix:a.tablePrefix},updateMask:["workspace_compilation_overrides"]})).pipe(_.Jf(b=>{b!=null&&b.error||(this.subtask.cancel(),this.onSuccess.emit())})):
_.v();_.gGi.create(this.route);this.raf=Yfk(this.onSubmit,()=>{this.subtask.cancel()})}open(){let a;this.store.select(Rfk(((a=this.repositoryScope)==null?void 0:a.repositoryId)||"")).pipe(_.jf(1)).subscribe(c=>{this.raf=Yfk(this.onSubmit,()=>{this.subtask.cancel()},c)});let b;(b=this.contextService.context.get(this.raf.form))==null||b.reset();this.subtask.open()}},Fik;Eik.\u0275fac=function(a){return new (a||Eik)};
Eik.\u0275cmp=_.A({type:Eik,selectors:[["compilation-overrides-settings"]],viewQuery:function(a,b){a&1&&_.Gg(Dik,5);if(a&2){let c;_.Jg(c=_.Kg())&&(b.subtask=c.first)}},inputs:{repositoryScope:"repositoryScope"},outputs:{onSuccess:"onSuccess"},decls:13,vars:4,consts:()=>[["compilation_overrides_settings_subtask",""],"Configurez les remplacements de compilation pour tous les espaces de travail de ce d\u00e9p\u00f4t.\n      Pour modifier de mani\u00e8re dynamique les remplacements de compilation pour chaque espace de travail, vous pouvez ajouter \ufffd#6\ufffd\ufffd0\ufffd\ufffd/#6\ufffd au pr\u00e9fixe de table et au suffixe de sch\u00e9ma. \ufffd#7\ufffd\ufffd/#7\ufffd Si les noms des espaces de travail contiennent des tirets, Dataform les remplacera par des traits de soulignement.",
"Tout effacer",[3,"content"],["cfc-code-snippet-inline",""],["mat-button","",3,"click"]],template:function(a,b){if(a&1){const c=_.m();_.G(0,"cfc-sub-task",null,0);_.J(2,"raf-action-bar",3);_.G(3,"cfc-panel-body")(4,"p");_.og(5,1);_.J(6,"span",4)(7,"br");_.pg();_.H();_.J(8,"raf-form",3);_.G(9,"div")(10,"button",5);_.P("click",function(){_.p(c);const d=b.contextService.context.get(b.raf.form);d==null||d.setFormValue({defaultDatabase:"",schemaSuffix:"",tablePrefix:""});d==null||d.reset();return _.t(void 0)});
_.N(11,2);_.H()()();_.J(12,"raf-footer",3);_.H()}a&2&&(_.y(2),_.E("content",b.raf.actionBar),_.y(5),_.rg("${workspaceName}"),_.sg(5),_.y(),_.E("content",b.raf.form),_.y(4),_.E("content",b.raf.footer))},dependencies:[_.rt,_.Gq,_.ds,_.cs,_.Yr,_.as,B1,zik,_.ws,_.Op,_.vH,_.uH,_.xH,_.wH,_.AA,_.zA,_.XC,_.kz],encapsulation:2});Fik=[_.rt,_.ds,B1,_.ws,_.vH,_.xH,_.AA,_.XC];_.Gik=class{};_.Gik.\u0275fac=function(a){return new (a||_.Gik)};_.Gik.\u0275mod=_.We({type:_.Gik});
_.Gik.\u0275inj=_.Pc({imports:[Fik,Eik]});var Hik={entity:"SECRETS_GRAPHQL",entityService:"SecretsEntityService"};var Iik=function(a,b){return a.config.request("CreateSecret",'mutation CreateSecret($projectId: String!, $locationId: String, $secretId: String!, $secret: IN_google_cloud_secretmanager_v1_Secret!) @Signature(bytes: "2/EI/JOTE/ScaK4pcX0trLtbtny7L1lWM7WEPlSAkvH+E=") { secretMutations_v1 { createSecret(projectId: $projectId, locationId: $locationId, secretId: $secretId, secret: $secret) { ...createSecretResponseFields } } } fragment createSecretResponseFields on google_cloud_secretmanager_v1_Secret { name displayName locationId }',
b,void 0)},Jik=function(a,b){return a.config.request("GetSecret",'query GetSecret($secretResourceName: String!) @Signature(bytes: "2/ip/bP6F1tl/J0xlG9J7FOMAUX7F299ZyKoKx0G8C1Zk=") { secretQueries_v1 { getSecret(secretResourceName: $secretResourceName) { ...getSecretResponseFields } } } fragment getSecretReplicationResponseFields on google_cloud_secretmanager_v1_Replication { replication automatic { _isPresent } userManaged { replicas { location } } } fragment getSecretResponseFields on google_cloud_secretmanager_v1_Secret { name displayName replication { ...getSecretReplicationResponseFields } }',
b,void 0)},Kik=function(a,b){return a.config.request("GetVersion",'query GetVersion($versionResourceName: String!) @Signature(bytes: "2/GxqYUWVBlOVjdtLcXjcs0g5csLHmI4hS7Men6/zQM3w=") { versionQueries_v1 { getVersion(versionResourceName: $versionResourceName) { ...getVersionResponseFields } } } fragment getVersionResponseFields on google_cloud_secretmanager_v1_SecretVersion { name displayName state }',b,void 0)},Lik=function(a,b){return a.config.request("ListLocations",'query ListLocations($projectResourceName: String!) @Signature(bytes: "2/USJd7SbdNxTD21XPQdQneXnunw8vrTl7sp+Gr/xihHo=") { locationQueries { listLocations(projectResourceName: $projectResourceName) { locations { locationId } } } }',
b,void 0)},Mik=class{constructor(a,b){this.config=_.gq(a,Hik,!1);this.operation=b.create(this.config)}};Mik.\u0275fac=function(a){return new (a||Mik)(_.ad(_.lq),_.ad(_.wq))};Mik.\u0275prov=_.k({token:Mik,factory:Mik.\u0275fac,providedIn:"root"});var Nik={replication:"automatic",automatic:{_isPresent:!0},userManaged:{replicas:[]}},Oik=class{constructor(a){this.name=a.name||"";this.displayName=a.displayName||"";this.locationId=a.locationId||"";this.replication=a.replication||Nik;this.isReplicationUserManaged=this.replication.replication==="userManaged";this.userManagedReplication=this.replication.userManaged;this.replicas=this.userManagedReplication.replicas}};var Pik=class{constructor(a){this.rawVersion=a;this.name=this.rawVersion.name||"";this.createTime=this.rawVersion.createTime||"";this.displayName=this.rawVersion.displayName||"";this.state=this.rawVersion.state||"STATE_UNSPECIFIED"}};var Qik=function(a){return Lik(a.JSC$434051_secretsV1GraphqlClient,{projectResourceName:a.getProjectName()}).pipe(_.B(b=>{let c,d;return((c=b.locationQueries)==null?0:(d=c.listLocations)==null?0:d.locations)?_.v(b.locationQueries.listLocations.locations.map(e=>e.locationId)):_.re}),A1())},Rik=function(a,b){const c=b.secretId,d=b.locationId,e=b.replication;b=b.expireTime;return{projectId:a.getProjectId(),secretId:c,secret:{replication:e,expireTime:b},locationId:d}},Sik=function(a){const b=a.payload;
return{secretResourceName:a.secretResourceName,payload:{data:b.base64Encoded,dataCrc32C:String(b.clientCrc32cInt)}}},Tik=class{constructor(){this.JSC$434051_secretsV1GraphqlClient=_.l(Mik);this.projectParamService=_.l(_.aq)}getSecret(a){return Jik(this.JSC$434051_secretsV1GraphqlClient,{secretResourceName:a}).pipe(_.x(b=>new Oik(b.secretQueries_v1.getSecret)))}getVersion(a){return Kik(this.JSC$434051_secretsV1GraphqlClient,{versionResourceName:a}).pipe(_.x(b=>new Pik(b.versionQueries_v1.getVersion)))}createSecret(a){return Iik(this.JSC$434051_secretsV1GraphqlClient,
Rik(this,a)).pipe(_.B(b=>(b=b.secretMutations_v1.createSecret)?_.v(new Oik(b)):_.re),A1())}addVersion(a){return this.JSC$434051_secretsV1GraphqlClient.config.request("AddVersion",'mutation AddVersion($secretResourceName: String!, $payload: IN_google_cloud_secretmanager_v1_SecretPayload!) @Signature(bytes: "2/xoRDl1FM2NxQP56Yjo3OK4XDb4NVTCZOMee/mHOP370=") { versionMutations_v1 { addVersion(secretResourceName: $secretResourceName, payload: $payload) { ...addVersionResponseFields } } } fragment addVersionResponseFields on google_cloud_secretmanager_v1_SecretVersion { name displayName }',
Sik(a),void 0).pipe(_.B(b=>(b=b.versionMutations_v1.addVersion)?_.v(new Pik(b)):_.re),A1())}getProjectId(){return _.$p(this.projectParamService)}getProjectName(){return`projects/${this.getProjectId()}`}};Tik.\u0275fac=function(a){return new (a||Tik)};Tik.\u0275prov=_.k({token:Tik,factory:Tik.\u0275fac,providedIn:"root"});/*

 The MIT License (MIT)

 Copyright (c) 2015 Stephen Sawchuk

 Permission is hereby granted, free of charge, to any person obtaining a copy of
 this software and associated documentation files (the "Software"), to deal in
 the Software without restriction, including without limitation the rights to
 use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 the Software, and to permit persons to whom the Software is furnished to do so,
 subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

 The MIT License (MIT)

 Copyright (c) 2015 Xiaoyi Shi

 Permission is hereby granted, free of charge, to any person obtaining a copy of
 this software and associated documentation files (the "Software"), to deal in
 the Software without restriction, including without limitation the rights to
 use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 the Software, and to permit persons to whom the Software is furnished to do so,
 subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/
var Uik=Int32Array.of(0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,
2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,
3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,
3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,
731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,
2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697);var Wik=function(a){return new Vik(a.data)},Xik=function(a){return new Vik(a)},Vik=class{constructor(a){this.base64Encoded=a}get bytes(){this.bytesInternal||(this.bytesInternal=new Uint8Array(_.tVa(this.base64Encoded)));return this.bytesInternal}get preview(){this.previewInternal||(this.previewInternal=Pfk(this.base64Encoded));return this.previewInternal}get clientCrc32cInt(){if(this.clientCrc32cIntInternal===void 0){var a=this.bytes,b;typeof a==="string"?b=(new TextEncoder).encode(a):a instanceof
ArrayBuffer?b=new Uint8Array(a):b=a;let c=-1;for(a=0;a<b.length;a++){const d=b[a];if((d&255)!==d)throw b="",Number.isInteger(d)&&(b=d<0?` (-0x${(d*-1).toString(16)})`:` (0x${d.toString(16)})`),Error("Ft`"+a+"`"+d+"`"+b);c=Uik[(c^d)&255]^c>>>8}this.clientCrc32cIntInternal=(c^-1)>>>0}return this.clientCrc32cIntInternal}get clientCrc32cHex(){typeof this.clientCrc32cHexInternal==="undefined"&&(this.clientCrc32cHexInternal="0x"+this.clientCrc32cInt.toString(16).padStart(8,"0").toUpperCase());return this.clientCrc32cHexInternal}get hasValue(){return this.bytes.byteLength>
0}};var Yik=class{};Yik.\u0275fac=function(a){return new (a||Yik)};Yik.\u0275cmp=_.A({type:Yik,selectors:[["max-payload-size"]],standalone:!1,decls:4,vars:0,consts:()=>["64\u00a0Kio","1\u00a0kibioctet = 1\u00a0024\u00a0octets",["ariaLabel","Aide expliquant l'abr\u00e9viation Kio de l'unit\u00e9 de mesure"]],template:function(a){a&1&&(_.G(0,"span"),_.N(1,0),_.H(),_.G(2,"cfc-help-button",2),_.N(3,1),_.H())},dependencies:[_.Gv],encapsulation:2});var Zik=class{};Zik.\u0275fac=function(a){return new (a||Zik)};
Zik.\u0275mod=_.We({type:Zik});Zik.\u0275inj=_.Pc({imports:[_.Jv,_.us]});var ajk=function(a){a.secretValueField.valueChanges.pipe(_.Gf(a.destroy$),_.nf(),_.Jf(()=>{a.isPayloadChanging.next(!0)}),_.df(b=>b?_.pe(500):_.v(void 0))).subscribe(b=>{a.form.disabled||(b=Xik(_.eNb(b)),a.payload$.next(b),a.isPayloadChanging.next(!1))});a.fileUploadField.valueChanges.pipe(_.Gf(a.destroy$),_.nf()).subscribe(b=>{$ik(a,b)})},$ik=function(a,b){if(!a.form.disabled&&(b=b[0],a.payload$.next(Xik("")),a.secretValueField.setValue(void 0,{emitEvent:!1}),a.secretValueField.enable(),a.hasUploadedFile$.next(!!b),
b)){var c=new FileReader;c.onload=()=>{var d=c.result;d.byteLength>65536||(d=Xik(_.Fl(new Uint8Array(d))),a.secretValueField.disable(),a.secretValueField.setValue(d.preview,{emitEvent:!1}),a.payload$.next(d))};c.onerror=()=>{a.errorService.handleError({},"\u00c9chec de lecture du fichier import\u00e9")};c.readAsArrayBuffer(b)}},bjk=class{get secretValueField(){return this.form.controls.secretValueField}get fileUploadField(){return this.form.controls.fileUploadField}constructor(a,b){this.errorService=
a;this.JSC$434062_parentReactiveForm=b;this.CONSOLE__SECRET_MANAGER_DOCS_DATA_INTEGRITY=uik;this.SECRET_VALUE_MAX_LENGTH=131072;this.MSG_SECRETS_FILE_SELECT_LABEL="Importer un fichier";this.hasUploadedFile$=new _.Jh(!1);this.hasManualInput$=new _.Jh(!1);this.payload$=new _.Jh(Xik(""));this.clientCrc32cHex$=this.payload$.pipe(_.x(c=>c.clientCrc32cHex));this.uploadFileDisabledTooltip$=this.getDisabledTooltipMessage(this.hasManualInput$,"La valeur du secret doit \u00eatre vide pour importer un fichier");
this.manualInputDisabledTooltip$=this.getDisabledTooltipMessage(this.hasUploadedFile$,"Le fichier import\u00e9 doit \u00eatre supprim\u00e9 pour pouvoir modifier ce champ");this.destroy$=new _.wf(1);this.payloadChanged=this.payload$.pipe(_.x(c=>c.hasValue?c:void 0));this.isPayloadChanging=new _.Jh(!1);this.ve={SecretsChecksumLearnMoreLink:145763,SecretsVersionFilePicker:101551,SecretsVersionTextInput:101552}}ngOnInit(){const a=this.JSC$434062_parentReactiveForm.control;a.get("fileUploadField").setValidators([Qfk(),
_.Bbc(65536)]);a.get("secretValueField").setValidators([_.Zj(65536)]);this.form=a;ajk(this)}ngOnDestroy(){this.destroy$.next()}getDisabledTooltipMessage(a,b){return a.pipe(_.nf(),_.x(c=>c?b:""))}};bjk.\u0275fac=function(a){return new (a||bjk)(_.Se(_.xt),_.Se(_.Mr))};
bjk.\u0275cmp=_.A({type:bjk,selectors:[["add-version-controls"]],outputs:{payloadChanged:"payloadChanged",isPayloadChanging:"isPayloadChanging"},standalone:!1,decls:28,vars:34,consts:()=>[["importFilePicker",""],["checksumTooltip",""]," \ufffd0\ufffd ","Taille maximale\u00a0: \ufffd#11\ufffd\ufffd/#11\ufffd","Valeur du secret","Le fichier import\u00e9 ne peut pas \u00eatre vide","La taille du fichier import\u00e9 ne doit pas d\u00e9passer \ufffd#3\ufffd\ufffd/#3\ufffd","Somme de contr\u00f4le CRC-32C\u00a0: \ufffd#2\ufffd\ufffd0\ufffd\ufffd/#2\ufffd\ufffd#3\ufffd\ufffd/#3\ufffd",
"Une somme de contr\u00f4le est un nombre d\u00e9riv\u00e9 d'un bloc de donn\u00e9es.\n          Les sommes de contr\u00f4le peuvent \u00eatre utilis\u00e9es pour v\u00e9rifier l'int\u00e9grit\u00e9 des secrets, car toute modification apport\u00e9e \u00e0 un secret modifie \u00e9galement la somme de contr\u00f4le.\n          \ufffd#2\ufffdEn savoir plus\ufffd/#2\ufffd",[3,"formGroup"],[1,"cfc-spacing-minus-2"],[3,"cfcTooltip","cfcTooltipPosition"],["formControlName","fileUploadField",3,"inputAriaLabel"],
["matSuffix","",3,"filePicker","ve","veImpression","veClick"],["matError","",4,"cfcDebounceErrorFor"],[1,"cfc-space-last"],["formControlName","secretValueField","rows","3","matInput","","spellcheck","false",1,"cfc-fixed-font",3,"change","readonly","ve","veImpression","veInputText","maxlength"],["matSuffix","","ariaLabel","Pop-up du bouton d'aide expliquant pourquoi le champ de texte est d\u00e9sactiv\u00e9",3,"tooltip",4,"ngIf"],["id","sm-checksum","class","cfc-space-above-minus-5 cfc-color-secondary",
3,"cfc-visibility-hidden",4,"ngIf"],["matError",""],["matSuffix","","ariaLabel","Pop-up du bouton d'aide expliquant pourquoi le champ de texte est d\u00e9sactiv\u00e9",3,"tooltip"],["id","sm-checksum",1,"cfc-space-above-minus-5","cfc-color-secondary"],["id","sm-crc32c",1,"cfc-fixed-font"],["ariaLabel","Informations sur la signification de cette valeur de somme de contr\u00f4le","cfcTooltipName","secretsChecksumHelpTooltip",1,"cfc-button-small",3,"tooltip"],["aria-label","Lien externe pour en savoir plus sur les sommes de contr\u00f4le dans Secret\u00a0Manager",
1,"cfc-nowrap",3,"cfcDocLink","ve","veImpression","veClick"]],template:function(a,b){if(a&1){const c=_.m();_.G(0,"form",9)(1,"section",10)(2,"mat-form-field",11);_.T(3,"async");_.G(4,"mat-label");_.N(5,2);_.H();_.J(6,"cfc-file-picker",12,0)(8,"cfc-file-picker-buttons",13);_.G(9,"mat-hint");_.og(10,3);_.J(11,"max-payload-size");_.pg();_.H();_.D(12,agk,2,0,"cm-error",14)(13,bgk,4,0,"cm-error",14);_.H();_.G(14,"mat-form-field",15);_.T(15,"async");_.G(16,"mat-label");_.N(17,4);_.H();_.G(18,"textarea",
16);_.T(19,"async");_.T(20,"async");_.P("change",function(){_.p(c);b.secretValueField.value?(b.hasManualInput$.next(!0),b.fileUploadField.disable({onlySelf:!0,emitEvent:!1})):b.secretValueField.value||(b.hasManualInput$.next(!1),b.fileUploadField.enable({onlySelf:!0,emitEvent:!1}));return _.t(void 0)});_.H();_.D(21,cgk,1,1,"cfc-help-button",17);_.T(22,"async");_.H();_.K(23);_.D(24,dgk,4,4,"p",18);_.T(25,"async");_.D(26,egk,3,4,"ng-template",null,1,_.fh);_.M();_.H()()}a&2&&(a=_.ug(7),_.E("formGroup",
b.form),_.y(2),_.E("cfcTooltip",_.U(3,22,b.uploadFileDisabledTooltip$))("cfcTooltipPosition","bottom"),_.y(3),_.rg(b.MSG_SECRETS_FILE_SELECT_LABEL),_.sg(5),_.y(),_.E("inputAriaLabel",b.MSG_SECRETS_FILE_SELECT_LABEL),_.y(2),_.E("filePicker",a)("ve",b.ve.SecretsVersionFilePicker)("veImpression",!0)("veClick",!0),_.y(4),_.E("cfcDebounceErrorFor","minFileSize"),_.y(),_.E("cfcDebounceErrorFor","maxFileSize"),_.y(),_.$f("mat-form-field-disabled",_.U(15,24,b.hasUploadedFile$)||b.form.disabled),_.y(4),_.$f("cfc-color-disabled",
_.U(19,26,b.hasUploadedFile$)),_.E("readonly",_.U(20,28,b.hasUploadedFile$))("ve",b.ve.SecretsVersionTextInput)("veImpression",!0)("veInputText",!0)("maxlength",b.SECRET_VALUE_MAX_LENGTH),_.y(3),_.E("ngIf",_.U(22,30,b.manualInputDisabledTooltip$)),_.y(3),_.E("ngIf",_.U(25,32,b.clientCrc32cHex$)))},dependencies:[_.Gq,_.Sq,_.rn,_.uw,_.Oq,_.CA,_.DA,_.Ir,_.dk,_.zr,_.Ar,_.Qr,_.Gv,_.vv,_.wv,_.tv,_.at,_.Zs,_.Ys,_.Ev,_.sv,_.pv,_.nv,_.ov,_.Lr,_.Or,Yik,_.rs,_.wn],encapsulation:2});var cjk=class{};
cjk.\u0275fac=function(a){return new (a||cjk)};cjk.\u0275mod=_.We({type:cjk});cjk.\u0275inj=_.Pc({imports:[_.rt,_.An,_.yw,_.Qq,_.EA,_.Wr,_.KB,_.Jv,_.Jp,_.Cwi,_.xv,_.Vu,_.Xr,Zik,_.nw,_.us]});var djk=function(a){if(a.disabledFormFieldIdSet.size!==0)for(const [b,c]of Object.entries(a.versionPayloadGroup.controls)){const d=c;a.disabledFormFieldIdSet.has(b)&&d.disable()}},C1=class{constructor(a){this.formBuilder=a;this.secretValueField=new _.Gr("");this.fileUploadField=new _.Gr([]);this.versionPayloadConfig={secretValueField:this.secretValueField,fileUploadField:this.fileUploadField};this.disabledFormFieldIdSet=new Set;this.inSubtask=!1;this.versionPayloadGroup=this.formBuilder.group(this.versionPayloadConfig);
this.versionPayloadWrappingGroup=new _.Dr({versionPayloadGroup:this.versionPayloadGroup});this.onChange=()=>{}}ngOnInit(){this.parentFormGroup.addControl("secretValueNestedFormGroup",this.versionPayloadGroup)}writeValue(){}registerOnChange(a){this.onChange=a}validate(){return this.versionPayloadGroup.errors}registerOnTouched(){}formSubmitted(){this.versionPayloadGroup.markAsTouched()}saveFormFieldStates(){if(!(this.disabledFormFieldIdSet.size>0))for(const [a,b]of Object.entries(this.versionPayloadGroup.controls)){const c=
a;b.disabled&&this.disabledFormFieldIdSet.add(c)}}};C1.\u0275fac=function(a){return new (a||C1)(_.Se(_.Vr))};
C1.\u0275cmp=_.A({type:C1,selectors:[["secret-value-editor"]],inputs:{parentFormGroup:"parentFormGroup",inSubtask:"inSubtask"},features:[_.Wg([{provide:_.sr,useExisting:_.Zc(()=>C1),multi:!0},{provide:_.tr,useExisting:_.Zc(()=>C1),multi:!0}])],decls:7,vars:3,consts:()=>[["subtaskHeader",""],"Saisissez la valeur du secret ou importez-la directement \u00e0 partir d'un fichier.","Valeur du secret","Valeur du secret",[1,"cfc-gutter-none","cfc-space-last",3,"formGroup"],["class","cfc-text-title-4",4,"ngIf",
"ngIfElse"],["formGroupName","versionPayloadGroup",3,"payloadChanged"],[1,"cfc-text-title-4"],[1,"cfc-space-first","cfc-text-title-4"]],template:function(a,b){if(a&1){const c=_.m();_.G(0,"fieldset",4);_.D(1,fgk,2,0,"h3",5)(2,ggk,2,0,"ng-template",null,0,_.fh);_.G(4,"p");_.N(5,1);_.H();_.G(6,"add-version-controls",6);_.P("payloadChanged",function(d){_.p(c);b.onChange(d);return _.t(void 0)});_.H()()}a&2&&(a=_.ug(3),_.E("formGroup",b.versionPayloadWrappingGroup),_.y(),_.E("ngIf",!b.inSubtask)("ngIfElse",
a))},dependencies:[cjk,bjk,_.An,_.rn,_.Wr,_.Ar,_.Xr,_.Lr,_.Mr],encapsulation:2});var ejk=class{};ejk.\u0275fac=function(a){return new (a||ejk)};ejk.\u0275mod=_.We({type:ejk});ejk.\u0275inj=_.Pc({imports:[cjk,_.An,_.Wr,_.KB,_.Xr,C1]});var hgk=RegExp("projects/([^/]+)(?:/locations/([^/]+))?/secrets/([^/]+)(?:/versions/([^/]+))?");var fjk={matcherFn:({status:a,message:b})=>!(a!==400||!b||!b.includes("The etag provided in the request does not match the resource's current etag")),errorExperience:3,errorMessage:()=>({subject:"Impossible d'effectuer cette action. La ressource a \u00e9t\u00e9 modifi\u00e9e depuis son dernier chargement. Actualisez la page et r\u00e9essayez.",action:"Recharger"}),presentationFormat:2};var gjk=function(a,b,c){b.pipe(_.jf(1),_.Jf(d=>{({elementRef:d}=d.instance.projectedContent);d=d.nativeElement;const e=new _.Hq(139693);_.Fq(a.eventTrackerService).JSC$392718_logSyntheticEvent("impression",e,d)}),_.B(d=>d.onAction())).subscribe(()=>{c()})},hjk=class{constructor(){this.errorService=_.l(_.xt);this.eventTrackerService=_.l(_.Kq);this.ve={SecretsEtagErrorSnackbar:139693}}handleError(a){var b=a.error;const c=a.refreshAction,d={errorMessage:{subject:a.title,body:b.message},errorExperience:b.errorExperience,
presentationFormat:1};(a=fjk.matcherFn(b))&&!c?this.errorService.handleError(b,d):(b=this.errorService.handleError(b,d,[fjk]),a&&c&&gjk(this,b,c))}};hjk.\u0275fac=function(a){return new (a||hjk)};hjk.\u0275prov=_.k({token:hjk,factory:hjk.\u0275fac,providedIn:"root"});var ijk=class{constructor(){this.subtaskRef=_.l(_.gz);this.formBuilder=_.l(_.Ur);this.secretService=_.l(Tik);this.JSC$434084_secretErrorService=_.l(hjk);this.JSC$434084_snackBarService=_.l(_.lu);this.data=_.l(_.hz);this.submitButtonInProgress=!1;this.destroyed$=new _.wf(1);this.versionPayloadField=new _.Gr(void 0,[a=>(a=a.value)&&a.preview!==""?null:{empty:!0}]);this.formGroup=this.formBuilder.group({versionPayloadField:this.versionPayloadField});this.subtaskTitle=(new _.Mj('Ajouter la version \u00e0 "{SECRET_NAME}"')).format({SECRET_NAME:this.data.secretDisplayName});
this.ve={SecretsAddVersionSubtask:159823,SecretsAddVersionCancelButton:134416,SecretsAddVersionCloseButton:158391,SecretsAddVersionConfirmButton:134417}}ngOnDestroy(){this.destroyed$.next();this.destroyed$.complete()}handleFormSubmit(){var a;const b=(a=this.versionPayloadField.value)!=null?a:void 0;this.formGroup.valid&&b&&(this.submitButtonInProgress=!0,a={secretResourceName:this.data.secretName,payload:b},this.saveFormFieldStates(),this.secretService.addVersion(a).subscribe(c=>{const d='La version du secret "'+
igk(c.name).secretId+'" a \u00e9t\u00e9 ajout\u00e9e';this.JSC$434084_snackBarService.open(d,{veId:159819});this.subtaskRef.accept(c)},c=>{this.formGroup.enable();djk(this.secretValueEditor);this.submitButtonInProgress=!1;this.showErrorDialog(c,$fk(this.data.secretDisplayName))}))}showErrorDialog(a,b){this.JSC$434084_secretErrorService.handleError({error:a,title:b})}saveFormFieldStates(){this.secretValueEditor.saveFormFieldStates();this.formGroup.disable()}};
ijk.\u0275fac=function(a){return new (a||ijk)};
ijk.\u0275cmp=_.A({type:ijk,selectors:[["add-secret-version-subtask"]],viewQuery:function(a,b){a&1&&_.Gg(C1,5);if(a&2){let c;_.Jg(c=_.Kg())&&(b.secretValueEditor=c.first)}},hostAttrs:[1,"cfc-flex-layout-column"],decls:16,vars:20,consts:()=>[["addSecretVersionForm",""],"Veuillez indiquer une valeur pour cr\u00e9er une version de secret","Ajouter une version","Annuler",["id","add-secret-version-subtask-action-bar",3,"ve","cfcTitle"],[1,"cfc-action-bar-content-right"],["navType","close",3,"click","ve",
"veImpression","veClick"],[3,"ve"],["id","add-secret-version-form",3,"ngSubmit","formGroup"],["formControlName","versionPayloadField","required","",3,"parentFormGroup","inSubtask"],[3,"control"],[3,"inProgress"],["mat-raised-button","","color","primary","cfcFormSubmit","add-secret-version-form","type","submit","aria-label","Ajouter une version","cfcDisableTooltip","L'ajout d'une nouvelle version du secret est en cours et ne peut pas \u00eatre annul\u00e9",1,"cfc-white-space-normal",3,"cfcDisable",
"ve","veImpression","veClick"],["mat-button","","type","button","cfcDisableTooltip","L'ajout d'une nouvelle version du secret est en cours et ne peut pas \u00eatre annul\u00e9",3,"click","cfcDisable","ve","veImpression","veClick"]],template:function(a,b){if(a&1){const c=_.m();_.G(0,"cfc-action-bar",4)(1,"div",5)(2,"cfc-navigation-button",6);_.P("click",function(){_.p(c);return _.t(b.subtaskRef.cancel())});_.H()()();_.G(3,"cfc-panel-body",7)(4,"form",8,0);_.P("ngSubmit",function(){_.p(c);return _.t(b.handleFormSubmit())});
_.J(6,"cfc-form-submission-error")(7,"secret-value-editor",9);_.G(8,"cfc-form-error",10);_.N(9,1);_.H()()();_.G(10,"cfc-panel-footer",7)(11,"cfc-progress-button",11)(12,"button",12);_.N(13,2);_.H()();_.G(14,"button",13);_.P("click",function(){_.p(c);return _.t(b.subtaskRef.cancel())});_.N(15,3);_.H()()}a&2&&(_.E("ve",b.ve.SecretsAddVersionSubtask)("cfcTitle",b.subtaskTitle),_.y(2),_.E("ve",b.ve.SecretsAddVersionCloseButton)("veImpression",!0)("veClick",!0),_.y(),_.E("ve",b.ve.SecretsAddVersionSubtask),
_.y(),_.E("formGroup",b.formGroup),_.y(3),_.E("parentFormGroup",b.formGroup)("inSubtask",!0),_.y(),_.E("control",b.versionPayloadField),_.y(2),_.E("ve",b.ve.SecretsAddVersionSubtask),_.y(),_.E("inProgress",b.submitButtonInProgress),_.y(),_.E("cfcDisable",b.submitButtonInProgress)("ve",b.ve.SecretsAddVersionConfirmButton)("veImpression",!0)("veClick",!0),_.y(2),_.E("cfcDisable",b.submitButtonInProgress)("ve",b.ve.SecretsAddVersionCancelButton)("veImpression",!0)("veClick",!0))},dependencies:[_.az,
_.Zy,_.rt,_.Gq,_.Sq,_.ds,_.cs,_.Yr,_.as,_.px,_.Aw,_.vz,_.uz,_.Iy,_.Hy,_.kJ,_.jJ,_.ez,_.dz,_.HX,_.Op,_.vs,_.hs,_.gs,_.Xr,_.Ir,_.zr,_.Ar,_.Pr,_.Lr,_.Or,ejk,C1],encapsulation:2,changeDetection:0});var jjk=[_.az,_.rt,_.ds,_.An,_.yw,_.px,_.vz,_.Iy,_.kJ,_.ez,_.HX,_.hs,_.Xr,ejk,_.jA],kjk=class{};kjk.\u0275fac=function(a){return new (a||kjk)};kjk.\u0275mod=_.We({type:kjk});kjk.\u0275inj=_.Pc({imports:[_.rt,jjk,ijk]});var ljk=function(a){const b=Date.now();a.oneMinuteInFutureDate=new Date(b);a.oneMinuteInFutureDate.setMinutes(a.oneMinuteInFutureDate.getMinutes()+1);a.oneHundredYearsInFutureDate=new Date(b);a.oneHundredYearsInFutureDate.setFullYear(a.oneHundredYearsInFutureDate.getFullYear()+100)},mjk=class extends _.hv{set expireTimeIso(a){a=(this.initialExpirationTime=a)?new _.HB(new Date(a)):new _.HB(null);this.expireTimeField.reset(a);this.isExpiring=!!a.date}get expireTimeIso(){let a;return((a=this.expireTimeField.value.date)==
null?void 0:a.toJSON())||void 0}set isExpiring(a){this.isExpiringField.reset(a)}get isExpiring(){return this.isExpiringField.value}get inputControl(){let a;return(a=this.dateTimePickerRef)==null?void 0:a.datePickerInput.inputControl}constructor(){super();this.globalSecretsExpirationDocsLink=tik;this.regionalSecretsExpirationDocsLink=xik;this.isRegionalSecret=!1;this.ve={SecretsExpirationCheckedToggle:122948,SecretsExpirationDateTimePicker:122949,SecretsExpirationLearnMoreLink:123894};this.requiredIfCheckedValidator=
()=>{if(!this.isExpiring)return null;let a;return((a=this.inputControl)==null?0:a.value)?null:{required:!0}};this.dateRangeValidator=a=>{var b;if(!(b=!this.isExpiring)){var c;if(this.initialExpirationTime){var d=this.initialExpirationTime;b=(c=this.expireTimeField.value.date)==null?void 0:c.toJSON();d||b?d&&b?(c=new Date(d),b=new Date(b),c.setSeconds(0),b.setSeconds(0),c.setMilliseconds(0),b.setMilliseconds(0),c=c.getTime()-b.getTime()===0):c=!1:c=!0;c=!c}else c=!0;b=!c}if(b)return null;ljk(this);
return _.Bqc(this.oneMinuteInFutureDate,this.oneHundredYearsInFutureDate)(a)};this.isExpiringField=new _.Gr(!1);this.expireTimeField=new _.Gr(new _.HB(null));this.expirationFormGroup=new _.Dr({isExpiringField:this.isExpiringField,expireTimeField:this.expireTimeField});this.expirationDateTimeLabel="Date et heure d'expiration";this.destroy$=new _.rf;ljk(this);this.expirationFormGroup.valueChanges.pipe(_.Gf(this.destroy$)).subscribe(()=>{this.valueChanged()})}ngOnInit(){this.parentFormGroup.addControl("secretExpirationEditorNestedFormGroup",
this.expirationFormGroup)}ngAfterViewInit(){this.expireTimeField.setValidators(_.bk([this.expireTimeField.validator,this.requiredIfCheckedValidator,this.dateRangeValidator]));requestAnimationFrame(()=>{this.valueChanged()})}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}valueChanged(){if(this.isExpiring&&!this.expireTimeField.errors)this.onChange(this.expireTimeIso);else this.onChange(void 0)}formSubmitted(){this.isExpiring&&this.expireTimeField.markAsTouched()}writeValue(){}validate(){if(!this.inputControl)return null;
if(this.isExpiring)return this.inputControl.updateValueAndValidity({emitEvent:!1}),this.expireTimeField.updateValueAndValidity({emitEvent:!1}),this.expireTimeField.errors;this.expireTimeField.setErrors(null);return null}};mjk.\u0275fac=function(a){return new (a||mjk)};
mjk.\u0275cmp=_.A({type:mjk,selectors:[["secret-expiration-editor"]],viewQuery:function(a,b){a&1&&_.Gg(_.QJ,5);if(a&2){let c;_.Jg(c=_.Kg())&&(b.dateTimePickerRef=c.first)}},inputs:{parentFormGroup:"parentFormGroup",isRegionalSecret:"isRegionalSecret",expireTimeIso:"expireTimeIso"},standalone:!1,features:[_.Wg([{provide:_.sr,useExisting:_.Zc(()=>mjk),multi:!0},{provide:_.tr,useExisting:_.Zc(()=>mjk),multi:!0}]),_.Nf],decls:19,vars:23,consts:()=>[["expirationDateTimePicker",""],"Expiration","Par d\u00e9faut, le secret n'expire jamais. Pour d\u00e9finir une date d'expiration pour ce secret, s\u00e9lectionnez \ufffd#5\ufffdD\u00e9finir la date d'expiration\ufffd/#5\ufffd ci-dessous. Lorsque vous choisissez une date d'expiration, le secret est supprim\u00e9 et devient indisponible apr\u00e8s cette date.\n    \ufffd#6\ufffdEn savoir plus\ufffd/#6\ufffd",
"D\u00e9finir la date d'expiration","Veuillez indiquer une date et une heure","La date d'expiration doit se situer entre une minute et 100\u00a0ans dans le futur",[1,"cfc-space-last",3,"formGroup"],[1,"cfc-space-first","cfc-text-title-2"],["aria-label","En savoir plus sur la d\u00e9finition de dates d'expiration pour les secrets",1,"cfc-nowrap",3,"cfcDocLink","ve","veImpression","veClick"],["formControlName","isExpiringField",3,"ve","veImpression","veClick"],[1,"cfc-indent"],[1,"cfc-space-last"],
["formControlName","expireTimeField",3,"ariaLabelPrefix","useFourDigitYear","disableCalendarDatesBefore","disableCalendarDatesAfter","ve","veClick"],["matSuffix","",3,"picker"],["matError","",4,"cfcDebounceErrorFor"],["matError",""]],template:function(a,b){a&1&&(_.G(0,"fieldset",6)(1,"h2",7),_.N(2,1),_.H(),_.G(3,"p"),_.og(4,2),_.J(5,"strong")(6,"a",8),_.pg(),_.H(),_.G(7,"mat-checkbox",9),_.N(8,3),_.H(),_.G(9,"section",10)(10,"mat-form-field",11),_.J(11,"cfc-date-time-picker-v2",12,0)(13,"cfc-date-picker-suffix",
13),_.G(14,"mat-label"),_.R(15),_.H(),_.D(16,jgk,2,0,"cm-error",14)(17,kgk,2,1,"cm-error",14)(18,lgk,2,0,"cm-error",14),_.H()()());a&2&&(a=_.ug(12),_.E("formGroup",b.expirationFormGroup),_.y(6),_.E("cfcDocLink",b.isRegionalSecret?b.regionalSecretsExpirationDocsLink:b.globalSecretsExpirationDocsLink)("ve",b.ve.SecretsExpirationLearnMoreLink)("veImpression",!0)("veClick",!0),_.y(),_.$f("cfc-space-last",!b.isExpiring),_.E("ve",b.ve.SecretsExpirationCheckedToggle)("veImpression",!0)("veClick",!0),_.y(3),
_.$f("cfc-hidden",!b.isExpiring),_.y(),_.E("ariaLabelPrefix",b.expirationDateTimeLabel)("useFourDigitYear",!0)("disableCalendarDatesBefore",b.oneMinuteInFutureDate)("disableCalendarDatesAfter",b.oneHundredYearsInFutureDate)("ve",b.ve.SecretsExpirationDateTimePicker)("veClick",!0),_.y(2),_.E("picker",a),_.y(2),_.S(" ",b.expirationDateTimeLabel," "),_.y(),_.E("cfcDebounceErrorFor","required"),_.y(),_.E("cfcDebounceErrorFor","datePickerError"),_.y(),_.E("cfcDebounceErrorFor","validDateRange"))},dependencies:[_.Gq,
_.Sq,_.MJ,_.QJ,_.uw,_.Oq,_.zr,_.Ar,_.ev,_.fv,_.cv,_.nv,_.ov,_.pv,_.at,_.Zs,_.Ev,_.sv,_.Lr,_.Or],encapsulation:2});var njk=class{};njk.\u0275fac=function(a){return new (a||njk)};njk.\u0275mod=_.We({type:njk});njk.\u0275inj=_.Pc({imports:[_.rt,_.An,_.RJ,_.yw,_.Qq,_.Wr,_.vz,_.vx,_.gv,_.qv,_.Pp,_.Xr,_.Js]});var ojk={entity:"SECRETS_GRAPHQL",entityService:"SecretsEntityService"};var pjk=function(a,b){return a.config.request("AccessVersion",'query AccessVersion($versionResourceName: String!) @Signature(bytes: "2/bP3CLRb0e3SWIoK1JEuksK/w1BxqAwediVlhsCn7ZBc=") { versionQueries_v1 { accessVersion(versionResourceName: $versionResourceName) { ...accessVersionResponseFields } } } fragment accessVersionResponseFields on google_cloud_secretmanager_v1_AccessSecretVersionResponse { name payload { data dataCrc32C } }',b,void 0)},qjk=function(a,b){return a.config.request("CreateSecret",
'mutation CreateSecret($projectId: String!, $locationId: String, $secretId: String!, $secret: IN_google_cloud_secretmanager_v1_Secret!) @Signature(bytes: "2/EI/JOTE/ScaK4pcX0trLtbtny7L1lWM7WEPlSAkvH+E=") { secretMutations_v1 { createSecret(projectId: $projectId, locationId: $locationId, secretId: $secretId, secret: $secret) { ...createSecretResponseFields } } } fragment createSecretResponseFields on google_cloud_secretmanager_v1_Secret { name displayName locationId }',b,void 0)},rjk=function(a,b){return a.config.request("GetSecret",
'query GetSecret($secretResourceName: String!) @NullProto @Signature(bytes: "2/8UDic1OC8xbY/gWWkiIst+w/VRvqa5z5UYNFNL2y3xk=") { secretQueries_v1 { getSecret(secretResourceName: $secretResourceName) { ...getSecretResponseFields } } } fragment tagBindingInfo on java_com_google_cloud_boq_clientapi_tags_common_TagBindingInfo { isInherited valueName valueNamespacedName valueParent } fragment getSecretReplicationResponseFields on google_cloud_secretmanager_v1_Replication { automatic { _isPresent customerManagedEncryption { kmsKeyName } } userManaged { replicas { location customerManagedEncryption { kmsKeyName } } } replication } fragment getSecretResponseFields on google_cloud_secretmanager_v1_Secret { name displayName locationId replication { ...getSecretReplicationResponseFields } createTime labels { key value } topics { name } tagBindings { ...tagBindingInfo } rotation { rotationPeriod nextRotationTime } versionAliases { key value } expireTime versionDestroyTtl annotations { key value } customerManagedEncryption { kmsKeyName } etag }',
b,void 0)},sjk=function(a,b){return a.config.request("UpdateSecret",'mutation UpdateSecret($secret: IN_google_cloud_secretmanager_v1_Secret!, $fieldMask: FieldMask) @Signature(bytes: "2/qQPmocvZ8uM/DqquWBy6YS96IM4rhAN/iyLXcsd8Xtk=") { secretMutations_v1 { updateSecret(secret: $secret, fieldMask: $fieldMask) { ...updateSecretResponseFields } } } fragment updateSecretResponseFields on google_cloud_secretmanager_v1_Secret { name displayName locationId }',b,void 0)},tjk=class{constructor(a,b){this.config=
_.gq(a,ojk,!1);this.operation=b.create(this.config)}};tjk.\u0275fac=function(a){return new (a||tjk)(_.ad(_.lq),_.ad(_.wq))};tjk.\u0275prov=_.k({token:tjk,factory:tjk.\u0275fac,providedIn:"root"});var ujk=function(a){a.map(b=>{const c=b.key;return(b=b.value)?[c,b].join(":"):c})},vjk=class{get labels(){return this.internalLabels}get annotations(){return this.internalAnnotations}constructor(a){this.JSC$434104_rawSecret=a;this.name=this.JSC$434104_rawSecret.name;this.displayName=this.JSC$434104_rawSecret.displayName;this.createTime=this.JSC$434104_rawSecret.createTime;this.locationId=this.JSC$434104_rawSecret.locationId;this.isRegional=!!this.locationId;let b,c;this.internalLabels=(c=(b=this.JSC$434104_rawSecret.labels)==
null?void 0:b.sort(ngk))!=null?c:[];let d,e;this.internalAnnotations=(e=(d=this.JSC$434104_rawSecret.annotations)==null?void 0:d.sort(ngk))!=null?e:[];let f;this.replication=(f=this.JSC$434104_rawSecret.replication)!=null?f:{};this.rotation=this.JSC$434104_rawSecret.rotation||void 0;let h;this.versionAliases=((h=this.JSC$434104_rawSecret.versionAliases)==null?void 0:h.sort((O,W)=>(O==null?void 0:O.key).localeCompare(W==null?void 0:W.key,"en-US")))||void 0;this.expireTime=this.JSC$434104_rawSecret.expireTime||
void 0;this.versionDestroyTtl=this.JSC$434104_rawSecret.versionDestroyTtl||void 0;this.etag=this.JSC$434104_rawSecret.etag||void 0;let n;this.topics=(n=this.JSC$434104_rawSecret.topics)!=null?n:[];let q;this.tagBindings=(q=this.JSC$434104_rawSecret.tagBindings)!=null?q:[];this.resourceId=this.rowID=this.JSC$434104_rawSecret.name;ujk(this.labels);ujk(this.annotations);let r,u;this.replicationName=(u=(r=this.replication)==null?void 0:r.replication)!=null?u:"automatic";let w,z,C;a=(C=(w=this.JSC$434104_rawSecret.replication)==
null?void 0:(z=w.userManaged)==null?void 0:z.replicas)!=null?C:[];this.locations=this.isRegional?[this.locationId]:a.map(O=>O.location);if(this.isRegional){var I,L=(I=this.JSC$434104_rawSecret.customerManagedEncryption)==null?void 0:I.kmsKeyName;this.kmsKeys=L?[L]:[]}else if(this.replicationName==="userManaged")this.kmsKeys=a[0]&&a[0].customerManagedEncryption&&a[0].customerManagedEncryption.kmsKeyName!==""?this.kmsKeys=a.map(O=>O.customerManagedEncryption.kmsKeyName):[];else{let O,W;this.kmsKeys=
(I=(L=this.JSC$434104_rawSecret.replication)==null?void 0:(O=L.automatic)==null?void 0:(W=O.customerManagedEncryption)==null?void 0:W.kmsKeyName)?[I]:[]}}getDisplayName(){return this.displayName}getResourceId(){return this.resourceId}getResourceType(){return 118}getFullResourcePath(){return"//secretmanager.googleapis.com/"+this.getResourceId()}updateLabels(a){this.internalLabels=this.JSC$434104_rawSecret.labels=a;ujk(this.labels)}};_.BC({"":"R\u00e9plication automatique"});var wjk=class{};wjk.\u0275fac=function(a){return new (a||wjk)};wjk.\u0275mod=_.We({type:wjk});wjk.\u0275inj=_.Pc({imports:[_.jA]});
var yjk=function(a,b,c){const d=b.secret,e=b.successMessage,f=b.errorMessage;b=Object.assign({},{header:"",confirmInstruction:"",phrase:d.displayName,placeholder:d.displayName,phraseCaseSensitive:!0,riskLevel:0},b.customTypeToConfirmDialogConfig);let h;const n=b.operation;n&&(b.operation=q=>n(q).pipe(_.Ze(r=>fjk.matcherFn(r)?(h=r,_.re):xjk(f)(r))));return a.JSC$434114_typeToConfirmDialogService.JSC$399081_confirmation(b).pipe(_.B(q=>h?_.Zd(h):_.v(q)),_.Jf(q=>{q.confirmed&&q.operationResult.subscribe(()=>
{a.snackbar.open(e,{veId:c})})}))},zjk=function(a,b,c){return yjk(a,{secret:b,customTypeToConfirmDialogConfig:{header:'Voulez-vous vraiment supprimer "'+b.displayName+'"\u00a0?',body:"\nLa suppression d'un secret est d\u00e9finitive. Les services et charges de travail utilisant ce secret ne fonctionneront plus une fois celui-ci supprim\u00e9.",confirmInstruction:_.Nj("\nConfirmez la suppression en saisissant l'ID du secret ci-dessous\u00a0: <strong>{SECRET_ID}</strong>",{SECRET_ID:b.displayName}),
confirmButtonText:"Supprimer le secret",operation:c,veId:a.ve.SecretsDeleteSecretDialog,cancelButtonVeId:a.ve.DeleteSecretCancelButton,confirmButtonVeId:a.ve.DeleteSecretDeleteSecretButton},successMessage:'Secret "'+b.displayName+'" supprim\u00e9.',errorMessage:'\u00c9chec de la suppression du secret "'+b.displayName+'".'},a.ve.DeleteSecretConfirmationSnackbar)},xjk=function(a){return b=>{b=[(b.message||a).trim()];navigator.onLine===!1&&b.push("Aucune connexion r\u00e9seau.");if(b.length===1)return _.Zd(b[0]);
b=b.map(c=>/[.?!]$/.test(c)?c:`${c}.`);return _.Zd(b.join(" "))}},Ajk=class{constructor(){_.l(_.fz);this.JSC$434114_typeToConfirmDialogService=_.l(_.hH);this.snackbar=_.l(_.lu);this.ve={DeleteSecretCancelButton:134426,DeleteSecretConfirmationSnackbar:134957,DeleteSecretDeleteSecretButton:134427,SecretsDeleteSecretDialog:134425}}};Ajk.\u0275fac=function(a){return new (a||Ajk)};Ajk.\u0275prov=_.k({token:Ajk,factory:Ajk.\u0275fac,providedIn:wjk});var Bjk=class{constructor(){this.purviewService=_.l(_.jl);this.projectParamService=_.l(_.aq)}getProjectName(a){return a?_.uCd(this.purviewService,a).pipe(_.x(b=>b?`projects/${b}`:`projects/${_.$p(this.projectParamService)}`)):_.v(`projects/${_.$p(this.projectParamService)}`)}};Bjk.\u0275fac=function(a){return new (a||Bjk)};Bjk.\u0275prov=_.k({token:Bjk,factory:Bjk.\u0275fac,providedIn:"root"});var Cjk=class{};Cjk.\u0275fac=function(a){return new (a||Cjk)};Cjk.\u0275mod=_.We({type:Cjk});Cjk.\u0275inj=_.Pc({imports:[wjk]});
var Djk=function(a,b,c){return a.secretProjectNameService.getProjectName(a.router.routerState.snapshot).pipe(_.B(d=>c?a.getSecret(`${d}/locations/${c}/secrets/${b}`):a.getSecret(`${d}/secrets/${b}`)),_.x(d=>d?!0:!1),_.Ze(()=>_.v(!1)),A1())},Ejk=function(a){const b=a.versionDestroyTtl,c=a.labels,d=a.annotations,e=a.locationId,f=a.kmsKeyName;return Object.assign({},{projectId:a.projectIdOrNumber,secretId:a.secretId,secret:Object.assign({},{replication:a.replication,expireTime:a.expireTime,versionDestroyTtl:b?
(0,_.mOc)(b):void 0,topics:a.topics,rotation:a.rotation,labels:c.map(ogk),annotations:d},f&&{customerManagedEncryption:{kmsKeyName:f}})},e&&{locationId:e})},Fjk=function(a){return{secret:Object.assign({},{name:a.name,etag:a.etag,replication:a.replication,expireTime:a.expireTime,versionDestroyTtl:a.versionDestroyTtl?(0,_.mOc)(a.versionDestroyTtl):void 0,topics:a.topics,rotation:a.rotation,labels:a.labels.map(ogk),annotations:a.annotations,versionAliases:a.versionAliases},a.kmsKeyName&&{customerManagedEncryption:{kmsKeyName:a.kmsKeyName}}),
fieldMask:a.updateMask}},Gjk=class{constructor(){this.confirmService=_.l(Ajk);this.errorService=_.l(_.xt);this.router=_.l(_.gl);this.secretProjectNameService=_.l(Bjk);this.JSC$434129_secretsV1GraphqlClient=_.l(tjk)}getSecret(a){return rjk(this.JSC$434129_secretsV1GraphqlClient,{secretResourceName:a}).pipe(pgk("secretQueries_v1.getSecret"),_.x(b=>new vjk(b)),A1())}getVersion(a){return this.JSC$434129_secretsV1GraphqlClient.config.request("GetVersion",'query GetVersion($versionResourceName: String!, $secretAliases: [IN_google_cloud_secretmanager_v1_Secret_VersionAliasesEntry!] = []) @Signature(bytes: "2/RzlUjjuDCzG4rgazWDmhIVkSnS4PW8d7r2gV9XCfPSQ=") { versionQueries_v1 { getVersion(versionResourceName: $versionResourceName) { ...getVersionResponseFields } } } fragment getVersionResponseFields on google_cloud_secretmanager_v1_SecretVersion { name displayName replicationStatus { automatic { _isPresent customerManagedEncryption { kmsKeyVersionName } } userManaged { replicas { location customerManagedEncryption { kmsKeyVersionName } } } replicationStatus } versionNumber aliases(secretAliases: $secretAliases) state etag clientSpecifiedPayloadChecksum }',
{versionResourceName:a},void 0).pipe(pgk("versionQueries_v1.getVersion"),A1())}accessVersion(a){return pjk(this.JSC$434129_secretsV1GraphqlClient,{versionResourceName:a}).pipe(_.Ze(b=>{this.errorService.handleError(b,b.message);return _.Zd(b)}),pgk("versionQueries_v1.accessVersion.payload"),_.x(Wik),A1())}createSecret(a){return qjk(this.JSC$434129_secretsV1GraphqlClient,Ejk(a)).pipe(pgk("secretMutations_v1.createSecret"),_.x(b=>new vjk(b)),A1())}updateSecret(a){return sjk(this.JSC$434129_secretsV1GraphqlClient,
Fjk(a)).pipe(pgk("secretMutations_v1.updateSecret"),_.x(b=>new vjk(b)),A1())}addVersion(a){const b=a.payload;return this.JSC$434129_secretsV1GraphqlClient.config.request("AddVersion",'mutation AddVersion($secretResourceName: String!, $payload: IN_google_cloud_secretmanager_v1_SecretPayload!) @Signature(bytes: "2/xoRDl1FM2NxQP56Yjo3OK4XDb4NVTCZOMee/mHOP370=") { versionMutations_v1 { addVersion(secretResourceName: $secretResourceName, payload: $payload) { ...addVersionResponseFields } } } fragment addVersionResponseFields on google_cloud_secretmanager_v1_SecretVersion { name displayName }',
{secretResourceName:a.secretResourceName,payload:{data:b.base64Encoded,dataCrc32C:String(b.clientCrc32cInt)}},void 0).pipe(pgk("versionMutations_v1.addVersion"),A1())}deleteSecret(a){return this.secretProjectNameService.getProjectName(this.router.routerState.snapshot).pipe(_.B(b=>{a.name=a.name.replace(RegExp("projects/(?:(?:[\\w.-]+:)?[\\w-]{1,63})"),b);return zjk(this.confirmService,a,()=>this.JSC$434129_secretsV1GraphqlClient.config.request("DeleteSecret",'mutation DeleteSecret($secretResourceName: String!, $etag: String) @Signature(bytes: "2/Z0olr9QmlFThpjHdK8KjXe8is7vwjBvr4GnrRmQv/mg=") { secretMutations_v1 { deleteSecret(secretResourceName: $secretResourceName, etag: $etag) { _isPresent } } }',
{secretResourceName:a.name,etag:a.etag},void 0).pipe(A1()))}))}};Gjk.\u0275fac=function(a){return new (a||Gjk)};Gjk.\u0275prov=_.k({token:Gjk,factory:Gjk.\u0275fac,providedIn:Cjk});var Hjk=["secretNameInputField"],Ijk=class{get projectId(){return _.$p(this.projectParamService)}constructor(a,b){this.projectParamService=a;this.secretService=b;this.ve={SecretsSecretNameTextInput:101550};this.DUPLICATE_NAME_KEY="duplicateSecretName";this.namePatternValidator=_.ak(/^[a-zA-Z0-9_-]{1,255}$/);this.nameUniquenessValidator=mgk(this.validateNameUniqueness.bind(this));this.nameField=new _.Gr("",{validators:[_.vr,this.namePatternValidator],asyncValidators:[this.nameUniquenessValidator]});
this.nameFormGroup=new _.Dr({nameField:this.nameField});this.destroy$=new _.rf;this.onChange=()=>{};this.nameField.valueChanges.pipe(_.Gf(this.destroy$)).subscribe(c=>{this.onChange(c)})}ngOnInit(){this.parentFormGroup.addControl("secretNameNestedFormGroup",this.nameFormGroup)}ngOnChanges(a){a.locationId&&this.nameField.updateValueAndValidity()}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}writeValue(){}registerOnChange(a){this.onChange=a}validate(){return this.nameField.errors}registerOnTouched(){}formSubmitted(){this.nameField.markAsTouched()}validateNameUniqueness(a){a=
a.value;if(!a||this.isRegionalSecret&&!this.locationId)return _.v(null);const b={duplicateSecretName:{value:a}};return Djk(this.secretService,a,this.locationId).pipe(_.x(c=>c?b:null))}};Ijk.\u0275fac=function(a){return new (a||Ijk)(_.Se(_.aq),_.Se(Gjk))};
Ijk.\u0275cmp=_.A({type:Ijk,selectors:[["secret-name-input"]],viewQuery:function(a,b){a&1&&_.Gg(Hjk,5);if(a&2){let c;_.Jg(c=_.Kg())&&(b.secretNameInputField=c.first)}},inputs:{parentFormGroup:"parentFormGroup",locationId:"locationId",isRegionalSecret:"isRegionalSecret"},standalone:!1,features:[_.Wg([{provide:_.sr,useExisting:_.Zc(()=>Ijk),multi:!0},{provide:_.tr,useExisting:_.Zc(()=>Ijk),multi:!0}]),_.fn],decls:12,vars:10,consts:()=>[["secretNameInputField",""],"Nom","Le nom doit \u00eatre identifiable et unique dans ce projet.",
"Le nom doit \u00eatre identifiable et unique.\n      Vous pouvez r\u00e9utiliser un nom de secret dans un projet, \u00e0 condition qu'il se trouve dans un emplacement diff\u00e9rent.","Veuillez indiquer un nom de secret","Les noms de secrets ne doivent contenir que des lettres en alphabet latin (A-Z, a-z), des chiffres (0-9), des tirets (-) et des traits de soulignement (_)",_.tg('Le secret [\ufffd#3\ufffd|\ufffd#5\ufffd]"\ufffd0\ufffd"[\ufffd/#3\ufffd|\ufffd/#5\ufffd] existe d\u00e9j\u00e0.\ufffd#4\ufffd\ufffd/#4\ufffdAu sein du projet [\ufffd#3\ufffd|\ufffd#5\ufffd]"\ufffd1\ufffd"[\ufffd/#3\ufffd|\ufffd/#5\ufffd], les noms doivent \u00eatre uniques.'),
[1,"cfc-gutter-none","cfc-space-last",3,"formGroup"],[1,"cfc-space-last"],["formControlName","nameField","maxlength","255","autofocus","","matInput","",3,"ve","veImpression","veInputText"],["matSuffix","","icon","working","size","small",4,"ngIf"],[4,"ngIf"],["matError","",4,"cfcDebounceErrorFor"],"matSuffix  icon working size small".split(" "),["matError",""],[1,"cfc-nowrap"]],template:function(a,b){a&1&&(_.G(0,"fieldset",7)(1,"mat-form-field",8)(2,"mat-label"),_.N(3,1),_.H(),_.J(4,"input",9,0),_.D(6,
qgk,1,0,"cm-icon",10)(7,rgk,2,0,"mat-hint",11)(8,sgk,2,0,"mat-hint",11)(9,tgk,2,0,"cm-error",12)(10,ugk,2,0,"cm-error",12)(11,vgk,6,2,"cm-error",12),_.H()());a&2&&(_.E("formGroup",b.nameFormGroup),_.y(4),_.E("ve",b.ve.SecretsSecretNameTextInput)("veImpression",!0)("veInputText",!0),_.y(2),_.E("ngIf",b.nameField.pending),_.y(),_.E("ngIf",!b.isRegionalSecret),_.y(),_.E("ngIf",b.isRegionalSecret),_.y(),_.E("cfcDebounceErrorFor","required"),_.y(),_.E("cfcDebounceErrorFor","pattern"),_.y(),_.E("cfcDebounceErrorFor",
b.DUPLICATE_NAME_KEY))},dependencies:[_.Gq,_.Sq,_.rn,_.uw,_.vv,_.wv,_.tv,_.at,_.Zs,_.Ys,_.Ev,_.sv,_.pv,_.nv,_.ov,_.dk,_.zr,_.Ar,_.Qr,_.Lr,_.Or],encapsulation:2});var Jjk=class{};Jjk.\u0275fac=function(a){return new (a||Jjk)};Jjk.\u0275mod=_.We({type:Jjk});Jjk.\u0275inj=_.Pc({imports:[_.rt,_.Jp,_.An,_.yw,_.Qq,_.vz,_.KB,_.gv,_.xv,_.Pp,_.Xr,_.nw]});var Ggk=()=>[],Kjk=class extends _.hv{get projectId(){return _.$p(this.projectParamService)}constructor(a,b){super();this.projectParamService=a;this.orgPolicyService=b;this.CONSOLE__SECRET_MANAGER_DOCS_CHOOSING_REPLICATION=rik;this.MSG_SECRET_CREATE_PENDING="La r\u00e9plication d'un secret ne peut pas \u00eatre modifi\u00e9e pendant la cr\u00e9ation d'un secret";this.assertExists=_.ued;this.regionsRequiredValidator=c=>this.isRegionalizedField&&this.isRegionalizedField.value?_.aKa(c):null;this.isRegionalizedField=
new _.Gr(!1);this.regionsField=new _.Gr([],{validators:[this.regionsRequiredValidator]});this.locationField=new _.Gr("");this.ve={SecretsManualRegionCheckedToggle:101548,SecretsManualRegionSelect:101549,SecretsReplicationPoliciesLearnMoreLink:119135};this.replicationGroup=new _.Dr({isRegionalizedField:this.isRegionalizedField,regionsField:this.regionsField});this.destroy$=new _.rf;this.isGlobalLocationAllowed$=_.FXb(this.orgPolicyService,0,this.projectId,"constraints/gcp.resourceLocations","global").pipe(_.Ze(()=>
_.v(!0)),_.Kce({bufferSize:1,onDestroy$:this.destroy$}));this.locationField.valueChanges.pipe(_.Gf(this.destroy$)).subscribe(c=>{this.isRegionalizedField.setValue(!0);this.regionsField.setValue([c])});this.isRegionalizedField.valueChanges.pipe(_.Ff(this.isRegionalizedField.value),_.Gf(this.destroy$),_.nf()).subscribe(c=>{this.onChange({isRegionalized:c,regions:this.regionsField.value});c?this.regionsField.enable():this.regionsField.disable()});this.regionsField.valueChanges.pipe(_.Gf(this.destroy$),
_.nf()).subscribe(c=>{this.onChange({isRegionalized:this.isRegionalizedField.value,regions:c})})}ngOnInit(){this.parentFormGroup.addControl("secretReplicationNestedFormGroup",this.replicationGroup);this.manualReplicationDisabledTooltip$=_.fe([this.isGlobalLocationAllowed$,this.availableRegions$]).pipe(_.x(([a,b])=>{if(a){if(b.length===0)return"La s\u00e9lection manuelle des emplacements de r\u00e9plication n'est pas disponible actuellement."}else return"En raison d'une r\u00e8gle d'administration, la r\u00e9plication automatique des secrets n'est pas autoris\u00e9e."}));
this.isRegionalizedFieldRequired$=_.ne(()=>this.isRegionalSecret,_.v(!0),this.isGlobalLocationAllowed$.pipe(_.x(a=>!a)));this.isRegionalizedFieldRequired$.subscribe(a=>{this.isRegionalizedField.setValue(a)});this.detailedLocations$=this.availableRegions$.pipe(_.x(a=>_.QYb(a)),_.Bf({bufferSize:1,refCount:!0}));this.supportedLocationTypes$=this.detailedLocations$.pipe(_.x(a=>a.map(b=>b.type)),_.x(a=>Array.from(new Set(a))),_.Bf({bufferSize:1,refCount:!0}))}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}writeValue(){}validate(){return this.replicationGroup.errors}formSubmitted(){this.regionsField.markAsTouched();
this.locationField.markAsTouched()}};Kjk.\u0275fac=function(a){return new (a||Kjk)(_.Se(_.aq),_.Se(_.Cx))};
Kjk.\u0275cmp=_.A({type:Kjk,selectors:[["secret-replication-policy-editor"]],inputs:{parentFormGroup:"parentFormGroup",availableRegions$:"availableRegions$",isRegionalSecret:"isRegionalSecret"},standalone:!1,features:[_.Wg([{provide:_.sr,useExisting:_.Zc(()=>Kjk),multi:!0},{provide:_.tr,useExisting:_.Zc(()=>Kjk),multi:!0}]),_.Nf],decls:11,vars:9,consts:()=>[["manualReplicationCheckbox",""],"R\u00e8gle de r\u00e9plication","R\u00e9gion","Par d\u00e9faut, Google sp\u00e9cifie automatiquement l'emplacement de stockage du secret. Si vous devez personnaliser les emplacements, vous pouvez cocher la case ci-dessous. Tous les secrets sont accessibles dans le monde entier, ind\u00e9pendamment de la fa\u00e7on dont ils sont r\u00e9pliqu\u00e9s et stock\u00e9s.\n      La r\u00e8gle de r\u00e9plication ne peut pas \u00eatre modifi\u00e9e apr\u00e8s la cr\u00e9ation d'un secret.",
"S\u00e9lectionnez la r\u00e9gion dans laquelle vous souhaitez placer ce secret r\u00e9gional.","En savoir plus","G\u00e9rer manuellement les emplacements de ce secret","Emplacement(s)","Vous devez s\u00e9lectionner au moins une r\u00e9gion",[1,"cfc-gutter-none","cfc-space-last",3,"formGroup"],["class","cfc-space-first cfc-text-title-2",4,"ngIf"],[4,"ngIf"],["class","cfc-nowrap","aria-label","Lien externe pour en savoir plus sur les r\u00e8gles de r\u00e9plication",3,"cfcDocLink","ve","veImpression",
"veClick",4,"ngIf"],["class","cfc-space-last","formControlName","isRegionalizedField",3,"cfcDisable","cfcDisableTooltip","ve","veImpression","veClick",4,"ngIf"],["class","cfc-indent",4,"ngIf"],[1,"cfc-space-first","cfc-text-title-2"],["aria-label","Lien externe pour en savoir plus sur les r\u00e8gles de r\u00e9plication",1,"cfc-nowrap",3,"cfcDocLink","ve","veImpression","veClick"],["formControlName","isRegionalizedField",1,"cfc-space-last",3,"cfcDisable","cfcDisableTooltip","ve","veImpression","veClick"],
[1,"cfc-indent"],["class","cfc-space-above-minus-4",4,"ngIf"],[1,"cfc-space-above-minus-4"],["formControlName","regionsField","aria-label","Emplacements",3,"observable","multiple","hasOkCancelButtons","hasFilter","requireSelection","ve","veImpression","veClick"],[3,"value",4,"ngFor","ngForOf"],["matError","",4,"cfcDebounceErrorFor"],[3,"value"],["matError",""],[3,"formControl","locations","required","allowedTypes","enableSingleRegionTreatment"]],template:function(a,b){a&1&&(_.G(0,"fieldset",9),_.D(1,
wgk,2,0,"h2",10)(2,xgk,2,0,"h2",10),_.G(3,"p"),_.D(4,ygk,2,0,"ng-container",11)(5,zgk,2,0,"ng-container",11)(6,Agk,2,4,"a",12),_.H(),_.G(7,"div"),_.D(8,Bgk,5,9,"mat-checkbox",13),_.H(),_.D(9,Fgk,2,1,"section",14)(10,Hgk,4,11,"section",11),_.H());a&2&&(_.E("formGroup",b.replicationGroup),_.y(),_.E("ngIf",!b.isRegionalSecret),_.y(),_.E("ngIf",b.isRegionalSecret),_.y(2),_.E("ngIf",!b.isRegionalSecret),_.y(),_.E("ngIf",b.isRegionalSecret),_.y(),_.E("ngIf",!b.isRegionalSecret),_.y(2),_.E("ngIf",!b.isRegionalSecret),
_.y(),_.E("ngIf",!b.isRegionalSecret),_.y(),_.E("ngIf",b.isRegionalSecret))},dependencies:[_.Gq,_.Sq,_.ev,_.fv,_.cv,_.at,_.Zs,_.Ev,_.pv,_.nv,_.ov,_.qn,_.rn,_.ix,_.uw,_.Oq,_.zr,_.Ar,_.Pr,_.Dx,_.Kr,_.Lr,_.Or,_.cw,_.aw,_.fp,_.fw,_.wn],encapsulation:2});var Ljk=class{};Ljk.\u0275fac=function(a){return new (a||Ljk)};Ljk.\u0275mod=_.We({type:Ljk});Ljk.\u0275inj=_.Pc({imports:[_.rt,_.gv,_.xv,_.An,_.px,_.yw,_.Qq,_.Wr,_.vz,_.KB,_.RYb,_.Pp,_.Xr,_.nw]});var Mjk="asia-northeast1 australia-southeast1 australia-southeast2 europe-west1 europe-west2 europe-west3 europe-west4 europe-west6 europe-west8 europe-west9 me-central2 me-west1 northamerica-northeast1 northamerica-northeast2 us-central1 us-central2 us-east1 us-east4 us-east5 us-east7 us-south1 us-west1 us-west2 us-west3 us-west4".split(" ");var Njk=new _.go("45669354");var Ojk=function(a,b){if(b instanceof Oik)a.JSC$434154_snackBarService.open(Zfk(b.displayName),{veId:101578});else{var c=a.JSC$434154_snackBarService,d=c.open,e=igk(b.name).secretId;d.call(c,'Secret "'+e+"\" cr\u00e9\u00e9 et ajout d'une version initiale avec la charge utile demand\u00e9e effectu\u00e9",{veId:101578})}a.subtaskRef.accept(b)},Pjk=class{get pendingRequestCount(){return this.pendingRequestCountInternal}set pendingRequestCount(a){this.pendingRequestCountInternal=a;if(a>0)this.saveFormFieldStates();
else if(this.formGroup.enable(),djk(this.secretValueEditor),this.disabledFormFieldIdSet.size!==0){a=[...Object.entries(this.formGroup.controls)];for(const [b,c]of a)a=c,this.disabledFormFieldIdSet.has(b)&&a.disable();this.disabledFormFieldIdSet.clear()}}constructor(){this.subtaskRef=_.l(_.gz);this.formBuilder=_.l(_.Ur);this.JSC$434154_secretErrorService=_.l(hjk);this.secretService=_.l(Tik);this.JSC$434154_snackBarService=_.l(_.lu);this.data=_.l(_.hz);this.submitButtonInProgress=!1;this.id="createSecretSubtask";
this.pendingRequestCountInternal=0;const a=this.data;this.secretManagerCreateGlobalSecretDocLink=sik;this.secretManagerCreateRegionalSecretDocLink=wik;this.destroyed$=new _.wf(1);this.secretManagerLink=_.Sek.create().link().build();this.regionalSecretManagerLink=_.Sek.create().link().set(_.Rek(),"").build();this.secretNameField=new _.Gr("");this.versionPayloadField=new _.Gr;this.replicationPolicyField=new _.Gr;this.expirationField=new _.Gr;this.formGroupConfig={secretNameField:this.secretNameField,
versionPayloadField:this.versionPayloadField,replicationPolicyField:this.replicationPolicyField,expirationField:this.expirationField};this.formGroup=this.formBuilder.group(this.formGroupConfig);this.disabledFormFieldIdSet=new Set;this.ve={SecretsCreateSecretSubtask:159824,SecretPickerSecretManagerLink:132308,SecretsCreateSecretCancelButton:101545,SecretsCreateSecretCloseButton:158319,SecretsCreateSecretSubmitButton:101547,SecretsDetailsLearnMoreLink:119134};this.isRegionalSecret=!!a.isRegionalSecret;
this.availableRegions$=Qik(this.secretService).pipe(_.Ze(()=>_.v([])),_.x(b=>b.filter(c=>!this.isRegionalSecret||Mjk.includes(c))));this.replicationPolicyField.valueChanges.subscribe(b=>{this.locationId=this.isRegionalSecret?b==null?void 0:b.regions[0]:void 0});this.title=this.isRegionalSecret?"Cr\u00e9er un secret r\u00e9gional":"Cr\u00e9er un secret";this.JSC$434154_regionalSupportEnabled=_.gi(Njk);this.description=this.getDescription()}ngOnDestroy(){this.destroyed$.next();this.destroyed$.complete()}handleFormSubmit(){this.expirationEditorRef.formSubmitted();
if(this.formGroup.valid){var a,b,c,d;this.createSecret({secretId:this.secretNameField.value,locationId:this.locationId,payload:(c=this.versionPayloadField.value)!=null?c:void 0,replication:this.isRegionalSecret?void 0:Igk({regions:((a=this.replicationPolicyField.value)==null?0:a.isRegionalized)?(b=this.replicationPolicyField.value)==null?void 0:b.regions:void 0,encryptionConfiguration:void 0}),expireTime:(d=this.expirationField.value)!=null?d:void 0})}}getDescription(){return this.isRegionalSecret?
"Un secret r\u00e9gional contenant les d\u00e9tails sp\u00e9cifi\u00e9s sera cr\u00e9\u00e9. Pour d\u00e9finir des propri\u00e9t\u00e9s suppl\u00e9mentaires, acc\u00e9dez \u00e0 ":this.JSC$434154_regionalSupportEnabled?"Un secret contenant les d\u00e9tails sp\u00e9cifi\u00e9s sera cr\u00e9\u00e9. Pour d\u00e9finir des propri\u00e9t\u00e9s suppl\u00e9mentaires, acc\u00e9dez \u00e0 ":"Un secret contenant les d\u00e9tails sp\u00e9cifi\u00e9s sera cr\u00e9\u00e9. Pour cr\u00e9er des secrets r\u00e9gionaux ou d\u00e9finir des propri\u00e9t\u00e9s suppl\u00e9mentaires, acc\u00e9dez \u00e0 "}createSecret(a){this.pendingRequestCount+=
1;this.secretService.createSecret(a).subscribe(b=>{a.payload?this.addVersion(b,a.payload):(Ojk(this,b),this.subtaskRef.accept())},b=>{--this.pendingRequestCount;this.showErrorDialog(b,"\u00c9chec de la cr\u00e9ation du secret")})}addVersion(a,b){this.secretService.addVersion({secretResourceName:a.name,payload:b}).subscribe(c=>{Ojk(this,c)},c=>{this.JSC$434154_snackBarService.open(Zfk(a.displayName),{veId:101578});this.showErrorDialog(c,$fk(a.displayName));this.subtaskRef.accept(a)})}showErrorDialog(a,
b){this.JSC$434154_secretErrorService.handleError({error:a,title:b})}saveFormFieldStates(){this.secretValueEditor.saveFormFieldStates();if(!(this.disabledFormFieldIdSet.size>0)){var a=[...Object.entries(this.formGroup.controls)];for(const [b,c]of a)a=b,c.disabled&&this.disabledFormFieldIdSet.add(a);this.formGroup.disable()}}};Pjk.\u0275fac=function(a){return new (a||Pjk)};
Pjk.\u0275cmp=_.A({type:Pjk,selectors:[["create-secret-subtask"]],viewQuery:function(a,b){a&1&&(_.Gg(C1,5),_.Gg(mjk,5));if(a&2){let c;_.Jg(c=_.Kg())&&(b.secretValueEditor=c.first);_.Jg(c=_.Kg())&&(b.expirationEditorRef=c.first)}},hostAttrs:[1,"cfc-flex-layout-column"],decls:34,vars:35,consts:()=>["D\u00e9tails sur les codes secrets","Si vous sp\u00e9cifiez une valeur de secret, elle sera appliqu\u00e9e \u00e0 la premi\u00e8re version.","En savoir plus","Cr\u00e9er un secret","Annuler",["id","create-secret-subtask-action-bar",
3,"ve","cfcTitle"],[1,"cfc-action-bar-content-right"],["navType","close",3,"click","ve","veImpression","veClick"],[3,"ve"],["id","create-secret-form",3,"ngSubmit","formGroup"],[1,"cfc-space-first"],["target","_blank","rel","noopener noreferrer",1,"cfc-nowrap",3,"cfcRouterLink","ve","veImpression","veClick"],["aria-label","En savoir plus sur les secrets et les versions",1,"cfc-nowrap",3,"cfcDocLink","ve","veImpression","veClick"],["formControlName","secretNameField",3,"parentFormGroup","locationId",
"isRegionalSecret"],["formControlName","versionPayloadField",3,"parentFormGroup"],[1,"cfc-space-below-base"],["formControlName","replicationPolicyField",3,"parentFormGroup","availableRegions$","isRegionalSecret"],[1,"cfc-space-above-base","cfc-space-below-base"],["formControlName","expirationField",3,"parentFormGroup","isRegionalSecret"],[3,"inProgress"],["mat-raised-button","","color","primary","cfcFormSubmit","create-secret-form","type","submit","cfcDisableTooltip","Cr\u00e9ation du secret\u2026",
1,"cfc-white-space-normal",3,"cfcDisable","ve","veImpression","veClick"],["mat-button","","type","button","cfcDisableTooltip","Le secret est en cours de cr\u00e9ation et ne peut pas \u00eatre annul\u00e9",3,"click","cfcDisable","ve","veImpression","veClick"]],template:function(a,b){a&1&&(_.G(0,"cfc-action-bar",5)(1,"div",6)(2,"cfc-navigation-button",7),_.P("click",function(){return b.subtaskRef.cancel()}),_.H()()(),_.G(3,"cfc-panel-body",8)(4,"form",9),_.P("ngSubmit",function(){return b.handleFormSubmit()}),
_.J(5,"cfc-form-submission-error"),_.G(6,"h2",10),_.N(7,0),_.H(),_.G(8,"p"),_.R(9),_.G(10,"a",11),_.R(11," Secret Manager"),_.H(),_.R(12,". "),_.H(),_.G(13,"p"),_.K(14),_.N(15,1),_.M(),_.G(16,"a",12),_.N(17,2),_.H()(),_.G(18,"section"),_.J(19,"secret-name-input",13),_.H(),_.G(20,"section"),_.J(21,"secret-value-editor",14),_.H(),_.J(22,"mat-divider",15),_.G(23,"section"),_.J(24,"secret-replication-policy-editor",16),_.H(),_.J(25,"mat-divider",17),_.G(26,"section"),_.J(27,"secret-expiration-editor",
18),_.H()()(),_.G(28,"cfc-panel-footer",8)(29,"cfc-progress-button",19)(30,"button",20),_.N(31,3),_.H()(),_.G(32,"button",21),_.P("click",function(){return b.subtaskRef.cancel()}),_.N(33,4),_.H()());a&2&&(_.E("ve",b.ve.SecretsCreateSecretSubtask)("cfcTitle",b.title),_.y(2),_.E("ve",b.ve.SecretsCreateSecretCloseButton)("veImpression",!0)("veClick",!0),_.y(),_.E("ve",b.ve.SecretsCreateSecretSubtask),_.y(),_.E("formGroup",b.formGroup),_.y(5),_.S(" ",b.description," "),_.y(),_.E("cfcRouterLink",b.isRegionalSecret?
b.regionalSecretManagerLink:b.secretManagerLink)("ve",b.ve.SecretPickerSecretManagerLink)("veImpression",!0)("veClick",!0),_.y(6),_.E("cfcDocLink",b.isRegionalSecret?b.secretManagerCreateRegionalSecretDocLink:b.secretManagerCreateGlobalSecretDocLink)("ve",b.ve.SecretsDetailsLearnMoreLink)("veImpression",!0)("veClick",!0),_.y(3),_.E("parentFormGroup",b.formGroup)("locationId",b.locationId)("isRegionalSecret",b.isRegionalSecret),_.y(2),_.E("parentFormGroup",b.formGroup),_.y(3),_.E("parentFormGroup",
b.formGroup)("availableRegions$",b.availableRegions$)("isRegionalSecret",b.isRegionalSecret),_.y(3),_.E("parentFormGroup",b.formGroup)("isRegionalSecret",b.isRegionalSecret),_.y(),_.E("ve",b.ve.SecretsCreateSecretSubtask),_.y(),_.E("inProgress",b.submitButtonInProgress),_.y(),_.E("cfcDisable",b.pendingRequestCount>0)("ve",b.ve.SecretsCreateSecretSubmitButton)("veImpression",!0)("veClick",!0),_.y(2),_.E("cfcDisable",b.pendingRequestCount>0)("ve",b.ve.SecretsCreateSecretCancelButton)("veImpression",
!0)("veClick",!0))},dependencies:[_.az,_.Zy,_.rt,_.Gq,_.Sq,_.ds,_.cs,_.Yr,_.as,_.An,_.px,_.Aw,_.Qq,_.Oq,_.Iy,_.Hy,_.kJ,_.jJ,_.FH,_.EH,_.ez,_.dz,_.HX,_.Op,_.vs,_.hs,_.gs,_.Xr,_.Ir,_.zr,_.Ar,_.Lr,_.Or,_.JK,_.Js,_.Hs,njk,mjk,Jjk,Ijk,Ljk,Kjk,ejk,C1],encapsulation:2,changeDetection:0});var Qjk=[_.az,_.rt,_.ds,_.An,_.px,_.Qq,_.Iy,_.kJ,_.FH,_.ez,_.HX,_.hs,_.Xr,_.JK,_.Js,njk,Jjk,Ljk,ejk,_.jA],Rjk=class{};Rjk.\u0275fac=function(a){return new (a||Rjk)};Rjk.\u0275mod=_.We({type:Rjk});
Rjk.\u0275inj=_.Pc({imports:[_.rt,Qjk,Pjk]});var Sjk=/^projects\/[^/]+(?:\/locations\/[^/]+)?\/secrets\/[^/]+(\/versions\/[0-9]+)?$/,Tjk=/^projects\/[^/]+(?:\/locations\/[^/]+)?\/secrets\/[^/]+\/versions\/[0-9]+$/,Jgk=RegExp("projects/([^/]+)(?:(?:/locations/([^/]+))?/secrets/([^/]+)(?:/versions/([^/]+))?)?");var Rgk=a=>({canEnterVersion:a}),Ujk=function(a,b){const c=b.value;if(!a.validateExistence||!Jgk.test(c))return _.v(null);b=Kgk(c);return a.isRegionalSecret&&!b.locationId?_.v({locationIdMissing:!0}):!a.isRegionalSecret&&b.locationId?_.v({unexpectedLocationId:!0}):a.canEnterVersion&&b.versionId?_.pe(400).pipe(_.B(()=>a.secretService.getVersion(c)),_.hf(null),_.Ze(()=>_.v({getVersionFailed:!0})),_.qf()):b.secretId?_.pe(400).pipe(_.B(()=>a.secretService.getSecret(Mgk(c))),_.hf(null),_.Ze(()=>_.v({getSecretFailed:!0})),
_.qf()):_.v(null)},Vjk=class{constructor(){this.secretService=_.l(Tik);this.dialogRef=_.l(_.Zo);this.data=_.l(_.ip,{optional:!0});this.secretNameControl=new _.Gr("",[_.vr,_.ak(Sjk)]);this.form=new _.Dr({secretName:this.secretNameControl});this.secretManagerLink=_.Sek.create().link().build();this.regionalSecretManagerLink=_.Sek.create().link().set(_.Rek(),"").build();this.isRegionalSecret=this.canEnterVersion=!1;this.showVersionWarning$=this.secretNameControl.valueChanges.pipe(_.x(b=>!this.canEnterVersion&&
Tjk.test(b)));this.validateExistence=!0;this.ve={SecretPickerSecretManagerLink:132308,SecretPickerManualSecretAddButton:116372,SecretPickerManualSecretCancelButton:116373,SecretPickerManualSecretDialog:116374,SecretPickerSecretResourceIdTextInput:116376};const a=this.data;a&&(this.canEnterVersion=!!a.canEnterVersion,this.validateExistence=a.validateExistence!==!1,this.isRegionalSecret=!!a.isRegionalSecret);this.validateExistence&&_.wKa(this.secretNameControl,[b=>Ujk(this,b)])}cancel(){this.close(void 0)}close(a){this.dialogRef.close(a)}};
Vjk.\u0275fac=function(a){return new (a||Vjk)};
Vjk.\u0275cmp=_.A({type:Vjk,selectors:[["ng-component"]],standalone:!1,decls:36,vars:32,consts:()=>[["exampleFormats","","defaultRegionsErrorMessage",""],"Ajouter un secret via un ID de ressource","Copiez et collez l'ID de ressource depuis \ufffd#8\ufffdSecret\u00a0Manager\ufffd/#8\ufffd","Pour utiliser la version la plus r\u00e9cente, copiez et collez l'ID de ressource \u00e0 partir du secret parent.","ID de ressource du secret","Annuler","Ajouter un code secret","Pour s\u00e9lectionner une version sp\u00e9cifique, copiez et collez l'ID de ressource pour cette version sp\u00e9cifique.",
'Veuillez indiquer un ID de ressource "secret".',"Le format est incorrect.","La version de ce secret n'existe pas, ou vous n'avez pas les autorisations n\u00e9cessaires pour y acc\u00e9der","La version de ce secret n'existe pas, ou vous n'avez pas les autorisations n\u00e9cessaires pour y acc\u00e9der","Ce secret n'a pas d'ID d'emplacement. Veuillez saisir un secret r\u00e9gional valide.","Ce secret a un ID d'emplacement inattendu. Veuillez saisir un secret global valide.","L'ID de ressource de secret que vous avez saisi inclut une version de secret. Si vous d\u00e9cidez de continuer, la version de secret sera ignor\u00e9e.",
"Exemple de format (secret parent)\u00a0: \ufffd#3\ufffd\ufffd0\ufffd\ufffd/#3\ufffd","Exemple de format (version)\u00a0: \ufffd#2\ufffd\ufffd0\ufffd\ufffd/#2\ufffd","Exemple de format (secret parent)\u00a0: \ufffd#3\ufffd\ufffd0\ufffd\ufffd/#3\ufffd","Exemple de format (version)\u00a0: \ufffd#2\ufffd\ufffd0\ufffd\ufffd/#2\ufffd",["matDialogTitle",""],[1,"cfc-width-base","cfc-max-width-full",3,"ve","veImpression"],[3,"ngSubmit","formGroup"],["target","_blank","rel","noopener noreferrer",3,"cfcRouterLink",
"ve","veImpression","veClick"],["cfc-list",""],[4,"ngIf"],["matInput","",3,"formControl","ve","veImpression","veInputText"],["matSuffix","","icon","working","size","small",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["matError","",4,"cfcDebounceErrorFor"],["type","warning",4,"ngIf"],["mat-button","","color","secondary","type","button",3,"click","ve","veImpression","veClick"],["mat-raised-button","","color","primary","type","submit",3,"ve","veImpression","veClick"],"matSuffix  icon working size small".split(" "),
["matError",""],["type","warning"],[1,"cfc-nowrap"],["class","cfc-nowrap",4,"ngIf"]],template:function(a,b){if(a&1){const c=_.m();_.G(0,"h1",19);_.N(1,1);_.H();_.G(2,"div",20)(3,"form",21);_.P("ngSubmit",function(){_.p(c);b.form.valid&&(b.canEnterVersion?b.close(b.secretNameControl.value):b.close(Mgk(b.secretNameControl.value)));return _.t(void 0)});_.J(4,"cfc-form-submission-error");_.G(5,"mat-dialog-content")(6,"p");_.og(7,2);_.J(8,"a",22);_.pg();_.H();_.G(9,"ul",23)(10,"li");_.N(11,3);_.H();_.D(12,
Ngk,2,0,"li",24);_.H();_.G(13,"mat-form-field")(14,"mat-label");_.N(15,4);_.H();_.J(16,"input",25);_.D(17,Ogk,1,0,"cfc-icon",26);_.G(18,"mat-hint");_.D(19,Pgk,1,0,"ng-container",27);_.H();_.D(20,Sgk,4,4,"cm-error",28)(21,Ugk,4,4,"cm-error",28)(22,Vgk,3,0,"cm-error",28)(23,Wgk,3,0,"cm-error",28)(24,Xgk,3,0,"cm-error",28)(25,Ygk,3,0,"cm-error",28);_.H();_.D(26,Zgk,3,0,"cfc-message",29);_.T(27,"async");_.H();_.G(28,"mat-dialog-actions")(29,"button",30);_.P("click",function(){_.p(c);return _.t(b.cancel())});
_.N(30,5);_.H();_.G(31,"button",31);_.N(32,6);_.H()()()();_.D(33,dhk,2,2,"ng-template",null,0,_.fh)}a&2&&(a=_.ug(34),_.y(2),_.E("ve",b.ve.SecretPickerManualSecretDialog)("veImpression",!0),_.y(),_.E("formGroup",b.form),_.y(5),_.E("cfcRouterLink",b.isRegionalSecret?b.regionalSecretManagerLink:b.secretManagerLink)("ve",b.ve.SecretPickerSecretManagerLink)("veImpression",!0)("veClick",!0),_.y(4),_.E("ngIf",b.canEnterVersion),_.y(4),_.E("formControl",b.secretNameControl)("ve",b.ve.SecretPickerSecretResourceIdTextInput)("veImpression",
!0)("veInputText",!0),_.y(),_.E("ngIf",b.secretNameControl.pending),_.y(2),_.E("ngTemplateOutlet",a)("ngTemplateOutletContext",_.Yg(30,Rgk,b.canEnterVersion)),_.y(),_.E("cfcDebounceErrorFor","required"),_.y(),_.E("cfcDebounceErrorFor","pattern"),_.y(),_.E("cfcDebounceErrorFor","getSecretFailed"),_.y(),_.E("cfcDebounceErrorFor","getVersionFailed"),_.y(),_.E("cfcDebounceErrorFor","locationIdMissing"),_.y(),_.E("cfcDebounceErrorFor","unexpectedLocationId"),_.y(),_.E("ngIf",_.U(27,28,b.showVersionWarning$)),
_.y(3),_.E("ve",b.ve.SecretPickerManualSecretCancelButton)("veImpression",!0)("veClick",!0),_.y(2),_.E("ve",b.ve.SecretPickerManualSecretAddButton)("veImpression",!0)("veClick",!0))},dependencies:[_.Gq,_.Sq,_.rn,_.vn,_.uw,_.Hy,_.Fp,_.Bs,_.cs,_.Yr,_.as,_.lp,_.np,_.mp,_.nv,_.ov,_.pv,_.at,_.Zs,_.Ys,_.Ev,_.sv,_.vv,_.wv,_.tv,_.Kp,_.Lp,_.Ir,_.dk,_.zr,_.Ar,_.Kr,_.Lr,_.Hs,_.wn],encapsulation:2});var Wjk=class{};Wjk.\u0275fac=function(a){return new (a||Wjk)};Wjk.\u0275mod=_.We({type:Wjk});
Wjk.\u0275inj=_.Pc({imports:[_.rt,_.An,_.yw,_.Qq,_.Iy,_.Jp,_.Ds,_.ds,_.pp,_.qv,_.xv,_.Pp,_.Xr,_.Js]});var Xjk={query:'\nquery ListRegionalSecrets($projectResourceName:String!,$locationIds:[String!]!,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!)@NullProto@Signature(bytes:"2/ccsp6ggsxAl/FlxB6hNzPNQNBYTadGgti4keM7YOD+0="){secretQueries_v1{regionalSecretsList(projectResourceName:$projectResourceName,locationIds:$locationIds,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{...on google_cloud_secretmanager_v1_Secret{name,displayName,locationId,replication{...on google_cloud_secretmanager_v1_Replication{automatic{_isPresent,customerManagedEncryption{kmsKeyName}},userManaged{replicas{location,customerManagedEncryption{kmsKeyName}}},replication}}}},nextPageToken,partialCount,totalCount}}}\n',
listFieldPath:"secretQueries_v1.regionalSecretsList",coliseumEndpoint:{entity:"SECRETS_GRAPHQL",entityService:"SecretsEntityService"},field:"displayName",listMetadata:{isSortable:!0,isFilterable:!0,isPaged:!0},fieldMetadata:{name:{typeName:"String"},displayName:{typeName:"String"},locationId:{typeName:"String"},replication:{},"replication.automatic":{},"replication.automatic._isPresent":{typeName:"Boolean"},"replication.automatic.customerManagedEncryption":{},"replication.automatic.customerManagedEncryption.kmsKeyName":{typeName:"String"},
"replication.userManaged":{},"replication.userManaged.replicas":{isList:!0},"replication.userManaged.replicas.location":{typeName:"String"},"replication.userManaged.replicas.customerManagedEncryption":{},"replication.userManaged.replicas.customerManagedEncryption.kmsKeyName":{typeName:"String"},"replication.replication":{isEnum:!0}}};var Yjk={query:'\nquery ListVersions($secretResourceName:String!,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!)@Signature(bytes:"2/XzKGO3vCyk5jyIzneWyNVNlhFblF1vVZdBBk9vzBxJA="){versionQueries_v1{versionsList(secretResourceName:$secretResourceName,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{...on google_cloud_secretmanager_v1_SecretVersion{name,displayName,state,createTime}},nextPageToken,partialCount,totalCount}}}\n',
listFieldPath:"versionQueries_v1.versionsList",coliseumEndpoint:{entity:"SECRETS_GRAPHQL",entityService:"SecretsEntityService"},field:"displayName",listMetadata:{isSortable:!0,isFilterable:!0,isPaged:!0},fieldMetadata:{name:{typeName:"String"},displayName:{typeName:"String"},state:{isEnum:!0},createTime:{typeName:"Timestamp"}}};var Zjk={query:'\nquery ListSecrets($projectResourceName:String!,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!)@Signature(bytes:"2/wwHXzJeoApZDGuU2zzXo81ZbsBiMly5PoLewYjUHZLg="){secretQueries_v1{secretsList(projectResourceName:$projectResourceName,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{...on google_cloud_secretmanager_v1_Secret{name,displayName,replication{...on google_cloud_secretmanager_v1_Replication{replication,automatic{_isPresent},userManaged{replicas{location}}}}}},nextPageToken,partialCount,totalCount}}}\n',
listFieldPath:"secretQueries_v1.secretsList",coliseumEndpoint:{entity:"SECRETS_GRAPHQL",entityService:"SecretsEntityService"},field:"displayName",listMetadata:{isSortable:!0,isFilterable:!0,isPaged:!0},fieldMetadata:{name:{typeName:"String"},displayName:{typeName:"String"},replication:{},"replication.replication":{isEnum:!0},"replication.automatic":{},"replication.automatic._isPresent":{typeName:"Boolean"},"replication.userManaged":{},"replication.userManaged.replicas":{isList:!0},"replication.userManaged.replicas.location":{typeName:"String"}}};var $jk=function(a,b){a.selectManagerCaches.has(b.cacheName)||a.selectManagerCaches.set(b.cacheName,_.Mn(a.stateService,"NON_SHAREABLE_CACHE_ID",!0));const c=a.selectManagerCaches.get(b.cacheName);c.has(b.cacheKey)||c.set(b.cacheKey,a.JSC$434168_graphqlSelectManagerFactory.prefetch(b.graphqlConfig,b.graphqlVariables,b.graphqlPrefetchConfig));return c.get(b.cacheKey)},akk=class{constructor(){this.JSC$434168_graphqlSelectManagerFactory=_.l(_.UF);this.stateService=_.l(_.Qn);this.selectManagerCaches=
new Map}};akk.\u0275fac=function(a){return new (a||akk)};akk.\u0275prov=_.k({token:akk,factory:akk.\u0275fac,providedIn:"root"});var bkk=class{constructor(a){this.error=a}getPageData(){return _.v({numTotalOptions:0,options:[],error:this.error})}setPageParameters(){}getOptionDisplayValue(){return""}getRowsPerPage(){}shouldIgnoreValue(){return!0}},ckk=new bkk;var dkk=["secretSelect"],ekk=["secretVersionSelect"],Dhk=a=>[a],fkk=0,Chk=function(a){const b={disableBackdropClick:!0,data:{secretName:a.secret,secretDisplayName:(new D1).transform(a.secret)}};a.addSecretVersionSubtaskComponent=a.subtaskService.open(ijk,b);a.addSecretVersionSubtaskComponent.onAccept.pipe(_.jf(1)).subscribe(c=>{a.refreshVersions$.next();gkk(a,c.name);a.secretVersionSelect.close()})},Hhk=function(a){if(a.secret){if(a.versionFetchFailed&&!a.secretVersion)return"Impossible de r\u00e9cup\u00e9rer les versions de ce secret. S\u00e9lectionnez un autre secret"}else return"Vous devez s\u00e9lectionner un secret avant de s\u00e9lectionner une version"},
Jhk=function(a,b){a.displayRegionalSecrets=b;a.toggleDisplayRegionalSecretsSubject.next(a.displayRegionalSecrets);a.secretControl.reset();let c;(c=a.versionControl)==null||c.reset()},Lhk=function(a){let b;const c={id:"create-secret-subtask",disableBackdropClick:!0,data:{locations:(b=a.regions)!=null?b:[],isRegionalSecret:a.displayRegionalSecrets}};a.createSecretSubtaskComponent=a.subtaskService.open(Pjk,c);a.createSecretSubtaskComponent.onAccept.pipe(_.jf(1)).subscribe(d=>{a.refreshSecrets$.next();
hkk(a,d.name);a.secretSelect.close()})},Nhk=function(a){a.dialog.open(Vjk,{data:{canEnterVersion:a.canSelectVersion||a.forceSelectVersion,validateExistence:a.validateExistence,isRegionalSecret:a.displayRegionalSecrets}}).afterClosed().pipe(_.qf()).subscribe(b=>{(a.manuallyEnteredSecretResourceName=b)&&hkk(a,b);a.secretSelect.close()})},jkk=function(a){return a.projectParamService.getCurrentProjectId().pipe(_.x(b=>b?`projects/${b}`:void 0),_.B(b=>b&&!a.isJurisdictionalized?$jk(a.selectManagerCache,
{cacheName:"secrets",cacheKey:b,graphqlConfig:Object.assign({},Zjk),graphqlVariables:{projectResourceName:b},graphqlPrefetchConfig:{rowsPerPage:100,showErrorMessages:!1}}):_.v(new bkk)),_.bf(a.projectId$,a.projectNumber$),_.x(([b,c,d])=>{b.getOptionValue=e=>e.name;b.getOptionDisplayValue=e=>{const f=(new ikk).transform(e);return a.manuallyEnteredSecretResourceName===e||f!==c&&f!==d?e:(new D1).transform(e)};return b}),_.Ze(b=>_.v(new bkk(b))))},kkk=function(a){const b=a.getLocations();return a.projectParamService.getCurrentProjectId().pipe(_.x(c=>
c?`projects/${c}`:void 0),_.bf(b),_.B(([c,d])=>c&&d.length>0?$jk(a.selectManagerCache,{cacheName:"regionalSecrets",cacheKey:c,graphqlConfig:Object.assign({},Xjk,{filteredFields:"displayName,locationId"}),graphqlVariables:{projectResourceName:c,locationIds:d},graphqlPrefetchConfig:{rowsPerPage:100,showErrorMessages:!1}}):_.v(new bkk)),_.bf(a.projectId$,a.projectNumber$),_.x(([c,d,e])=>{c.getOptionValue=f=>f.name;c.getOptionDisplayValue=f=>{const h=(new ikk).transform(f);return a.manuallyEnteredSecretResourceName===
f||h!==d&&h!==e?f:(new D1).transform(f)};return c}),_.Bf(1),_.Ze(c=>_.v(new bkk(c))))},lkk=function(a){return a.JSC$434196_regionalSupportEnabled?a.toggleDisplayRegionalSecretsSubject.pipe(_.B(b=>b?a.regionalSecretSelectManager$:a.globalSecretSelectManager$)):a.globalSecretSelectManager$},mkk=function(a){const b=a.regionalSecretSelectManager$.pipe(_.B(c=>c.getPageData()),_.x(c=>{a.fetchingSecrets=!1;return c.options.map(d=>new Oik(d))}),_.Ff([]),_.Bf(1),_.pf(()=>{a.fetchingSecrets=!1}));a.filterString$.pipe(_.Gf(a.destroyed$),
_.te(c=>c!==void 0),_.ef(1E3),_.B(c=>a.regionalSecretSelectManager$.pipe(_.x(d=>({filterString:c,selectManager:d}))))).subscribe(({filterString:c,selectManager:d})=>{a.fetchingSecrets=!0;d.setPageParameters({filterString:c!=null?c:"",rowsPerPage:100,currentPageIndex:0})});a.emptyRegionalSecretsList$=b.pipe(_.x(c=>c.length===0),_.Ff(!1),_.Bf(1));a.regionalSecretsListTooLong$=b.pipe(_.x(c=>c.length>=1E3),_.Bf(1));return b.pipe(_.x(c=>c.slice(0,1E3)),_.x(c=>{const d=new Map;for(const e of c)c=e.locationId,
d.has(c)||d.set(c,[]),d.get(c).push(e);return d}),_.Ff(new Map),_.Bf(1))},okk=function(a){const b=a.JSC$434196_parentReactiveForm.control;a.canSelectVersion?b.get("secretVersion").disable():b.get("secretVersion")&&!a.forceSelectVersion&&b.get("secretVersion").disable();a.form=b;a.secretControl.setValidators(a.required?[_.vr]:[]);_.wKa(a.secretControl,[c=>nkk(a,c)]);a.secretControl.updateValueAndValidity();_.n_c(a.secretControl).pipe(_.Gf(a.destroyed$)).subscribe(()=>{a.changeDetectorRef.detectChanges()});
a.versionControl&&(a.versionControl.setValidators(a.required?[_.vr]:[]),a.versionControl.updateValueAndValidity(),_.n_c(a.versionControl).pipe(_.Gf(a.destroyed$)).subscribe(()=>{a.changeDetectorRef.detectChanges()}));a.JSC$434196_rootReactiveForm.ngSubmit.pipe(_.Gf(a.destroyed$)).subscribe(()=>{a.changeDetectorRef.markForCheck()})},pkk=function(a){a.secretControl.setValidators(a.required?[_.vr]:[]);_.wKa(a.secretControl,[b=>nkk(a,b)]);a.secretControl.updateValueAndValidity();a.versionControl&&(a.versionControl.setValidators(a.required?
[_.vr]:[]),a.versionControl.updateValueAndValidity())},rkk=function(a,b){return a.validateRegions||typeof b!=="string"||!a.regions?_.v(!1):a.secrets$.pipe(_.x(c=>{c=c.find(d=>d.name===b);return!qkk(a,c)}),_.qf())},skk=function(a){a.versionControl&&(a.isVersionInVersionList$=_.fe([a.versionControl.valueChanges,a.versions$]).pipe(_.x(([b,c])=>c.some(d=>d.name===b)),_.Ff(!0),_.Bf(1)),a.additionalSecretVersions$=a.isVersionInVersionList$.pipe(_.x(b=>!b&&a.secretVersion?[new Pik({name:a.secretVersion,
displayName:(new D1).transform(a.secretVersion)})]:[])));a.secretControl.valueChanges.pipe(_.Gf(a.destroyed$),_.te(b=>!!b)).subscribe(b=>{a.secretStub$.next(new _.pj(b,118))});a.secretControl.valueChanges.pipe(_.Gf(a.destroyed$),_.te(b=>!!b),_.nf(),_.B(b=>{b=$jk(a.selectManagerCache,{cacheName:"secretVersions",cacheKey:b,graphqlConfig:Object.assign({},Yjk),graphqlVariables:{secretResourceName:b},graphqlPrefetchConfig:{rowsPerPage:100,sortKeys:[{id:"createTime",sortDirectionDescending:!0}],showErrorMessages:!1}}).pipe(_.x(c=>
{c.getOptionValue=d=>d.name;c.getOptionDisplayValue=d=>(new D1).transform(d);a.secretVersionsSelectManager$.next(c);return c}),_.Ze(()=>{a.versionFetchFailed=!0;return _.v(ckk)}));a.isLoadingSecretVersions$=b.pipe(_.B(c=>c.getPageData()),_.jf(1),_.hf(!1),_.Ze(()=>_.v(!1)),_.Ff(!0));return b.pipe(_.B(c=>c.getPageData()),_.x(c=>c.options.map(d=>new Pik(d))),_.Ff([]),_.Bf(1))})).subscribe(b=>{a.versionFetchFailed=!1;a.versions$.next(b);if(a.versionControl){const c=a.secretVersion;b.some(d=>d.name===
c)?_.oe.schedule(()=>{a.versionControl.reset(c)}):a.versionControl.reset("")}});a.versions$.pipe(_.Gf(a.destroyed$),_.x(b=>b.filter(c=>c.state==="ENABLED").map(c=>({name:c.name,displayName:c.displayName})))).subscribe(b=>{a.versionsChange.emit(b)});a.isSecretInSecretList$=_.fe([a.secretControl.valueChanges,a.secrets$]).pipe(_.te(([b])=>!!b),_.x(([b,c])=>c.some(d=>d.name===b)),_.Ff(!0),_.Bf(1));a.additionalSecrets$=a.isSecretInSecretList$.pipe(_.x(b=>!b&&a.secret?[new Oik({name:a.secret,displayName:(new D1).transform(a.secret)})]:
[]))},nkk=function(a,b){const c=b.value;return a.validateRegions&&typeof c==="string"&&a.regions?a.secrets$.pipe(_.x(d=>{d=d.find(e=>e.name===c);return qkk(a,d)?null:{region:!0}}),_.qf()):_.v(null)},hkk=function(a,b){b=Kgk(b);const c=Lgk(b.projectId,b.secretId,void 0,b.locationId);let d=void 0;b.versionId&&(d=Lgk(b.projectId,b.secretId,b.versionId,b.locationId));a.secretControl.setValue("",{emitEvent:!1});a.changeDetectorRef.detectChanges();a.secretControl.setValue(c);a.changeDetectorRef.detectChanges();
a.secretControl.setValue(c,{emitEvent:!1});a.changeDetectorRef.detectChanges();gkk(a,d);a.changeDetectorRef.detectChanges();a.form.updateValueAndValidity()},gkk=function(a,b){if((a.canSelectVersion||a.forceSelectVersion)&&b&&b!=="latest"){a.usingLatestVersionControl.setValue(!1);a.changeDetectorRef.detectChanges();let c;(c=a.versionControl)==null||c.setValue("",{emitEvent:!1});a.changeDetectorRef.detectChanges();let d;(d=a.versionControl)==null||d.setValue(b);a.changeDetectorRef.detectChanges();let e;
(e=a.versionControl)==null||e.setValue(b,{emitEvent:!1});a.changeDetectorRef.detectChanges()}else a.usingLatestVersionControl.setValue(!0)},qkk=function(a,b){if(!b||!b.isReplicationUserManaged)return!0;const c=new Set(b.replicas.map(d=>d.location));return a.regions&&a.regions.every(d=>c.has(d))},Rhk=class{get regions(){return this.regionsInternal}set regions(a){this.regionsInternal=a;this.regionsChanged$.next()}get selectionType(){return this.selectionTypeInternal}set selectionType(a){this.selectionTypeInternal=
a;this.JSC$434196_regionalSupportEnabled&&(this.selectionTypeInternal===1?this.isJurisdictionalized?Jhk(this,!0):this.displayRegionalSecretsToggleButton=!0:(this.displayRegionalSecretsToggleButton=!1,Jhk(this,!1)))}get secret(){let a;return((a=this.secretControl)==null?void 0:a.value)||""}set secret(a){this.secretControl.reset(a,{emitEvent:!1})}get secretVersion(){let a;return((a=this.versionControl)==null?void 0:a.value)||""}set secretVersion(a){let b;(b=this.versionControl)==null||b.reset(a,{emitEvent:!1})}get secretSelectLabel(){return this.secretSelectLabelInternal?
this.secretSelectLabelInternal:this.displayRegionalSecrets?"Secret r\u00e9gional":"Secret"}set secretSelectLabel(a){a&&(this.secretSelectLabelInternal=a)}get secretControl(){return this.form.controls.secret}get versionControl(){return this.form.controls.secretVersion}get secretVersionSelectShown(){return this.forceSelectVersion||this.canSelectVersion&&this.usingLatestVersionControl.value===!1}constructor(){this.JSC$434196_rootReactiveForm=_.l(_.Lr,{optional:!0});this.JSC$434196_parentReactiveForm=
_.l(_.Mr,{optional:!0});this.changeDetectorRef=_.l(_.ln);this.dialog=_.l(_.jp);this.JSC$434196_jurisdictionalizationService=_.l(_.Zp);this.projectParamService=_.l(_.aq);this.projectService=_.l(_.zq);this.secretService=_.l(Tik);this.selectManagerCache=_.l(akk);this.subtaskService=_.l(_.jz);this.dl={CONSOLE__SECRET_MANAGER_DOCS_LOCATIONS:vik};this.required=!0;this.CREATE_SECRET_PERMISSION="secretmanager.secrets.create";this.ADD_VERSION_PERMISSION="secretmanager.versions.add";this.MSG_DEFAULT_VERSION_SELECT_DISABLED=
"Impossible de s\u00e9lectionner une version de secret pour l'instant.";this.MSG_SECRET_PICKER_NONE_OPTION_TEXT="Aucun";this.form=new _.Dr({secret:new _.Gr(""),secretVersion:new _.Gr({value:"",disabled:!0})});this.forceSelectVersion=this.canSelectVersion=this.refreshSecretSelectOnOpen=!1;this.validateExistence=!0;this.validateRegions=!1;this.regionsInternal=[];this.selectionTypeInternal=0;this.secretSelectLabelInternal=void 0;this.showNoneOption=!1;this.regionalSecretGroups$=_.v(new Map);this.regionalSecretsListTooLong$=
_.v(!1);this.emptyRegionalSecretsList$=_.v(!1);this.versionFetchFailed=!1;this.manuallyEnteredSecretResourceName="";this.displayRegionalSecrets=this.displayRegionalSecretsToggleButton=!1;this.filterString$=new _.Jh;this.deleteFormControlOnDestroy=this.fetchingSecrets=!1;this.filterFunction=()=>!0;this.toggleDisplayRegionalSecretsSubject=new _.Jh(!1);let a;const b=(a=_.l(_.Er,{optional:!0}))!=null?a:void 0;this.JSC$434196_parentTemplateForm=b;this.isJurisdictionalized=this.JSC$434196_jurisdictionalizationService.isJurisdictionalized();
this.regionsChanged$=new _.wf;this.destroyed$=new _.rf;this.showRegionWarningMessage$=_.v(!1);this.secretChange=this.secretControl.valueChanges;this.JSC$434196_regionalSupportEnabled=_.gi(Njk);this.secretVersionChange=_.ne(()=>!!this.versionControl,this.versionControl.valueChanges,_.v(void 0));this.usingLatestVersionControl=new _.Gr(!0,_.vr);this.projectId$=this.projectParamService.getCurrentProjectId();this.projectNumber$=this.projectId$.pipe(_.B(c=>c?this.projectService.getProject(c):_.v(void 0)),
_.x(c=>c?c.projectNumber:void 0));this.JSC$434196_regionalSupportEnabled?(this.globalSecretSelectManager$=jkk(this),this.regionalSecretSelectManager$=kkk(this),this.secretSelectManager$=lkk(this),this.regionalSecretGroups$=mkk(this)):(this.regionalSecretSelectManager$=_.v(new bkk),this.secretSelectManager$=this.globalSecretSelectManager$=jkk(this));this.secretManagerApiDisabled$=this.secretSelectManager$.pipe(_.B(c=>c.getPageData()),_.x(c=>{if(!c.error)return!1;c=c.error;let d,e;return c.reason===
"SERVICE_DISABLED"&&((d=c.errorParameters)==null?void 0:(e=d.get("service"))==null?void 0:e[0])!=null||!(c.errorCode!==7||!c.message||!_.bl(c.message))}),_.Ff(!1));this.isLoadingSecrets$=this.secretSelectManager$.pipe(_.B(c=>c.getPageData()),_.jf(1),_.hf(!1),_.Ze(()=>_.v(!1)),_.Ff(!0));this.secrets$=this.secretSelectManager$.pipe(_.B(c=>c.getPageData()),_.x(c=>c.options.map(d=>new Oik(d))),_.Ff([]),_.Bf(1));this.refreshSecrets$=new _.rf;this.refreshVersions$=new _.rf;this.secretStub$=new _.Jh;this.versionsChange=
new _.Gi;this.secretVersionsSelectManager$=new _.Jh(ckk);this.versions$=new _.Jh([]);this.ve={SecretPickerVe:116441,SecretPickerAddSecretVersionButton:158576,SecretPickerCreateSecretButton:158526,SecretPickerEnterManualSecretButton:116370,SecretPickerLatestVersionCheckedToggle:116371,SecretPickerSecretSelect:116375,SecretPickerSecretVersionSelect:116377};this.refreshSecretSelect$=new _.rf;this.refreshSecretSelectDebounced=this.refreshSecretSelect$.pipe(_.ef(50),_.B(()=>this.secretSelectManager$)).subscribe(c=>
{c.refresh()});b&&b.control.addControl(`cfcSecretPicker${fkk++}`,this.form);this.usingLatestVersionControl.valueChanges.pipe(_.Gf(this.destroyed$)).subscribe(c=>{this.versionControl&&(c&&!this.forceSelectVersion?(this.versionControl.reset(""),this.versionControl.disable()):this.versionControl.enable())});this.refreshSecrets$.pipe(_.B(()=>this.secretSelectManager$)).subscribe(c=>{c.refresh()});this.refreshVersions$.pipe(_.B(()=>this.secretVersionsSelectManager$)).subscribe(c=>{c.refresh()})}onFilterStringChange(a){a!==
this.filterString$.value&&this.filterString$.next(a)}ngOnChanges(a){"regions"in a&&this.secretControl.updateValueAndValidity({emitEvent:!1})}ngOnInit(){this.JSC$434196_rootReactiveForm?okk(this):pkk(this);this.showRegionWarningMessage$=_.fe([this.secretControl.valueChanges,this.regionsChanged$]).pipe(_.B(([a])=>rkk(this,a)));skk(this);if(this.forceSelectVersion){let a;(a=this.versionControl)==null||a.enable()}this.secretSelectManager$.pipe(_.de(_.oe)).subscribe(()=>{this.secretSelect.value=this.secret});
this.regions=this.isJurisdictionalized?[]:this.regions}getLocations(){return this.projectParamService.getCurrentProjectId().pipe(_.B(a=>a?Qik(this.secretService).pipe(_.Ze(()=>_.v([])),_.x(b=>b.filter(c=>Mjk.includes(c)))):_.v([])),_.Bf(1))}ngAfterViewInit(){setTimeout(()=>{(this.canSelectVersion||this.forceSelectVersion)&&this.secretVersion?hkk(this,this.secretVersion):this.secret&&hkk(this,this.secret)})}ngOnDestroy(){this.refreshSecretSelectDebounced.unsubscribe();this.destroyed$.next();this.JSC$434196_parentTemplateForm&&
this.deleteFormControlOnDestroy&&this.JSC$434196_parentTemplateForm.control.removeControl(`cfcSecretPicker${fkk-1}`)}};Rhk.\u0275fac=function(a){return new (a||Rhk)};
Rhk.\u0275cmp=_.A({type:Rhk,selectors:[["cfc-secret-picker"]],viewQuery:function(a,b){a&1&&(_.Gg(dkk,5),_.Gg(ekk,5));if(a&2){let c;_.Jg(c=_.Kg())&&(b.secretSelect=c.first);_.Jg(c=_.Kg())&&(b.secretVersionSelect=c.first)}},inputs:{required:"required",refreshSecretSelectOnOpen:"refreshSecretSelectOnOpen",canSelectVersion:"canSelectVersion",forceSelectVersion:"forceSelectVersion",validateExistence:"validateExistence",validateRegions:"validateRegions",regions:"regions",regionsErrorMessage:"regionsErrorMessage",
selectionType:"selectionType",secret:"secret",secretVersion:"secretVersion",secretSelectLabel:"secretSelectLabel",secretHint:"secretHint",secretVersionHint:"secretVersionHint",showNoneOption:"showNoneOption",deleteFormControlOnDestroy:"deleteFormControlOnDestroy"},outputs:{secretChange:"secretChange",secretVersionChange:"secretVersionChange",versionsChange:"versionsChange"},standalone:!1,features:[_.fn],decls:12,vars:10,consts:()=>[["secretSelectLeftButtons",""],["regionalSecretSelectLeftButtons",
""],["secretSelect",""],["secretId",""],["defaultRegionsErrorMessage",""],["secretVersionSelect",""],["secretVersionSelectLeftButtons",""],"Veuillez indiquer un secret","Les r\u00e9gions du secret et de la ressource ne correspondent pas. Mettez \u00e0 jour la r\u00e9gion de cette ressource ou s\u00e9lectionnez un secret dont la r\u00e8gle de r\u00e9plication est mieux adapt\u00e9e.","Chargement des secrets\u2026","Affichage des 1\u00a0000\u00a0premiers secrets. Utilisez le filtre pour en afficher plus.",
"Veuillez s\u00e9lectionner un secret r\u00e9gional","Les r\u00e9gions de ce secret et de cette ressource ne correspondent pas. Vous pouvez mettre \u00e0 jour la r\u00e9plication de cette ressource ou s\u00e9lectionner un secret dont la r\u00e8gle de r\u00e9plication est mieux adapt\u00e9e.","En savoir plus","Utiliser la derni\u00e8re version","Version du secret","Ajouter une nouvelle version","Veuillez indiquer la version du secret","S\u00e9lectionner un secret r\u00e9gional","Saisir le secret manuellement",
"Cr\u00e9er un secret","Saisir le secret r\u00e9gional manuellement","Cr\u00e9er un secret r\u00e9gional",[3,"ve","veImpression"],[4,"ngIf"],["type","informational",4,"ngIf"],[3,"formControl","ve","veImpression","veClick",4,"ngIf"],["aria-label","Bouton bascule permettant d'afficher les secrets r\u00e9gionaux",3,"checked","change",4,"ngIf"],["noOptionsText","Aucun secret trouv\u00e9",3,"onOpen","formControl","hasFilter","isRequired","hasOkCancelButtons","leftButtons","manager","isLoading","additionalOptions",
"ve","veImpression","veClick","noneOptionText"],["matError","",4,"cfcDebounceErrorFor"],[4,"ngIf","ngIfElse"],[3,"primary"],["matError",""],["noOptionsText","Aucun secret trouv\u00e9",3,"filterStringChange","onOpen","formControl","hasFilter","isRequired","hasOkCancelButtons","leftButtons","isLoading","ve","veImpression","veClick","filterFunction","noneOptionText"],["aria-live","polite"],["aria-label","Chargement des secrets\u2026",3,"disabled",4,"ngIf"],["aria-label","Chargement des secrets\u2026",
3,"disabled"],[1,"cfc-flex-container"],["role","img","color","primary","aria-label","Chargement\u2026","diameter","18","strokeWidth","1.8",1,"cfc-select-spinner","cfc-container-item"],[1,"cfc-container-item"],["aria-label","Aucun secret trouv\u00e9",3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],[3,"disabled",4,"ngIf"],["aria-label","Aucun secret trouv\u00e9",3,"disabled"],[1,"cfc-space-above-minus-4","cfc-space-below-minus-5"],[3,"value"],[3,"label"],[3,"disabled"],
["type","informational"],["aria-label","En savoir plus sur la r\u00e9plication Secret\u00a0Manager",3,"cfcDocLink"],[3,"formControl","ve","veImpression","veClick"],["noOptionsText","Aucune version de secret trouv\u00e9e",3,"formControl","isRequired","hasOkCancelButtons","leftButtons","manager","isLoading","additionalOptions","cfcDisable","cfcDisableTooltip","ve","veImpression","veClick"],["mat-button","","color","primary","type","button","aria-label","Ajouter une nouvelle version","cfcDisableTooltipPosition",
"right","cfcDisable","",3,"click","cfcIamCheck","cfcIamResource","ve","veImpression","veClick"],["aria-label","Bouton bascule permettant d'afficher les secrets r\u00e9gionaux",3,"change","checked"],["mat-button","","color","primary","type","button",3,"click","ve","veImpression","veClick"],["mat-button","","color","primary","type","button","cfcDisableTooltipPosition","right","cfcDisableTooltip","Vous devez activer l'API Secret\u00a0Manager avant de pouvoir cr\u00e9er des secrets.",3,"cfcDisable","cfcIamCheck",
"ve","veImpression","veClick","click",4,"ngIf"],["mat-button","","color","primary","type","button","cfcDisableTooltipPosition","right","cfcDisableTooltip","Vous devez activer l'API Secret\u00a0Manager avant de pouvoir cr\u00e9er des secrets.",3,"click","cfcDisable","cfcIamCheck","ve","veImpression","veClick"],["mat-button","","color","primary","type","button","cfcDisableTooltipPosition","right","cfcDisableTooltip","Vous devez activer l'API Secret\u00a0Manager avant de pouvoir cr\u00e9er des secrets r\u00e9gionaux.",
3,"click","cfcDisable","cfcIamCheck","ve","veImpression","veClick"]],template:function(a,b){a&1&&(_.G(0,"div",23),_.D(1,phk,12,22,"mat-form-field",24)(2,yhk,10,17,"mat-form-field",24)(3,zhk,6,1,"cfc-message",25),_.T(4,"async"),_.D(5,Ahk,2,4,"mat-checkbox",26)(6,Ihk,13,20,"mat-form-field",24)(7,Khk,2,1,"mat-slide-toggle",27),_.H(),_.D(8,Ohk,3,4,"ng-template",null,0,_.fh)(10,Phk,5,12,"ng-template",null,1,_.fh));a&2&&(_.E("ve",b.ve.SecretPickerVe)("veImpression",!0),_.y(),_.E("ngIf",!b.displayRegionalSecrets),
_.y(),_.E("ngIf",b.displayRegionalSecrets),_.y(),_.E("ngIf",!b.validateRegions&&_.U(4,8,b.showRegionWarningMessage$)===!0),_.y(2),_.E("ngIf",b.canSelectVersion&&!b.forceSelectVersion),_.y(),_.E("ngIf",b.secretVersionSelectShown),_.y(),_.E("ngIf",b.displayRegionalSecretsToggleButton))},dependencies:()=>[_.Gq,_.Sq,_.cs,_.Yr,_.as,_.Zw,_.$w,_.Yw,_.qn,_.rn,_.uw,_.Aw,_.mx,_.Cp,_.Ap,_.wp,_.Oq,_.wy,_.ev,_.fv,_.cv,_.nv,_.ov,_.pv,_.at,_.Zs,_.Ys,_.Ev,_.Kp,_.Lp,_.zr,_.Kr,_.cw,_.aw,_.fp,_.bv,_.fw,_.iw,_.wn,_.yn,
ikk],encapsulation:2,changeDetection:0});var D1=class{transform(a){try{return a.split("/").pop()||""}catch(b){return""}}};D1.\u0275fac=function(a){return new (a||D1)};D1.\u0275pipe=_.Ye({name:"toDisplayName",type:D1,pure:!0,standalone:!1});var ikk=class{transform(a){try{return Kgk(a).projectId}catch(b){return""}}};ikk.\u0275fac=function(a){return new (a||ikk)};ikk.\u0275pipe=_.Ye({name:"toProjectId",type:ikk,pure:!0,standalone:!1});var tkk={"in":{getIamPolicyRequests:{__type:".IN_google_iam_v1_GetIamPolicyRequest",__isList:!0}},out:{metaApiService:{iamPolicies:{__isList:!0,etag:"Bytes"}}}};var ukk={entity:"SECRETS_GRAPHQL",entityService:"SecretsEntityService"};var vkk={IN_google_iam_v1_SetIamPolicyRequest:{policy:".IN_google_iam_v1_Policy",updateMask:"FieldMask"},IN_google_cloud_secretmanager_v1_Secret:{expiration:"Oneof",tags:"Map",annotations:"Map",labels:"Map",replication:".IN_google_cloud_secretmanager_v1_Replication",createTime:"Timestamp",expireTime:"Timestamp",ttl:"Duration",rotation:".IN_google_cloud_secretmanager_v1_Rotation",versionAliases:{__type:".IN_google_cloud_secretmanager_v1_Secret_VersionAliasesEntry",__isMap:!0},versionDestroyTtl:"Duration"},
IN_google_cloud_secretmanager_v1_SecretPayload:{data:"Bytes",dataCrc32C:"Long"},IN_google_iam_v1_Policy:{rules:{__type:".IN_google_iam_v1_Rule",__isList:!0},etag:"Bytes"},IN_google_cloud_secretmanager_v1_Replication:{replication:"Oneof"},IN_google_cloud_secretmanager_v1_Rotation:{nextRotationTime:"Timestamp",rotationPeriod:"Duration"},IN_google_cloud_secretmanager_v1_Secret_VersionAliasesEntry:{value:"Long"},IN_google_iam_v1_Rule:{conditions:{__type:".IN_google_iam_v1_Condition",__isList:!0},logConfig:{__type:".IN_google_iam_v1_LogConfig",
__isList:!0}},IN_google_iam_v1_Condition:{subject:"Oneof"},IN_google_iam_v1_LogConfig:{type:"Oneof"}};var wkk={"in":{setIamPolicyRequests:{__type:".IN_google_iam_v1_SetIamPolicyRequest",__isList:!0}},out:{metaApiService:{setIamPolicies:{__isList:!0,etag:"Bytes"}}}};var xkk={"in":{testIamPermissionsRequests:{__type:".IN_google_iam_v1_TestIamPermissionsRequest",__isList:!0}}};var ykk=class extends _.iq{constructor(a,b){super(vkk);this.config=_.gq(a,ukk,!1);this.operation=b.create(this.config)}queryGetIamPolicies(a,b){a=this.serialize(tkk,a);return this.config.request("GetIamPolicies",'query GetIamPolicies($getIamPolicyRequests: [IN_google_iam_v1_GetIamPolicyRequest!]!) @NullProto @Signature(bytes: "2/ydir6UVW0TWZ99QeID7FEpG4FJ3TTxLJKhE+kssvlpU=") { metaApiService: iamPolicyQueries { iamPolicies(getIamPolicyRequests: $getIamPolicyRequests) { ...policy } } } fragment policy on google_iam_v1_Policy { version bindings { role members condition { expression title description location } bindingId } auditConfigs { service auditLogConfigs { logType exemptedMembers ignoreChildExemptions } } etag }',
a,b).pipe(this.deserialize(tkk))}mutationSetIamPolicies(a,b){a=this.serialize(wkk,a);return this.config.request("SetIamPolicies",'mutation SetIamPolicies($setIamPolicyRequests: [IN_google_iam_v1_SetIamPolicyRequest!]!) @NullProto @Signature(bytes: "2/07Dm0bsUaDRzChKF+S3vHoTUMKYk9iJgazIo4mJA6A4=") { metaApiService: iamPolicyMutations { setIamPolicies(setIamPolicyRequests: $setIamPolicyRequests) { ...policy } } } fragment policy on google_iam_v1_Policy { version bindings { role members condition { expression title description location } bindingId } auditConfigs { service auditLogConfigs { logType exemptedMembers ignoreChildExemptions } } etag }',
a,b).pipe(this.deserialize(wkk))}queryTestIamPermissions(a,b){a=this.serialize(xkk,a);return this.config.request("TestIamPermissions",'query TestIamPermissions($testIamPermissionsRequests: [IN_google_iam_v1_TestIamPermissionsRequest!]!) @Signature(bytes: "2/6kmQxCxn88mQ9Hn4QmTEfd5tif9hMlvgQ83d+uc5ZHo=") { metaApiService: iamPolicyQueries { iamPermissions(testIamPermissionsRequests: $testIamPermissionsRequests) { permissions } } }',a,b).pipe(this.deserialize(xkk))}};
ykk.\u0275fac=function(a){return new (a||ykk)(_.ad(_.lq),_.ad(_.wq))};ykk.\u0275prov=_.k({token:ykk,factory:ykk.\u0275fac,providedIn:"root"});var zkk=class{constructor(){const a=_.l(_.Vt),b=_.l(ykk);_.Ut(a,118,b)}};zkk.\u0275fac=function(a){return new (a||zkk)};zkk.\u0275mod=_.We({type:zkk});zkk.\u0275inj=_.Pc({imports:[kjk,_.rt,_.ds,_.ax,_.An,Rjk,_.yw,_.px,_.Gp,_.Qq,_.xy,Wjk,_.gv,_.qv,_.Pp,_.Xr,Cjk,_.nw,_.XC,_.sA]});var Shk=class{};Shk.\u0275fac=function(a){return new (a||Shk)};Shk.\u0275mod=_.We({type:Shk});Shk.\u0275inj=_.Pc({imports:[zkk,zkk]});var Akk=["git_connection_details_subtask"],Bkk=function(a,b){if(!b){b={url:a.url,defaultBranch:a.defaultBranch};if(a.remoteUrlProtocol===1){a=a.sshAuthenticationConfig;var c=a==null?void 0:a.userPrivateKeySecret.secret;return a&&c?Object.assign({},b,{sshAuthenticationConfig:{userPrivateKeySecretVersion:Qhk(c),hostPublicKey:a.hostPublicKey}}):b}let d;return Object.assign({},b,{authenticationTokenSecretVersion:((c=a.personalAccessTokenSecret)==null?void 0:c.secret)&&Qhk((d=a.personalAccessTokenSecret)==
null?void 0:d.secret)})}},Ckk=class{get connectRepositoryDocLink(){return this.isBQUI?oik:qik}constructor(){this.contextService=_.l(_.Jx);this.store=_.l(_.Gk);this.JSC$434228_p4saProvider=_.l(_.N0);this.listSecretsLink=_.Sek.create().link().build();this.onSuccess=new _.Gi;this.isBQUI=!1;this.defaultServiceAccount$=this.JSC$434228_p4saProvider.defaultServiceAccountEmail();this.authenticationSecretsDescription="Dataform a besoin d'un secret contenant un jeton d'acc\u00e8s personnel (pour les d\u00e9p\u00f4ts HTTPS distants) ou d'une cl\u00e9 priv\u00e9e utilisateur (pour les d\u00e9p\u00f4ts SSH distants) pour se connecter \u00e0 votre fournisseur Git.";
this.onDelete=a=>a?this.onSubmit(a,!0).pipe(_.x(()=>{})):_.v();this.onSubmit=(a,b)=>this.repositoryScope?_.s3g(this.store,(0,_.I2g)({scope:this.repositoryScope,gitRemoteSettings:Bkk(a,b),updateMask:["git_remote_settings.url","git_remote_settings.default_branch","git_remote_settings.authentication_token_secret_version","git_remote_settings.ssh_authentication_config.user_private_key_secret_version","git_remote_settings.ssh_authentication_config.host_public_key"]})).pipe(_.cf(c=>{if(!(c!=null&&c.error||
b))return _.s3g(this.store,(0,_.L2g)({scope:this.repositoryScope}));b&&this.store.dispatch((0,_.M2g)({scope:this.repositoryScope}));return _.v(c)}),_.Jf(c=>{c!=null&&c.error||(this.subtask.cancel(),this.onSuccess.emit())})):_.v();this.raf=Vhk(this.onSubmit,()=>{this.subtask.cancel()},this.onDelete)}ngOnInit(){this.authenticationSecretsDescription=this.isBQUI?"BigQuery a besoin d'un secret contenant un jeton d'acc\u00e8s personnel (pour les d\u00e9p\u00f4ts HTTPS distants) ou d'une cl\u00e9 priv\u00e9e utilisateur (pour les d\u00e9p\u00f4ts SSH distants) pour se connecter \u00e0 votre fournisseur Git.":
"Dataform a besoin d'un secret contenant un jeton d'acc\u00e8s personnel (pour les d\u00e9p\u00f4ts HTTPS distants) ou d'une cl\u00e9 priv\u00e9e utilisateur (pour les d\u00e9p\u00f4ts SSH distants) pour se connecter \u00e0 votre fournisseur Git."}open(){let a;this.store.select(_.cxj(((a=this.repositoryScope)==null?void 0:a.repositoryId)||"")).pipe(_.jf(1)).subscribe(c=>{this.raf=Vhk(this.onSubmit,()=>{this.subtask.cancel()},this.onDelete,c,this.isBQUI)});let b;(b=this.contextService.context.get(this.raf.form))==
null||b.reset();this.subtask.open()}};Ckk.\u0275fac=function(a){return new (a||Ckk)};
Ckk.\u0275cmp=_.A({type:Ckk,selectors:[["git-connection-details"]],viewQuery:function(a,b){a&1&&_.Gg(Akk,5);if(a&2){let c;_.Jg(c=_.Kg())&&(b.subtask=c.first)}},inputs:{repositoryScope:"repositoryScope",isBQUI:"isBQUI"},outputs:{onSuccess:"onSuccess"},decls:15,vars:9,consts:()=>[["git_connection_details_subtask",""],"\ufffd0\ufffdPour continuer, cr\u00e9ez un secret dans \ufffd#7\ufffdSecret\u00a0Manager\ufffd/#7\ufffd et accordez les autorisations \ufffd#8\ufffdroles/secretmanager.secretAccessor\ufffd/#8\ufffd au compte de service Dataform par d\u00e9faut (\ufffd*9:1\ufffd\ufffd#1:1\ufffd\ufffd0:1\ufffd\ufffd/#1:1\ufffd\ufffd/*9:1\ufffd).","\ufffd#13\ufffdLien vers la documentation sur la connexion \u00e0 un d\u00e9p\u00f4t Git distant\ufffd/#13\ufffd",
[3,"content"],["target","_blank","rel","noopener noreferrer",3,"cfcRouterLink"],["cfc-code-snippet-inline",""],[4,"ngIf"],["aria-label","Lien vers la documentation sur la connexion \u00e0 un d\u00e9p\u00f4t Git distant","target","_blank",3,"cfcDocLink"]],template:function(a,b){a&1&&(_.G(0,"cfc-sub-task",null,0),_.J(2,"raf-action-bar",3),_.G(3,"cfc-panel-body"),_.J(4,"raf-form",3),_.G(5,"p"),_.og(6,1),_.J(7,"a",4)(8,"span",5),_.D(9,Whk,2,1,"b",6),_.T(10,"async"),_.pg(),_.H(),_.G(11,"p"),_.og(12,2),
_.J(13,"a",7),_.pg(),_.H()(),_.J(14,"raf-footer",3),_.H());a&2&&(_.y(2),_.E("content",b.raf.actionBar),_.y(2),_.E("content",b.raf.form),_.y(3),_.E("cfcRouterLink",b.listSecretsLink),_.y(2),_.E("ngIf",_.U(10,7,b.defaultServiceAccount$)),_.y(),_.rg(b.authenticationSecretsDescription),_.sg(6),_.y(3),_.E("cfcDocLink",b.connectRepositoryDocLink),_.y(),_.E("content",b.raf.footer))},dependencies:[Shk,B1,zik,_.Qq,_.Oq,_.rn,_.ws,_.Op,_.vH,_.uH,_.xH,_.wH,_.AA,_.zA,_.Js,_.Hs,_.XC,_.kz,_.wn],encapsulation:2});
_.Dkk=class{};_.Dkk.\u0275fac=function(a){return new (a||_.Dkk)};_.Dkk.\u0275mod=_.We({type:_.Dkk});_.Dkk.\u0275inj=_.Pc({imports:[B1,_.Qq,_.ws,_.vH,_.xH,_.AA,_.Js,_.XC,Ckk]});var Ekk=["npm_package_secret_subtask"],Fkk=class{constructor(){this.route=_.l(_.Ih);this.contextService=_.l(_.Jx);this.store=_.l(_.Gk);this.JSC$434237_p4saProvider=_.l(_.N0);this.listSecretsLink=_.Sek.create().link().build();this.onSuccess=new _.Gi;this.onSubmit=a=>{if(!this.repositoryScope)return _.v();let b,c;return _.s3g(this.store,(0,_.I2g)({scope:this.repositoryScope,npmrcEnvironmentVariablesSecretVersion:((b=a.tokenSecret)==null?void 0:b.secret)&&Xhk((c=a.tokenSecret)==null?void 0:c.secret),
updateMask:["npmrc_environment_variables_secret_version"]})).pipe(_.Jf(d=>{d!=null&&d.error||(this.subtask.cancel(),this.onSuccess.emit())}))};_.gGi.create(this.route);this.defaultServiceAccount$=this.JSC$434237_p4saProvider.defaultServiceAccountEmail();this.raf=Yhk(this.onSubmit,()=>{this.subtask.cancel()})}open(){let a;this.store.select(_.cxj(((a=this.repositoryScope)==null?void 0:a.repositoryId)||"")).pipe(_.jf(1)).subscribe(c=>{this.raf=Yhk(this.onSubmit,()=>{this.subtask.cancel()},c)});let b;
(b=this.contextService.context.get(this.raf.form))==null||b.reset();this.subtask.open()}};Fkk.\u0275fac=function(a){return new (a||Fkk)};
Fkk.\u0275cmp=_.A({type:Fkk,selectors:[["npm-package-secret"]],viewQuery:function(a,b){a&1&&_.Gg(Ekk,5);if(a&2){let c;_.Jg(c=_.Kg())&&(b.subtask=c.first)}},inputs:{repositoryScope:"repositoryScope"},outputs:{onSuccess:"onSuccess"},decls:12,vars:7,consts:()=>[["npm_package_secret_subtask",""],"Pour utiliser des packages npm priv\u00e9s dans Dataform, vous devez associer un secret contenant un fichier JSON aux jetons d'authentification que vous souhaitez utiliser dans votre fichier .npmrc.\n      Pour continuer, cr\u00e9ez un secret dans \ufffd#7\ufffdSecret\u00a0Manager\ufffd/#7\ufffd et accordez les autorisations \ufffd#8\ufffdroles/secretmanager.secretAccessor\ufffd/#8\ufffd au compte de service Dataform par d\u00e9faut (\ufffd*9:1\ufffd\ufffd#1:1\ufffd\ufffd0:1\ufffd\ufffd/#1:1\ufffd\ufffd/*9:1\ufffd).",[3,
"content"],["target","_blank","rel","noopener noreferrer",3,"cfcRouterLink"],["cfc-code-snippet-inline",""],[4,"ngIf"]],template:function(a,b){a&1&&(_.G(0,"cfc-sub-task",null,0),_.J(2,"raf-action-bar",2),_.G(3,"cfc-panel-body"),_.J(4,"raf-form",2),_.G(5,"p"),_.og(6,1),_.J(7,"a",3)(8,"span",4),_.D(9,Zhk,2,1,"b",5),_.T(10,"async"),_.pg(),_.H()(),_.J(11,"raf-footer",2),_.H());a&2&&(_.y(2),_.E("content",b.raf.actionBar),_.y(2),_.E("content",b.raf.form),_.y(3),_.E("cfcRouterLink",b.listSecretsLink),_.y(2),
_.E("ngIf",_.U(10,5,b.defaultServiceAccount$)),_.y(2),_.E("content",b.raf.footer))},dependencies:[B1,zik,_.rn,_.ws,_.Op,_.vH,_.uH,_.xH,_.wH,_.AA,_.zA,_.Js,_.Hs,_.XC,_.kz,_.wn],encapsulation:2});_.Gkk=class{};_.Gkk.\u0275fac=function(a){return new (a||_.Gkk)};_.Gkk.\u0275mod=_.We({type:_.Gkk});_.Gkk.\u0275inj=_.Pc({imports:[B1,_.ws,_.vH,_.xH,_.AA,_.Js,_.XC,Fkk]});var lik,Hkk,Lkk,Ikk,Jkk,Kkk;lik=()=>["dataform.repositories.update"];Hkk=function(a,b){a.repositoryDetails$=a.store.select(_.cxj(b.repositoryId||""));a.repositoryAuthenticationStatus$=a.store.select(_.bxj(b.repositoryId||"")).pipe(_.x(c=>c==null?void 0:c.gitAuthenticationStatus));a.repositoryGitRemoteSettingsSelector$=a.repositoryDetails$.pipe(_.x(c=>c==null?void 0:c.gitRemoteSettings));a.compilationOverrides$=a.store.select(Rfk(b.repositoryId||""))};
Lkk=function(a,b){a.editRepoRaf=Ufk(c=>Ikk(a,c),{repositoryId:b.repositoryId,location:b.location},a.isBQUI?()=>{}:()=>{Jkk(a)},a.isBQUI?void 0:Kkk(a),a.isBQUI?void 0:a.defaultServiceAccountEmail,a.repositoryGitRemoteSettingsSelector$,a.isBQUI?void 0:a.repositoryDetails$.pipe(_.x(c=>(c==null?void 0:c.serviceAccount)||"default")),a.isBQUI?void 0:a.repositoryDetails$.pipe(_.x(c=>c==null?void 0:c.kmsKeyName)),a.isBQUI?void 0:()=>_.$d(_.znj(a.JSC$434245_serviceAccountListProvider)),a.isBQUI||!a.actAsEnabled?
void 0:a.repositoryDetails$.pipe(_.x(c=>c==null?void 0:c.strictActAsChecks)),!a.isBQUI&&a.actAsEnabled)};Ikk=function(a,b){b.serviceAccount==="default"&&(b.serviceAccount="");const c=["service_account"];a.actAsEnabled&&c.push("strict_act_as_checks");let d;return _.s3g(a.store,(0,_.I2g)({scope:a.repositoryScope,serviceAccount:b.serviceAccount,strictActAsChecks:(d=b.strictActAsChecks)==null?void 0:d.enforced,updateMask:c})).pipe(_.x(e=>{if(e!=null&&e.error)throw Error();}),_.Ze(e=>_.Zd(()=>e)))};
Jkk=function(a){a.dialogRef=a.dialog.open(_.ynj,_.Noj);a.dialogRef.afterClosed().pipe(_.jf(1),_.te(b=>!!b)).subscribe(b=>{a.manualServiceAccounts.next([{label:b,value:b,hint:void 0},{label:"Compte de service Dataform par d\u00e9faut",value:"default",hint:a.defaultServiceAccountEmail}])})};Kkk=function(a){return _.Moj(a.JSC$434245_serviceAccountListProvider.serviceAccounts$,a.manualServiceAccounts,a.repositoryDetails$.pipe(_.x(b=>b==null?void 0:b.serviceAccount)))};
_.Mkk=class{get connectRepositoryDocLink(){return this.isBQUI?oik:qik}ngOnChanges(a){if(a=a.repositoryScope.currentValue)this.isBQUI&&this.store.dispatch((0,_.H2g)({scope:a})),Hkk(this,a),Lkk(this,a)}constructor(){this.store=_.l(_.Gk);this.route=_.l(_.Ih);this.JSC$434245_p4saProvider=_.l(_.N0);this.JSC$434245_dataformAccessGrantsService=_.l(_.MGj);this.dialog=_.l(_.jp);this.isBQUI=!1;this.dl={CONSOLE__DATAFORM_DOCS_COMPILATION_OVERRIDES:pik,CONSOLE__DATAFORM_DOCS_REQUIRED_ACCESS:_.xnj};this.authenticationStatusEnum=
_.yik;this.actAsEnabled=_.gi(_.Qek);this.actAsChecksEnabled$=_.je(()=>this.repositoryDetails$.pipe(_.x(a=>(a==null?void 0:a.strictActAsChecks)===!0)));this.JSC$434245_serviceAccountListProvider=_.l(_.B0);this.showGitConnectionDetailsSuccess=!1;this.serviceAccountRequiredGrants$=_.fe([_.dxj(this.JSC$434245_p4saProvider),this.actAsChecksEnabled$]).pipe(_.B(([a,b])=>this.getServiceAccountRequiredGrants(a,b)));this.defaultServiceAccountEmail=this.JSC$434245_p4saProvider.defaultServiceAccountEmail();this.getAuthenticationStatusDescription=
_.Vfk;this.manualServiceAccounts=new _.Jh([{label:"Compte de service Dataform par d\u00e9faut",value:"default",hint:this.defaultServiceAccountEmail}]);this.repositoryDetails$=_.v(void 0);this.repositoryGitRemoteSettingsSelector$=_.v(void 0);this.repositoryAuthenticationStatus$=_.v(void 0);this.compilationOverrides$=_.v(void 0)}ngOnInit(){this.isBQUI||_.kw(this.route,"repositoryScope").subscribe(a=>{a&&(this.repositoryScope=a)})}ngOnDestroy(){this.manualServiceAccounts.unsubscribe()}getServiceAccountRequiredGrants(a,
b){return _.LGj(this.JSC$434245_dataformAccessGrantsService,a,{includeQueryRoles:!0,includeActAsChecksRoles:this.actAsEnabled&&b})}};_.Mkk.\u0275fac=function(a){return new (a||_.Mkk)};
_.Mkk.\u0275cmp=_.A({type:_.Mkk,selectors:[["repository-settings-tab"]],viewQuery:function(a,b){a&1&&(_.Gg(Ckk,5),_.Gg(Fkk,5),_.Gg(Eik,5));if(a&2){let c;_.Jg(c=_.Kg())&&(b.gitConnectionDetails=c.first);_.Jg(c=_.Kg())&&(b.npmPackageSecret=c.first);_.Jg(c=_.Kg())&&(b.compilationOverridesSettings=c.first)}},inputs:{isBQUI:"isBQUI",repositoryScope:"repositoryScope"},features:[_.fn],decls:5,vars:7,consts:()=>[["notConfigured",""],_.tg("\ufffd*2:1\ufffd\ufffd#1:1\ufffd[\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]\n          \ufffd*3:2\ufffd\ufffd#1:2\ufffd[\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]\n          Se connecter avec Git"),
"\ufffd#2\ufffd\ufffd/#2\ufffd Modifier la connexion Git","\ufffd#2\ufffd\ufffd/#2\ufffd Configurer les packages npm priv\u00e9s","Fermer","Remplacements de compilation d'espace de travail","\ufffd#6\ufffd\ufffd/#6\ufffd\u00a0Modifier","\ufffd#9\ufffdForcez l'ID de projet cible, le pr\u00e9fixe de table et les param\u00e8tres de suffixe de sch\u00e9ma pour les ex\u00e9cutions manuelles de tous les espaces de travail du d\u00e9p\u00f4t. Les param\u00e8tres par d\u00e9faut sont stock\u00e9s dans \"workflow_settings.yaml\". En savoir plus sur les \ufffd#10\ufffdremplacements de compilation d'espace de travail\ufffd/#10\ufffd\n        \ufffd/#9\ufffd",
"Aucun remplacement de compilation d'espace de travail configur\u00e9.",[4,"ngIf"],[3,"onSuccess","repositoryScope","isBQUI"],[3,"repositoryScope"],[1,"cfc-gutter-minus-2","cfc-text-body"],[1,"cfc-space-below-minus-2"],["mat-button","","color","primary",3,"cmNativeDisabled","click",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["class","cfc-width-base",4,"ngIf"],["warningText","Pour ex\u00e9cuter des requ\u00eates dans Dataform, vous devez disposer des r\u00f4les suivants\u00a0:",
3,"requiredGrants","learnMoreDocLink"],[3,"content"],["class","cfc-space-below-minus-2",4,"ngIf"],["mat-button","","color","primary",3,"click","cmNativeDisabled"],["matButtonIcon","","icon","working","size","small",4,"ngIf"],["matButtonIcon","","icon","connect","iconset","shell","size","small",4,"ngIf"],"matButtonIcon  icon working size small".split(" "),"matButtonIcon  icon connect iconset shell size small".split(" "),["mat-button","","color","primary",3,"click"],[1,"cfc-width-base"],["type","success",
"id","git-connection-details-success-message",4,"ngIf"],["type","error","id","git-connection-details-error-message",4,"ngIf"],["type","success","id","git-connection-details-success-message"],["u18n","Text that appears when user successfully connects to a Git repository"],["type","error","id","git-connection-details-error-message"],[1,"cfc-font-weight-bold"],["target","_blank",3,"cfcDocLink"],[1,"cfc-flex-container","cfc-flex-center-aligned","cfc-space-below-minus-2"],[3,"visualLevel","removeMargins"],
["mat-button","","cfcDisable","","cfcIamNoPermissionTooltip","Vous ne disposez pas des autorisations n\u00e9cessaires pour modifier les remplacements de compilation d'espace de travail.","color","primary",1,"cfc-indent",3,"click","cfcIamCheck"],["matButtonIcon","","icon","edit"],[4,"ngIf","ngIfElse"],[3,"compilationOverrides"],[1,"cfc-color-secondary"]],template:function(a,b){a&1&&(_.D(0,nik,15,11,"ng-container",9),_.T(1,"async"),_.G(2,"git-connection-details",10),_.P("onSuccess",function(){b.showGitConnectionDetailsSuccess=
!0}),_.H(),_.J(3,"npm-package-secret",11)(4,"compilation-overrides-settings",11));a&2&&(_.E("ngIf",_.U(1,5,b.repositoryDetails$)),_.y(2),_.E("repositoryScope",b.repositoryScope)("isBQUI",b.isBQUI),_.y(),_.E("repositoryScope",b.repositoryScope),_.y(),_.E("repositoryScope",b.repositoryScope))},dependencies:[_.rt,_.Gq,_.ds,_.cs,_.Yr,_.as,_.Cik,Aik,_.Gik,Eik,_.px,_.Aw,_.Qq,_.Oq,_.Dkk,Ckk,_.tw,_.sw,_.xy,_.wy,_.Jp,_.Fp,_.Pp,_.Kp,_.Mp,_.Lp,_.rn,_.Gkk,Fkk,_.AA,_.zA,_.D0,_.C0,_.wn],encapsulation:2});
}catch(e){_._DumpException(e)}
try{
_.Vh("pm_bigquery_repositories_list_panel_tab");
var Nkk=function(a){switch(a){case "VALID":return"Valide";case "INVALID":return"Non valide";case "NOT_FOUND":return"Introuvable (ou autorisation de lecture manquante)";default:return"Inconnu"}},Okk=function(a){a&1&&_.J(0,"cfc-breadcrumbs",0);a&2&&(a=_.Q(),_.E("noFinalHighlight",!0)("breadcrumbs",a.currentBreadcrumbs))},Pkk=function(a){a&1&&_.J(0,"resource-navigation-breadcrumbs",10);a&2&&(a=_.Q(),_.E("resourceName",a.resourceName)("compact",!0))},Rkk=function(a){if(a&1){const b=_.m();_.G(0,"resource-list-breadcrumbs",
19);_.P("containerTypeChange",function(c){_.p(b);const d=_.Q();d.model.containerType=c;Qkk(d);d.refreshTable();return _.t(void 0)});_.H()}a&2&&(a=_.Q(),_.E("projectId",a.model.projectRef.projectId)("repositoryId",a.repositoryScope?a.repositoryScope.repositoryId:"")("containerType",a.model.containerType))},Skk=function(a){a&1&&_.J(0,"bq-resource-entity-icon",12);a&2&&(a=_.Q(),_.E("entityType",a.entityType))},Ukk=function(a){if(a&1){const b=_.m();_.G(0,"div",14)(1,"button",16);_.P("click",function(){_.p(b);
const c=_.Q();return _.t(Tkk(c))});_.J(2,"cm-icon",17);_.R(3);_.H()()}a&2&&(a=_.Q(),_.y(),_.E("cfcTooltip",a.i18n.MSG_BQ_ADD_REPOSITORY),_.Xf("aria-label",a.i18n.MSG_BQ_ADD_REPOSITORY),_.y(),_.E("icon",a.icons.addIcon24px),_.y(),_.S(" ",a.i18n.MSG_BQ_ADD_REPOSITORY," "))},Wkk=function(a){if(a&1){const b=_.m();_.G(0,"div",14)(1,"button",16);_.P("click",function(){_.p(b);const c=_.Q();return _.t(Vkk(c))});_.J(2,"cm-icon",17);_.R(3);_.H()()}a&2&&(a=_.Q(),_.y(),_.E("cfcTooltip",a.i18n.MSG_BQ_ADD_WORKSPACE),
_.Xf("aria-label",a.i18n.MSG_BQ_ADD_WORKSPACE),_.y(),_.E("icon",a.icons.addIcon24px),_.y(),_.S(" ",a.i18n.MSG_BQ_ADD_WORKSPACE," "))},Xkk=function(a,b){a&1&&(_.K(0),_.R(1),_.M());a&2&&(a=b.rowData,_.Q(3),_.y(),_.S(" ",_.dD(a.name).workspaceId," "))},Ykk=function(a){a&1&&(_.K(0),_.og(1,6),_.J(2,"cfc-help-button",29),_.pg(),_.M());a&2&&(a=_.Q(4),_.y(2),_.E("tooltip",a.i18n.MSG_BQ_REMOTE_BRANCH_HELP_TEXT))},Zkk=function(a,b){a&1&&(_.K(0),_.R(1),_.M());a&2&&(b=b.rowData,a=_.Q(),_.Q(3),_.y(),b=_.dD(b.name),
a=a.has(b.workspaceId)?b.workspaceId:"",_.S(" ",a," "))},$kk=function(a){a&1&&(_.G(0,"cfc-table-column",27),_.D(1,Ykk,3,1,"ng-container",26)(2,Zkk,2,1,"ng-container",26),_.H());a&2&&(_.y(),_.E("cfcTableTemplate","header"),_.y(),_.E("cfcTableTemplate","body"))},blk=function(a,b){if(a&1){const c=_.m();_.G(0,"div")(1,"button",16);_.P("click",function(){const d=_.p(c).rowData,e=_.Q(3);return _.t(alk(e,d.name))});_.R(2);_.H();_.G(3,"button",30);_.J(4,"cm-icon",31);_.H()()}if(a&2){a=b.rowData;b=_.Q(3);
const c=_.ug(24);_.y();_.E("cfcTooltip",b.i18n.MSG_BQ_OPEN_RESOURCE);_.Xf("aria-label",b.i18n.MSG_BQ_OPEN_RESOURCE);_.y();_.S(" ",b.i18n.MSG_BQ_OPEN_RESOURCE," ");_.y();_.E("cfcMenuTriggerData",a)("cfcMenuTriggerFor",c);_.y();_.E("icon",b.icons.moreIcon24px)}},dlk=function(a,b){a&1&&(_.G(0,"div")(1,"cfc-table",24,5)(4,"cfc-table-column",25),_.D(5,Xkk,2,1,"ng-container",26),_.H(),_.F(6,$kk,3,2,"cfc-table-column",27),_.T(7,"async"),_.G(8,"cfc-table-column",28),_.D(9,blk,5,6,"div",26),_.H()()());if(a&
2){let c;a=b.ngIf;b=_.Q(2);_.y();_.E("tableManager",a)("showFilter",!0)("filterChips",b.filterChips)("implicitFilterChips",b.implicitFilterChips)("pagination",!0)("rowsPerPage",50)("fullBleedConfig",_.Yg(14,clk,b.FullBleedMode.NEVER));_.y(4);_.E("cfcTableTemplate","body");_.y();_.gg((c=_.U(7,12,b.remoteBranchesSet$))?6:-1,c);_.y(2);_.E("nonHideable",!0)("sortDisabled",!0);_.y();_.E("cfcTableTemplate","body")}},elk=function(a){a&1&&(_.G(0,"mat-tab-group")(1,"mat-tab",20),_.D(2,dlk,10,16,"div",21),
_.T(3,"async"),_.H(),_.G(4,"mat-tab",22),_.J(5,"repository-settings-tab",23),_.H()());if(a&2){a=_.Q();const b=_.ug(26);_.y(2);_.E("ngIf",_.U(3,4,a.graphqlTableManager$))("ngIfElse",b);_.y(3);_.E("repositoryScope",a.repositoryScope)("isBQUI",!0)}},flk=function(a,b){if(a&1){const c=_.m();_.G(0,"a",43);_.P("click",function(){const d=_.p(c).rowData,e=_.Q(4);return _.t(e.onClickOpen(d))});_.R(1);_.H()}a&2&&(a=b.rowData,b=_.Q(4),_.E("cfcTooltip",b.getDisplayName(a)),_.y(),_.S(" ",b.getDisplayName(a)," "))},
glk=function(a,b){a&1&&(_.K(0),_.R(1),_.M());a&2&&(a=b.rowData,b=_.Q(4),_.y(),_.S(" ",b.formatDateTime(a.createTime)," "))},hlk=function(a){a&1&&_.J(0,"cfc-table-column",41);a&2&&(a=_.Q(4),_.E("header",a.i18n.MSG_COLUMN_LABEL_MIGRATION_ID))},ilk=function(a){a&1&&(_.G(0,"cfc-table-column",37),_.D(1,flk,2,2,"a",38),_.H(),_.J(2,"cfc-table-column",39),_.G(3,"cfc-table-column",40),_.D(4,glk,2,1,"ng-container",26),_.H(),_.F(5,hlk,1,1,"cfc-table-column",41),_.J(6,"cfc-table-column",42));a&2&&(a=_.Q(3),_.E("header",
a.i18n.MSG_COLUMN_LABEL_DISPLAY_NAME),_.y(),_.E("cfcTableTemplate","body"),_.y(),_.E("header",a.i18n.MSG_COLUMN_LABEL_TYPE),_.y(),_.E("type",a.FilterKeyType.DATE),_.y(),_.E("cfcTableTemplate","body"),_.y(),_.gg(a.model.dataformMigrationId&&a.isSavedQueryMigrationToolEnabled?5:-1),_.y(),_.E("hidden",!0)("type",a.FilterKeyType.BOOLEAN)("header",a.i18n.MSG_COLUMN_LABEL_UNTITLED))},jlk=function(a,b){a&1&&(_.G(0,"a",46),_.R(1),_.H());a&2&&(a=b.rowData,_.Q(6),_.E("cfcRouterLink",_.vE(`${a.name}/workspaces`))("cfcTooltip",
a.repositoryId),_.y(),_.S(" ",a.repositoryId," "))},klk=function(a){a&1&&_.D(0,jlk,2,3,"a",52);a&2&&_.E("cfcTableTemplate","body")},llk=function(a,b){if(a&1){const c=_.m();_.G(0,"a",43);_.P("click",function(){const d=_.p(c).rowData,e=_.Q(6);e.model.containerType="bucket-workspace";e.model.selectedSourceControlledRepositoryName=d.name;Qkk(e);e.refreshTable();return _.t(void 0)});_.R(1);_.H()}a&2&&(a=b.rowData,_.E("cfcTooltip",a.repositoryId),_.y(),_.S(" ",a.repositoryId," "))},mlk=function(a){a&1&&
_.D(0,llk,2,2,"a",38);a&2&&_.E("cfcTableTemplate","body")},nlk=function(a,b){a&1&&(_.K(0),_.R(1),_.M());a&2&&(a=b.rowData,_.y(),_.S(" ",a.locationId," "))},olk=function(a){a&1&&_.J(0,"a",53);if(a&2){var b=_.Q().rowData;a=_.Q(5);a=_.E("cfc-external-link",a.convertToBrowserLink(b.gitRemoteSettings.url));b=new URL(_.Poj(b.gitRemoteSettings.url));a("linkText",`${b.hostname}${b.pathname}`)}},plk=function(a,b){a&1&&(_.K(0),_.F(1,olk,1,2,"a",53),_.M());a&2&&(a=b.rowData,_.y(),_.gg((a.gitRemoteSettings==
null?0:a.gitRemoteSettings.url)?1:-1))},qlk=function(a){a&1&&(_.G(0,"cfc-help-button",55),_.R(1),_.H());if(a&2){a=_.Q();const b=_.Q(3).rowData,c=_.Q(5);_.y();_.Rg(" ",c.getAuthenticationStatusDescription(b.computedAccessTokenStatus,a)," ",(b.computedAccessTokenStatus==null?null:b.computedAccessTokenStatus.errorMessage)||""," ")}},rlk=function(a){a&1&&_.D(0,qlk,2,2,"cfc-help-button",56);if(a&2){a=_.Q(3).rowData;const b=_.Q(5);_.E("ngIf",a.computedAccessTokenStatus.tokenStatus!=b.authenticationStatusEnum.VALID)}},
slk=function(a){a&1&&(_.R(0),_.F(1,rlk,1,1,"cfc-help-button",55),_.T(2,"async"));if(a&2){let b;a=_.Q(2).rowData;const c=_.Q(5);_.S(" ",c.getAuthenticationStatusShortText(a.computedAccessTokenStatus.tokenStatus)," ");_.y();_.gg((b=_.U(2,2,c.defaultServiceAccount$))?1:-1,b)}},tlk=function(a){a&1&&_.J(0,"mat-spinner",54)},ulk=function(a){a&1&&_.F(0,slk,3,4)(1,tlk,1,0,"mat-spinner",54);a&2&&(a=_.Q().rowData,_.gg(a.computedAccessTokenStatus?0:1))},vlk=function(a,b){a&1&&(_.K(0),_.F(1,ulk,2,1),_.M());a&
2&&(a=b.rowData,_.y(),_.gg((a.gitRemoteSettings==null?0:a.gitRemoteSettings.url)?1:-1))},wlk=function(a,b){a&1&&(_.K(0),_.R(1),_.M());a&2&&(a=b.rowData,b=_.Q(5),_.y(),_.S(" ",b.formatDateTime(a.createTime)," "))},xlk=function(a){a&1&&(_.G(0,"cfc-table-column",45),_.F(1,klk,1,1,"a",46)(2,mlk,1,1,"a",47),_.H(),_.G(3,"cfc-table-column",48),_.D(4,nlk,2,1,"ng-container",26),_.H(),_.G(5,"cfc-table-column",49),_.D(6,plk,2,1,"ng-container",26),_.H(),_.G(7,"cfc-table-column",50),_.D(8,vlk,2,1,"ng-container",
26),_.H(),_.G(9,"cfc-table-column",51),_.D(10,wlk,2,1,"ng-container",26),_.H());a&2&&(a=_.Q(4),_.y(),_.gg(a.isWorkspaceUrlEnabled?1:2),_.y(3),_.E("cfcTableTemplate","body"),_.y(2),_.E("cfcTableTemplate","body"),_.y(),_.E("sortDisabled",!0),_.y(),_.E("cfcTableTemplate","body"),_.y(),_.E("type",a.FilterKeyType.DATE),_.y(),_.E("cfcTableTemplate","body"))},ylk=function(a,b){a&1&&(_.K(0),_.R(1),_.M());a&2&&(a=b.rowData,_.Q(5),_.y(),_.S(" ",_.dD(a.name).workspaceId," "))},zlk=function(a){a&1&&(_.G(0,"cfc-table-column",
44),_.D(1,ylk,2,1,"ng-container",26),_.H());a&2&&(_.y(),_.E("cfcTableTemplate","body"))},Alk=function(a,b){if(a&1){const c=_.m();_.G(0,"a",43);_.P("click",function(){const d=_.p(c).rowData,e=_.Q(5);return _.t(e.onClickOpen(d))});_.R(1);_.H()}a&2&&(a=b.rowData,b=_.Q(5),_.E("cfcTooltip",b.getDisplayName(a)),_.y(),_.S(" ",b.getDisplayName(a)," "))},Blk=function(a,b){a&1&&(_.K(0),_.R(1),_.M());a&2&&(a=b.rowData,b=_.Q(5),_.y(),_.S(" ",b.formatDateTime(a.createTime)," "))},Clk=function(a){a&1&&(_.G(0,"cfc-table-column",
37),_.D(1,Alk,2,2,"a",38),_.H(),_.J(2,"cfc-table-column",57),_.G(3,"cfc-table-column",58),_.D(4,Blk,2,1,"ng-container",26),_.H(),_.J(5,"cfc-table-column",42));a&2&&(a=_.Q(4),_.E("header",a.i18n.MSG_COLUMN_LABEL_DISPLAY_NAME),_.y(),_.E("cfcTableTemplate","body"),_.y(2),_.E("type",a.FilterKeyType.DATE),_.y(),_.E("cfcTableTemplate","body"),_.y(),_.E("hidden",!0)("type",a.FilterKeyType.BOOLEAN)("header",a.i18n.MSG_COLUMN_LABEL_UNTITLED))},Dlk=function(a){a&1&&(_.F(0,xlk,11,7),_.F(1,zlk,2,1,"cfc-table-column",
44),_.F(2,Clk,6,7));a&2&&(a=_.Q(3),_.gg(a.model.containerType===a.ResourceEntityType.BUCKET_REPOSITORY?0:-1),_.y(),_.gg(a.isGitReposPreviewEnabled||a.model.containerType!==a.ResourceEntityType.BUCKET_WORKSPACE?-1:1),_.y(),_.gg(a.isWorkflowsList?2:-1))},Elk=function(a){a&1&&(_.G(0,"span",61),_.R(1," - "),_.H());a&2&&(_.Q(6),a=_.ug(22),_.E("cfcTooltip",a)("cfcTooltipInteractive",!0))},Flk=function(a){a&1&&(_.G(0,"span"),_.R(1),_.H());a&2&&(a=_.Q(2).rowData,_.Q(4),_.y(),_.S(" ",a.ownerInfo.owners.join(", "),
" "))},Glk=function(a){a&1&&_.F(0,Elk,2,2,"span",61)(1,Flk,2,1,"span");a&2&&(a=_.Q().rowData,_.gg(a.ownerInfo.owners.length===0?0:1))},Hlk=function(a){a&1&&(_.G(0,"span",59),_.R(1," Need permission "),_.H());if(a&2){a=_.Q(5);const b=_.ug(18);_.E("cfcTooltip",b)("cfcTooltipAction",a.ownerPermissionDeniedLearnMoreDocAction)("cfcTooltipInteractive",!0)}},Ilk=function(a){a&1&&(_.G(0,"span",60),_.R(1," Failed to load "),_.H());a&2&&(_.Q(5),a=_.ug(20),_.E("cfcTooltip",a)("cfcTooltipInteractive",!0))},Jlk=
function(a,b){a&1&&(_.K(0),_.F(1,Glk,2,1)(2,Hlk,2,3,"span",59)(3,Ilk,2,2,"span",60),_.M());a&2&&(a=b.rowData,b=_.Q(4),_.y(),_.gg(a.ownerInfo.ownerInfoStatus===b.OwnerInfoStatus.SUCCEED?1:a.ownerInfo.ownerInfoStatus===b.OwnerInfoStatus.FAILED_WITH_PERMISSION_DENIED?2:3))},Klk=function(a){a&1&&(_.G(0,"cfc-table-column",34),_.D(1,Jlk,4,1,"ng-container",26),_.H());a&2&&(_.y(),_.E("cfcTableTemplate","body"))},Llk=function(a,b){a&1&&(_.G(0,"button",62),_.J(1,"cm-icon",31),_.H());if(a&2){a=b.rowData;b=_.Q(3);
const c=_.ug(24);_.E("cfcMenuTriggerData",a)("cfcMenuTriggerFor",c);_.y();_.E("icon",b.icons.moreIcon24px)}},Mlk=function(a,b){a&1&&(_.G(0,"div")(1,"cfc-table",33,5),_.F(4,ilk,7,9),_.F(5,Dlk,3,3),_.F(6,Klk,2,1,"cfc-table-column",34),_.G(7,"cfc-table-column",35),_.D(8,Llk,2,3,"button",36),_.H()()());a&2&&(a=b.ngIf,b=_.Q(2),_.y(),_.E("tableManager",a)("showFilter",!0)("filterChips",b.filterChips)("implicitFilterChips",b.implicitFilterChips)("pagination",!0)("rowsPerPage",50),_.y(3),_.gg(b.model.isSingleFileAssetList?
4:-1),_.y(),_.gg(b.model.isSingleFileAssetList?-1:5),_.y(),_.gg(b.model.containerType!==b.ResourceEntityType.BUCKET_WORKSPACE?6:-1),_.y(),_.E("nonHideable",!0)("sortDisabled",!0),_.y(),_.E("cfcTableTemplate","body"))},Nlk=function(a){a&1&&(_.D(0,Mlk,9,12,"div",32),_.T(1,"async"));a&2&&(a=_.Q(),_.E("ngIf",_.U(1,1,a.graphqlTableManager$)))},Olk=function(a){a&1&&_.J(0,"cfc-loader",18);a&2&&_.E("isLoading",!0)},Plk=function(a){a&1&&(_.G(0,"p")(1,"b"),_.R(2),_.H()(),_.G(3,"p"),_.R(4),_.G(5,"a",63),_.R(6,
" Learn more "),_.H()());a&2&&(a=_.Q(),_.y(2),_.Pg(a.noPermissionToViewOwnerTitleMsg),_.y(2),_.S(" ",a.noPermissionToViewOwnerDescriptionMsg," "),_.y(),_.E("cfcDocLink",a.docLinks.CONSOLE__DATAFORM_DOCS_ACCESS_CONTROL))},Qlk=function(a){a&1&&(_.G(0,"p")(1,"b"),_.R(2),_.H()(),_.G(3,"p"),_.R(4),_.H());a&2&&(a=_.Q(),_.y(2),_.Pg(a.failedToLoadOwnerTitleMsg),_.y(2),_.S(" ",a.failedToLoadOwnerDescriptionMsg," "))},Rlk=function(a){a&1&&(_.G(0,"p")(1,"b"),_.R(2),_.H()(),_.G(3,"p"),_.R(4),_.H());a&2&&(a=_.Q(),
_.y(2),_.Pg(a.noOwnerTitleMsg),_.y(2),_.S(" ",a.noOwnerDescriptionMsg," "))},Tlk=function(a){if(a&1){const b=_.m();_.G(0,"cfc-menu-item",69);_.P("click",function(){_.p(b);const c=_.Q().$implicit,d=_.Q();return _.t(d.onClickOpen(c))});_.H()}if(a&2){a=_.Q().$implicit;const b=_.Q();_.E("tooltip",_.Yg(1,Slk,b.getMsgs(a).overflowMenuOpenTooltipMsg))}},Wlk=function(a){if(a&1){const b=_.m();_.G(0,"cfc-menu-item",70);_.P("click",function(){_.p(b);const c=_.Q().$implicit,d=_.Q();return _.t(d.onClickShare(c))});
_.H()}if(a&2){a=_.Q().$implicit;const b=_.Q();_.E("cfcIamCheck",_.Xg(4,Ulk))("cfcIamResource",Vlk(a))("cfcIamNoPermissionTooltip",b.shareResourceMsg)("tooltip",_.Yg(5,Slk,b.getMsgs(a).overflowMenuShareTooltipMsg))}},Ylk=function(a){if(a&1){const b=_.m();_.G(0,"cfc-menu-item",71);_.P("click",function(){_.p(b);const c=_.Q().$implicit,d=_.Q();return _.t(d.onClickDelete(c))});_.H()}if(a&2){a=_.Q().$implicit;const b=_.Q();_.E("cfcIamCheck",_.Xg(4,Xlk))("cfcIamResource",Vlk(a))("cfcIamNoPermissionTooltip",
b.deleteWorkspaceMsg)("tooltip",_.Yg(5,Slk,b.getMsgs(a).overflowMenuDeleteTooltipMsg))}},$lk=function(a){if(a&1){const b=_.m();_.G(0,"cfc-menu-item",72);_.P("click",function(){_.p(b);const c=_.Q().$implicit,d=_.Q();return _.t(d.onClickDelete(c))});_.H()}if(a&2){a=_.Q().$implicit;const b=_.Q();_.E("cfcIamCheck",_.Xg(4,Zlk))("cfcIamResource",Vlk(a))("cfcIamNoPermissionTooltip",b.deleteResourceMsg)("tooltip",_.Yg(5,Slk,b.getMsgs(a).overflowMenuDeleteTooltipMsg))}},amk=function(a){a&1&&(_.G(0,"cfc-menu",
64)(1,"cfc-menu-section"),_.F(2,Tlk,1,3,"cfc-menu-item",65),_.F(3,Wlk,1,7,"cfc-menu-item",66),_.F(4,Ylk,1,7,"cfc-menu-item",67)(5,$lk,1,7,"cfc-menu-item",68),_.H()());a&2&&(a=_.Q(),_.y(2),_.gg(a.model.isSingleFileAssetList?2:-1),_.y(),_.gg(a.model.containerType!==a.ResourceEntityType.BUCKET_WORKSPACE?3:-1),_.y(),_.gg(a.model.containerType===a.ResourceEntityType.BUCKET_WORKSPACE?4:5))},bmk=function(a){a&1&&_.J(0,"cfc-loader",18);a&2&&_.E("isLoading",!0)},cmk=function(a){const b=a==="bucket-workspace"?
_.Nj("Vous ne disposez pas des autorisations n\u00e9cessaires pour afficher les ressources. Assurez-vous de disposer de l'autorisation {PERMISSION}.",{PERMISSION:"dataform.workspaces.list"}):_.Nj("Vous ne disposez pas des autorisations n\u00e9cessaires pour afficher les ressources. Assurez-vous de disposer de l'autorisation {PERMISSION}.",{PERMISSION:"dataform.repositories.list"});return c=>{switch(c.status){case 403:return{message:{kind:"customizable",status:"error",text:b}};default:return{message:{kind:"customizable",
status:"error",text:c.userMessage||"D\u00e9sol\u00e9, le serveur n'a pas pu traiter votre demande."}}}}},dmk={STATUS_UNSPECIFIED:"STATUS_UNSPECIFIED",SUCCEED:"SUCCEED",FAILED_WITH_PERMISSION_DENIED:"FAILED_WITH_PERMISSION_DENIED",FAILED:"FAILED"},emk=[{field:"repositoryId",order:"ASCENDING"}];var fmk={query:'\nquery ListRepositories($parent:String!,$type:google_internal_cloud_console_clientapi_bigquery_workspace_SingleFileAsset_AssetType,$backendFilter:String,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!)@Signature(bytes:"2/wv9KxXGiuzsF0wKzXeuArytOxIuppG1OmSxr1pzrRhA="){listRepositories(parent:$parent,type:$type,backendFilter:$backendFilter,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{name,type,displayName,createTime,ownerInfo{ownerInfoStatus,owners},migrationContext{migrationId,classicSavedQueryId,migrationStatus},isUntitled},nextPageToken,totalCount,partialCount}}\n',
autosuggestQuery:'\nquery ListRepositoriesAutosuggest($parent:String!,$type:google_internal_cloud_console_clientapi_bigquery_workspace_SingleFileAsset_AssetType,$backendFilter:String,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!,$autosuggestTerm:String!,$autosuggestLimit:Int!,$autosuggestFields:[String!])@Signature(bytes:"2/EKlAZJjtNMYrLc5CLmAz9mBOJTtruUb8UDg6v1NfR3k="){listRepositories(parent:$parent,type:$type,backendFilter:$backendFilter,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{name,type,displayName,createTime,ownerInfo{ownerInfoStatus,owners},migrationContext{migrationId,classicSavedQueryId,migrationStatus},isUntitled},nextPageToken,totalCount,partialCount,suggestions(term:$autosuggestTerm,limit:$autosuggestLimit,fields:$autosuggestFields)}}\n',
listFieldPath:"listRepositories",coliseumEndpoint:{entity:"BIGQUERY_WORKSPACE_GRAPHQL",entityService:"BigqueryWorkspaceEntityService"},rowIdField:"name",listMetadata:{isSortable:!0,isFilterable:!0,isPaged:!0},fieldMetadata:{name:{typeName:"String"},type:{isEnum:!0},displayName:{typeName:"String"},createTime:{typeName:"Timestamp"},ownerInfo:{},"ownerInfo.ownerInfoStatus":{isEnum:!0},"ownerInfo.owners":{typeName:"String",isList:!0},migrationContext:{},"migrationContext.migrationId":{typeName:"String"},
"migrationContext.classicSavedQueryId":{typeName:"String"},"migrationContext.migrationStatus":{isEnum:!0},isUntitled:{typeName:"Boolean"}}};var gmk={query:'\nquery ListSourceControlledRepositories($parent:String!,$type:google_internal_cloud_console_clientapi_bigquery_workspace_RepositoryType=REPOSITORYTYPE_NORMAL,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!)@Signature(bytes:"2/LNy2+UYioukuUR7X6m1HtkESXUtpAAXhotQRG/lPgXw="){listSourceControlledRepositories(parent:$parent,type:$type,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{name,locationId,repositoryId,displayName,createTime,isUntitled,ownerInfo{ownerInfoStatus,owners},gitRemoteSettings{url,defaultBranch,authenticationTokenSecretVersion,sshAuthenticationConfig{userPrivateKeySecretVersion,hostPublicKey}},serviceAccount,computedAccessTokenStatus@defer{tokenStatus}},nextPageToken}}\n',
autosuggestQuery:'\nquery ListSourceControlledRepositoriesAutosuggest($parent:String!,$type:google_internal_cloud_console_clientapi_bigquery_workspace_RepositoryType=REPOSITORYTYPE_NORMAL,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!,$autosuggestTerm:String!,$autosuggestLimit:Int!,$autosuggestFields:[String!])@Signature(bytes:"2/nKMOEm7vF6QBsqlMJ8BCUva6I3hx9CTI6Xj+KMQPog8="){listSourceControlledRepositories(parent:$parent,type:$type,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{name,locationId,repositoryId,displayName,createTime,isUntitled,ownerInfo{ownerInfoStatus,owners},gitRemoteSettings{url,defaultBranch,authenticationTokenSecretVersion,sshAuthenticationConfig{userPrivateKeySecretVersion,hostPublicKey}},serviceAccount,computedAccessTokenStatus@defer{tokenStatus}},nextPageToken,suggestions(term:$autosuggestTerm,limit:$autosuggestLimit,fields:$autosuggestFields)}}\n',
listFieldPath:"listSourceControlledRepositories",coliseumEndpoint:{entity:"BIGQUERY_WORKSPACE_GRAPHQL",entityService:"BigqueryWorkspaceEntityService"},rowIdField:"name",listMetadata:{isSortable:!0,isFilterable:!0,isPaged:!0},fieldMetadata:{name:{typeName:"String"},locationId:{typeName:"String"},repositoryId:{typeName:"String"},displayName:{typeName:"String"},createTime:{typeName:"Timestamp"},isUntitled:{typeName:"Boolean"},ownerInfo:{},"ownerInfo.ownerInfoStatus":{isEnum:!0},"ownerInfo.owners":{typeName:"String",
isList:!0},gitRemoteSettings:{},"gitRemoteSettings.url":{typeName:"String"},"gitRemoteSettings.defaultBranch":{typeName:"String"},"gitRemoteSettings.authenticationTokenSecretVersion":{typeName:"String"},"gitRemoteSettings.sshAuthenticationConfig":{},"gitRemoteSettings.sshAuthenticationConfig.userPrivateKeySecretVersion":{typeName:"String"},"gitRemoteSettings.sshAuthenticationConfig.hostPublicKey":{typeName:"String"},serviceAccount:{typeName:"String"},computedAccessTokenStatus:{},"computedAccessTokenStatus.tokenStatus":{isEnum:!0}}};var hmk={query:'\nquery ListWorkspaces($parent:String!,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!)@Signature(bytes:"2/ugiYvzlCOfTw1XUUs5wVumFMRB9dttw4RZ4mk9RsA/U="){listWorkspaces(parent:$parent,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{name},nextPageToken}}\n',autosuggestQuery:'\nquery ListWorkspacesAutosuggest($parent:String!,$orderBy:[IN_tools_build_defs_graphql_SortOrder!],$locale:String,$filter:String,$pageToken:String,$pageSize:Int!,$autosuggestTerm:String!,$autosuggestLimit:Int!,$autosuggestFields:[String!])@Signature(bytes:"2/mwQPe226nfnRn/ox6NPyoD52UW7My9+4sAqUSYckL3k="){listWorkspaces(parent:$parent,orderBy:$orderBy,locale:$locale,filter:$filter,pageToken:$pageToken,pageSize:$pageSize){data{name},nextPageToken,suggestions(term:$autosuggestTerm,limit:$autosuggestLimit,fields:$autosuggestFields)}}\n',
listFieldPath:"listWorkspaces",coliseumEndpoint:{entity:"BIGQUERY_WORKSPACE_GRAPHQL",entityService:"BigqueryWorkspaceEntityService"},rowIdField:"name",listMetadata:{isSortable:!0,isFilterable:!0,isPaged:!0},fieldMetadata:{name:{typeName:"String"}}};var imk=function(a){const b=[{kind:"label",label:a.projectId,iconset:"shellgm2",icon:"project"}];switch(a.containerType){case "bucket-repository":a.currentBreadcrumbs={items:[...b,{kind:"label",label:_.GA.MSG_REPOSITORIES_BUCKET_NAME,icon:"folder-data",iconset:"common"}]};break;case "bucket-workflow":const {iconName:c,iconSet:d}=_.gYc("bucket-workflow");a.currentBreadcrumbs={items:[...b,{kind:"label",label:_.GA.MSG_PIPELINE_BUCKET_NAME,icon:c,iconset:d}]};break;case "bucket-workspace":a.currentBreadcrumbs=
{items:[...b,{kind:"button",label:_.GA.MSG_REPOSITORIES_BUCKET_NAME,icon:"folder-data",iconset:"common",click:()=>{a.containerTypeChange.emit("bucket-repository")}},{kind:"label",label:a.repositoryId,icon:"folder-data",iconset:"common"}]}}},jmk=class{constructor(){this.repositoryId="";this.containerType="bucket-repository";this.containerTypeChange=new _.Gi}ngOnInit(){imk(this)}ngOnChanges(a){a.containerType&&imk(this)}};jmk.\u0275fac=function(a){return new (a||jmk)};
jmk.\u0275cmp=_.A({type:jmk,selectors:[["resource-list-breadcrumbs"]],inputs:{projectId:"projectId",repositoryId:"repositoryId",containerType:"containerType"},outputs:{containerTypeChange:"containerTypeChange"},standalone:!1,features:[_.fn],decls:1,vars:1,consts:[[1,"cfc-space-above-minus-4","cfc-space-below-minus-4","bq-resource-list-breadcrumbs",3,"noFinalHighlight","breadcrumbs"]],template:function(a,b){a&1&&_.F(0,Okk,1,2,"cfc-breadcrumbs",0);a&2&&_.gg(b.currentBreadcrumbs?0:-1)},dependencies:[_.YI],
styles:[".bq-resource-list-breadcrumbs[_ngcontent-%COMP%]{margin-left:4px}"]});var kmk=[_.ZI],lmk=class{};lmk.\u0275fac=function(a){return new (a||lmk)};lmk.\u0275mod=_.We({type:lmk});lmk.\u0275inj=_.Pc({imports:[kmk]});var mmk=["repositoriesListTable"],nmk=["tableStateManager"],clk=a=>({mode:a}),Slk=a=>({cfcTooltip:a,cfcTooltipPosition:"right"}),Ulk=()=>["dataform.repositories.setIamPolicy"],Xlk=()=>["dataform.workspaces.delete"],Zlk=()=>["dataform.repositories.delete"],Tkk=function(a){_.iz(a.subtaskService,(0,_.Qk)("ShvEp").then(()=>_.omk),{data:{}}).onAccept.subscribe(()=>{a.refreshTable()})},Vkk=function(a){const b=_.rE(a.model.selectedSourceControlledRepositoryName);a.store.select(_.cxj(b.repositoryId)).pipe(_.x(c=>
{let d;return c==null?void 0:(d=c.gitRemoteSettings)==null?void 0:d.defaultBranch}),_.jf(1)).subscribe(c=>{_.iz(a.subtaskService,(0,_.Qk)("PNqQNc").then(()=>_.pmk),{data:{repositoryId:b.repositoryId,locationId:b.locationId,remoteDefaultBranch:c}}).onAccept.subscribe(()=>{a.refreshTable()})})},alk=function(a,b){a.JSC$434265_confirmDialogService.confirm({header:"Ouvrir un espace de travail",body:"Si vous changez d'espace de travail, tous les onglets associ\u00e9s \u00e0 l'espace de travail actuel seront ferm\u00e9s.",
operation:()=>{const c=_.dD(b);_.YGi(a.JSC$434265_gitWorkspaceService,c,{updateTaberna:!0,updateWsParam:!0});return _.re}})},Vlk=function(a){return new _.pj(a.name,207,a.displayName,`//dataform.googleapis.com/${a.name}`)},Qkk=function(a){if(a.model.isSingleFileAssetList){var b=[_.tu({keyId:"type",key:a.i18n.MSG_COLUMN_LABEL_TYPE,value:"NOTEBOOK",wasSelectedSuggestion:!0}),_.tu({value:"OR",isOperator:!0}),_.tu({keyId:"type",key:a.i18n.MSG_COLUMN_LABEL_TYPE,value:"SQL",wasSelectedSuggestion:!0})];a.dataportEnablementService.isVisible()&&
b.push(_.tu({value:"OR",isOperator:!0}),_.tu({keyId:"type",key:a.i18n.MSG_COLUMN_LABEL_TYPE,value:"DATA_CANVAS",wasSelectedSuggestion:!0}));_.z5g(a.dataduoEnablementService)&&b.push(_.tu({value:"OR",isOperator:!0}),_.tu({keyId:"type",key:a.i18n.MSG_COLUMN_LABEL_TYPE,value:"DATA_PREPARATION",wasSelectedSuggestion:!0}));a.implicitFilterChips=b;a.filterChips=qmk(a)}else a.implicitFilterChips=[],a.filterChips=[];rmk(a);smk(a);a.graphqlTableManager$=tmk(a).pipe(_.Jf(c=>{a.JSC$434265_graphqlTableManager=
c}));b={type:"BUCKET",subType:a.model.containerType,reference:a.model.projectRef};a.loadedResource$.next(b);a.resourceLoaded.emit(b)},qmk=function(a){const b=[];if(a.model.isSingleFileAssetList){var c=b.push,d=a.i18n.MSG_COLUMN_LABEL_TYPE;a:{var e=a.model.containerType;switch(e){case "bucket-query":case "bucket-notebook":case "bucket-notebook-untitled":case "bucket-data-canvas":case "bucket-data-canvas-untitled":case "bucket-data-preparation":e=(e=_.XD(e))?_.sE(e.entityType):"";break a;case "bucket-repository":case "bucket-workspace":case "bucket-workflow":e=
"";break a;default:_.qb(e,void 0)}e=void 0}c.call(b,_.tu({keyId:"type",key:d,value:e,wasSelectedSuggestion:!0}));(c=_.XD(a.model.containerType))&&_.XD(c.entityType,"UNTITLED")&&b.push(_.tu({keyId:"isUntitled",key:a.i18n.MSG_COLUMN_LABEL_UNTITLED,value:c.subCategory==="UNTITLED"?"True":"False",keyType:11,wasSelectedSuggestion:!0}))}a.model.dataformMigrationId&&a.isSavedQueryMigrationToolEnabled&&b.push(_.tu({keyId:"migrationContext.migrationId",key:a.i18n.MSG_COLUMN_LABEL_MIGRATION_ID,value:a.model.dataformMigrationId,
wasSelectedSuggestion:!0}));return b},rmk=function(a){if(a.model.selectedSourceControlledRepositoryName){const b=_.rE(a.model.selectedSourceControlledRepositoryName);a.repositoryScope=_.q3g(b)}else a.repositoryScope=void 0},smk=function(a){if(a.model.selectedSourceControlledRepositoryName){var b=_.rE(a.model.selectedSourceControlledRepositoryName);a.remoteBranchesSet$=_.z3g(a.JSC$434265_sourceControlledWorkspaceTreeFacade,b).pipe(_.x(c=>new Set(c)),_.Ze(()=>_.v(void 0)))}else a.remoteBranchesSet$=
_.v(void 0)},tmk=function(a){var b=a.model.projectRef.projectId;const c=a.model.containerType;b={parent:c==="bucket-workspace"?a.model.selectedSourceControlledRepositoryName:`projects/${b}/locations/-`,orderBy:umk(a,c)};return a.model.isSingleFileAssetList?a.JSC$434265_graphqlTableManagerFactory.prefetch(Object.assign({},fmk,{handleError:cmk(c)}),b,{sortKeys:[{id:"displayName",sortDirectionDescending:!1}],rowsPerPage:50,implicitFilterChips:a.implicitFilterChips,filterChips:qmk(a)}):c==="bucket-repository"?
a.JSC$434265_graphqlTableManagerFactory.prefetch(Object.assign({},gmk,{handleError:cmk(c)}),b,{sortKeys:[{id:"repositoryId",sortDirectionDescending:!1}],rowsPerPage:50}):c==="bucket-workflow"?a.JSC$434265_graphqlTableManagerFactory.prefetch(Object.assign({},gmk,{handleError:cmk(c)}),Object.assign({},b,{type:"REPOSITORYTYPE_WORKFLOW"}),{sortKeys:[{id:"displayName",sortDirectionDescending:!1}],rowsPerPage:50}):a.JSC$434265_graphqlTableManagerFactory.prefetch(Object.assign({},hmk,{handleError:cmk(c)}),
b,{sortKeys:[{id:"name",sortDirectionDescending:!1}],rowsPerPage:50})},umk=function(a,b){if(a.model.isSingleFileAssetList)return _.PD;switch(b){case "bucket-repository":return emk;case "bucket-workspace":return _.QD;default:return _.PD}},wmk=function(a,b){return a.model.isSingleFileAssetList?{type:"SINGLE_FILE_ASSET",subType:_.yUc(b.type),displayName:b.displayName,reference:_.rE(b.name)}:a.model.containerType==="bucket-workspace"?{type:"WORKSPACE",subType:"workspace",reference:_.dD(b.name),path:""}:
a.model.containerType==="bucket-workflow"?vmk(b):{type:"REPOSITORY",subType:"repository",reference:_.rE(b.name)}},vmk=function(a){return{type:"WORKFLOW",subType:"workflow",reference:_.UD({workflowName:a.name}),displayName:a.displayName}},xmk=class{constructor(){this.icons={addIcon24px:_.ySi,refreshIcon24px:_.Hgf,moreIcon24px:_.PC};this.JSC$434265_graphqlTableManagerFactory=_.l(_.DH);this.workspaceService=_.l(_.WW);this.JSC$434265_gitWorkspaceService=_.l(_.R_);this.JSC$434265_deleteAssetService=_.l(_.dY);
this.JSC$434265_bqResourceLinkService=_.l(_.Y0);this.dataportEnablementService=_.l(_.gX);this.dataduoEnablementService=_.l(_.fX);this.JSC$434265_migrateSavedQueriesService=_.l(_.hX);this.JSC$434265_altoEnablementService=_.l(_.qE);this.subtaskService=_.l(_.jz);this.JSC$434265_confirmDialogService=_.l(_.fz);this.JSC$434265_p4saProvider=_.l(_.N0);this.JSC$434265_sourceControlledWorkspaceTreeFacade=_.l(_.SW);this.store=_.l(_.Gk);this.actionBarId=`bqui-action-bar-${_.ek()}`;this.entityType="project";this.destroy$=
new _.rf;this.ResourceEntityType=_.WGi;this.FullBleedMode=_.QFc;this.convertToBrowserLink=_.Poj;this.getAuthenticationStatusDescription=_.Vfk;this.getAuthenticationStatusShortText=Nkk;this.authenticationStatusEnum=_.yik;this.defaultServiceAccount$=this.JSC$434265_p4saProvider.defaultServiceAccountEmail();this.i18n={MSG_BQ_REPOSITORIES_LIST_REFRESH_TABLE:"Actualiser la table",MSG_COLUMN_LABEL_DISPLAY_NAME:"Nom \u00e0 afficher",MSG_COLUMN_LABEL_TYPE:"Type",MSG_COLUMN_LABEL_MIGRATION_ID:"ID de migration",
MSG_COLUMN_LABEL_UNTITLED:"Sans titre",MSG_BQ_ADD_REPOSITORY:"Ajouter un d\u00e9p\u00f4t",MSG_BQ_OPEN_RESOURCE:_.GA.MSG_BQ_OPEN_RESOURCE,MSG_BQ_ADD_WORKSPACE:"Ajouter un espace de travail",MSG_BQ_REMOTE_BRANCH_HELP_TEXT:"Branche distante associ\u00e9e \u00e0 votre espace de travail. Toutes les modifications que vous effectuez et publiez dans un espace de travail seront r\u00e9percut\u00e9es dans cette branche distante. Si un espace de travail a \u00e9t\u00e9 cr\u00e9\u00e9, mais que vous n'avez pas encore publi\u00e9 de modifications, la branche distante appara\u00eetra vide, car elle n'a pas encore \u00e9t\u00e9 cr\u00e9\u00e9e."};
this.isSavedQueryMigrationToolEnabled=!1;this.isWorkspaceUrlEnabled=_.gi(_.qu);this.filterChips=[];this.implicitFilterChips=[];this.graphqlTableManager$=_.re;this.deleteResourceMsg="Vous ne disposez pas de l'autorisation dataform.repositories.delete permettant de supprimer cet \u00e9l\u00e9ment.";this.deleteWorkspaceMsg="Vous ne disposez pas de l'autorisation dataform.workspaces.delete permettant de supprimer cet \u00e9l\u00e9ment.";this.shareResourceMsg="Vous ne disposez pas de l'autorisation dataform.repositories.setIamPolicy permettant de partager cet \u00e9l\u00e9ment.";
this.noPermissionToViewOwnerTitleMsg="Vous n'\u00eates pas autoris\u00e9 \u00e0 afficher le propri\u00e9taire";this.noPermissionToViewOwnerDescriptionMsg="Pour afficher le propri\u00e9taire de cette ressource, vous avez besoin de l'autorisation dataform.repositories.getIamPolicy.";this.failedToLoadOwnerTitleMsg="\u00c9chec du chargement des informations relatives au propri\u00e9taire";this.failedToLoadOwnerDescriptionMsg="Le chargement des informations relatives au propri\u00e9taire a \u00e9chou\u00e9. Veuillez r\u00e9essayer plus tard.";
this.noOwnerTitleMsg="Aucun propri\u00e9taire pour cette ressource";this.noOwnerDescriptionMsg="Aucun utilisateur n'a le r\u00f4le d'Administrateur Dataform ou de Cr\u00e9ateur de code sur cette ressource. Cela peut se produire dans de nombreux cas, par exemple lorsque le r\u00f4le d'Administrateur Dataform du cr\u00e9ateur est supprim\u00e9 apr\u00e8s la cr\u00e9ation, que le cr\u00e9ateur a quitt\u00e9 l'organisation et que le r\u00f4le de l'utilisateur est supprim\u00e9 conform\u00e9ment aux r\u00e8gles de l'organisation.";
this.remoteBranchesSet$=_.v(void 0);this.loadedResource$=new _.wf(1);this.resourceLoaded=new _.Gi;this.FilterKeyType=_.ezd;this.ownerPermissionDeniedLearnMoreDocAction={label:"Learn more",kind:"link",href:"/home",target:"_blank"};this.OwnerInfoStatus=dmk;this.docLinks={CONSOLE__DATAFORM_DOCS_ACCESS_CONTROL:_.ved};this.isGitReposPreviewEnabled=this.JSC$434265_altoEnablementService.isEnabled(12)}get resourceName(){if(this.model.containerType==="bucket-workspace")var a=this.model.selectedSourceControlledRepositoryName||
"";else a=Object.assign({},this.model.projectRef,{locationId:"-"}),a=`${_.Wk(a)}/repositories`;return a}get isGitReposList(){return this.model.containerType==="bucket-repository"||this.model.containerType==="bucket-workspace"}get isWorkflowsList(){return this.model.containerType==="bucket-workflow"}get isAddRepositoryButtonEnabled(){return this.isGitReposPreviewEnabled&&this.model.containerType==="bucket-repository"}get isAddWorkspaceButtonEnabled(){return this.isGitReposPreviewEnabled&&this.model.containerType===
"bucket-workspace"}ngOnInit(){this.isSavedQueryMigrationToolEnabled=_.h6g(this.JSC$434265_migrateSavedQueriesService,this.model.projectRef.projectId);Qkk(this);this.model.JSC$402677_onFocus$.subscribe(a=>{if(a&&a!==this.model&&(a.containerType!==this.model.containerType||a.selectedSourceControlledRepositoryName!==this.model.selectedSourceControlledRepositoryName)){var b=a.isSingleFileAssetList&&this.model.isSingleFileAssetList;this.model.containerType=a.containerType;this.model.projectRef=a.projectRef;
this.model.dataformMigrationId=a.dataformMigrationId;this.model.selectedSourceControlledRepositoryName=a.selectedSourceControlledRepositoryName;b?this.filterChips=qmk(this):Qkk(this);this.refreshTable()}})}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}refresh(){this.refreshTable()}refreshTable(){this.JSC$434265_graphqlTableManager&&this.table&&this.tableStateManager&&(this.JSC$434265_graphqlTableManager.setPageParameters(new Set(["PROGRAMMATIC_REFRESH"]),{currentPageIndex:this.table.currentPageIndex,
columns:this.table.allColumns,filterChips:this.table.filterChips.filter(a=>!a.isError),implicitFilterChips:this.table.implicitFilterChips,rowsPerPage:this.table.rowsPerPage,sortKeys:Array.from(this.table.normalizedSortKeys)}),_.wC(this.tableStateManager))}getDisplayName(a){return a.displayName||_.hpc(_.yUc(a.type))}getMsgs(a){let b="",c="",d="";switch(a.type){case "NOTEBOOK":b="Partager ce notebook.";c="Supprimer ce notebook.";d="Ouvrir ce notebook.";break;case "SQL":b="Partager cette requ\u00eate.",
c="Supprimer cette requ\u00eate.",d="Ouvrir cette requ\u00eate."}return{overflowMenuShareTooltipMsg:b,overflowMenuDeleteTooltipMsg:c,overflowMenuOpenTooltipMsg:d}}onClickOpen(a){(this.model.isSingleFileAssetList||this.isWorkflowsList)&&this.JSC$434265_bqResourceLinkService.openResource(wmk(this,a),"RESOURCE_LIST","NEW_TAB")}onClickShare(a){if(this.model.isSingleFileAssetList)_.VW(this.workspaceService,a.name,a.displayName,a.type);else if(this.model.containerType==="bucket-workflow"){var b=this.workspaceService;
a=vmk(a);_.VW(b,_.aB(a.reference),a.displayName)}else _.VW(this.workspaceService,a.name,_.rE(a.name).repositoryId)}onClickDelete(a){a=wmk(this,a);_.bz(a,_.Gl);_.cY(this.JSC$434265_deleteAssetService,a).subscribe(()=>{this.refreshTable()})}formatDateTime(a){return _.eD(a)}};xmk.\u0275fac=function(a){return new (a||xmk)};
xmk.\u0275cmp=_.A({type:xmk,selectors:[["bq-repositories-list"]],viewQuery:function(a,b){a&1&&(_.Gg(mmk,5),_.Gg(nmk,5));if(a&2){let c;_.Jg(c=_.Kg())&&(b.table=c.first);_.Jg(c=_.Kg())&&(b.tableStateManager=c.first)}},hostAttrs:[1,"cfc-flex-container","cfc-flex-grow-content","cfc-width-full"],inputs:{model:"model"},outputs:{resourceLoaded:"resourceLoaded"},standalone:!1,decls:27,vars:13,consts:()=>[["ownerPermissionDeniedTooltip",""],["failedToLoadOwnerTooltip",""],["noOwnerTooltip",""],["resourceActionMenu",
""],["loading",""],["repositoriesListTable","","tableStateManager","tableStateManager"],"Branche distante \ufffd#2\ufffd\ufffd/#2\ufffd",[1,"cfc-width-full","cfc-gutter-none","cfc-scroll-vertical"],[3,"id","cfcTitle","badge","disableTitleRegion"],[1,"cfc-action-bar-content-left"],[3,"resourceName","compact"],[3,"projectId","repositoryId","containerType"],[3,"entityType"],[1,"cfc-action-bar-content-main"],[1,"bq-add-repository-button"],[1,"cfc-action-bar-content-right"],["mat-button","","color","primary",
"cfcTooltipAriaRelationship","description",3,"click","cfcTooltip"],["matButtonIcon","",3,"icon"],[3,"isLoading"],[3,"containerTypeChange","projectId","repositoryId","containerType"],["label","Espaces de travail"],[4,"ngIf","ngIfElse"],["label","Configuration"],[3,"repositoryScope","isBQUI"],["ariaLabel","Tableau de la liste des projets",3,"tableManager","showFilter","filterChips","implicitFilterChips","pagination","rowsPerPage","fullBleedConfig"],["id","name","header","Nom"],[4,"cfcTableTemplate"],
["id","remoteBranch","header","Branche distante"],["id","action","ariaLabel","Action","header","Actions","sticky","right","type","non_filterable","overflowMechanism","optimizedTruncate",3,"nonHideable","sortDisabled"],["ariaLabel",'Bouton d\'aide pour la colonne "Branche distante"',3,"tooltip"],["mat-icon-button","","cfcTooltip","Ouvrir les actions",3,"cfcMenuTriggerData","cfcMenuTriggerFor"],[3,"icon"],[4,"ngIf"],["ariaLabel","Tableau de la liste des projets",3,"tableManager","showFilter","filterChips",
"implicitFilterChips","pagination","rowsPerPage"],["id","ownerInfo","header","Propri\u00e9taire"],["id","action","ariaLabel","Action","header","Actions","sticky","right","type","non_filterable","overflowMechanism","optimizedTruncate",3,"nonHideable","sortDisabled"],["mat-icon-button","","cfcTooltip","Ouvrir les actions",3,"cfcMenuTriggerData","cfcMenuTriggerFor",4,"cfcTableTemplate"],["id","displayName",3,"header"],["cfcSemanticButton","",3,"cfcTooltip","click",4,"cfcTableTemplate"],["id","type",
3,"header"],["id","createTime","header","Date et heure de cr\u00e9ation","dateColumnAfterHeader","Cr\u00e9\u00e9es apr\u00e8s le","dateColumnBeforeHeader","Cr\u00e9\u00e9es avant le","dateColumnOnHeader","Cr\u00e9\u00e9es le",3,"type"],["id","migrationContext.migrationId",3,"header"],["id","isUntitled",3,"hidden","type","header"],["cfcSemanticButton","",3,"click","cfcTooltip"],["id","name","header","Nom"],["id","repositoryId","header","Nom"],["cfcSemanticButton","",3,"cfcRouterLink","cfcTooltip"],
["cfcSemanticButton","",3,"cfcTooltip"],["id","locationId","header","Zone"],"id gitRemoteSettings.url header Source type string".split(" "),["id","computedAccessTokenStatus.tokenStatus","header","\u00c9tat de l'authentification","type","non_filterable",3,"sortDisabled"],["id","createTime","header","Date et heure de cr\u00e9ation","dateColumnAfterHeader","Cr\u00e9\u00e9es apr\u00e8s le","dateColumnBeforeHeader","Cr\u00e9\u00e9es avant le","dateColumnOnHeader","Cr\u00e9\u00e9es le",3,"type"],["cfcSemanticButton",
"",3,"cfcRouterLink","cfcTooltip",4,"cfcTableTemplate"],[3,"cfc-external-link","linkText"],["color","primary","aria-label","Chargement\u2026","diameter","18","strokeWidth","1.8",1,"cfc-table-working"],["ariaLabel","Info-bulle affichant les d\u00e9tails de l'\u00e9tat d'authentification."],["ariaLabel","Info-bulle affichant les d\u00e9tails de l'\u00e9tat d'authentification.",4,"ngIf"],["id","locationId","header","Zone"],["id","createTime","header","Date et heure de cr\u00e9ation","dateColumnAfterHeader",
"Cr\u00e9\u00e9es apr\u00e8s le","dateColumnBeforeHeader","Cr\u00e9\u00e9es avant le","dateColumnOnHeader","Cr\u00e9\u00e9es le",3,"type"],["cfcTooltipInteractiveDialogAriaLabel","Bo\u00eete de dialogue de l'info-bulle Autorisation du propri\u00e9taire refus\u00e9e",1,"cfc-color-disabled",3,"cfcTooltip","cfcTooltipAction","cfcTooltipInteractive"],["cfcTooltipInteractiveDialogAriaLabel","Bo\u00eete de dialogue de l'info-bulle qui s'affiche lors de l'\u00e9chec du chargement du propri\u00e9taire",1,
"cfc-color-disabled",3,"cfcTooltip","cfcTooltipInteractive"],["cfcTooltipInteractiveDialogAriaLabel","Bo\u00eete de dialogue de l'info-bulle Aucun propri\u00e9taire",1,"cfc-color-disabled",3,"cfcTooltip","cfcTooltipInteractive"],["mat-icon-button","","cfcTooltip","Ouvrir les actions",3,"cfcMenuTriggerData","cfcMenuTriggerFor"],["color","primary","aria-label","En savoir plus sur les autorisations IAM pour l'affichage des propri\u00e9taires",3,"cfcDocLink"],["ariaLabelledBy","action"],["label","Ouvrir",
3,"tooltip"],["label","Partager","cfcDisable","",3,"cfcIamCheck","cfcIamResource","cfcIamNoPermissionTooltip","tooltip"],["label","Supprimer","cfcDisable","",3,"cfcIamCheck","cfcIamResource","cfcIamNoPermissionTooltip","tooltip"],["label","Supprimer","cfcDisable","",3,"cfcIamCheck","cfcIamResource","cfcIamNoPermissionTooltip","tooltip"],["label","Ouvrir",3,"click","tooltip"],["label","Partager","cfcDisable","",3,"click","cfcIamCheck","cfcIamResource","cfcIamNoPermissionTooltip","tooltip"],["label",
"Supprimer","cfcDisable","",3,"click","cfcIamCheck","cfcIamResource","cfcIamNoPermissionTooltip","tooltip"],["label","Supprimer","cfcDisable","",3,"click","cfcIamCheck","cfcIamResource","cfcIamNoPermissionTooltip","tooltip"]],template:function(a,b){if(a&1){const c=_.m();_.G(0,"div",7)(1,"cfc-action-bar",8)(2,"div",9);_.F(3,Pkk,1,2,"resource-navigation-breadcrumbs",10)(4,Rkk,1,3,"resource-list-breadcrumbs",11)(5,Skk,1,1,"bq-resource-entity-icon",12);_.H();_.G(6,"div",13);_.F(7,Ukk,4,4,"div",14);_.F(8,
Wkk,4,4,"div",14);_.H();_.G(9,"div",15)(10,"button",16);_.P("click",function(){_.p(c);return _.t(b.refresh())});_.J(11,"cm-icon",17);_.R(12," Refresh ");_.H()()();_.F(13,elk,6,6,"mat-tab-group");_.T(14,"async");_.fg(15,Nlk,2,3,"div")(16,Olk,1,1,"cfc-loader",18);_.H();_.D(17,Plk,7,3,"ng-template",null,0,_.fh)(19,Qlk,5,2,"ng-template",null,1,_.fh)(21,Rlk,5,2,"ng-template",null,2,_.fh)(23,amk,6,3,"ng-template",null,3,_.fh)(25,bmk,1,1,"ng-template",null,4,_.fh)}a&2&&(_.y(),_.E("id",b.actionBarId)("cfcTitle",
b.isGitReposList||b.isWorkspaceUrlEnabled||b.isWorkflowsList?"":b.model.projectRef.projectId)("badge",b.isGitReposPreviewEnabled&&b.isGitReposList?"preview":void 0)("disableTitleRegion",b.isWorkspaceUrlEnabled||b.isWorkflowsList),_.y(2),_.gg(b.isWorkspaceUrlEnabled?3:b.isGitReposList||b.isWorkflowsList?4:5),_.y(4),_.gg(b.isAddRepositoryButtonEnabled?7:-1),_.y(),_.gg(b.isAddWorkspaceButtonEnabled?8:-1),_.y(2),_.E("cfcTooltip",b.i18n.MSG_BQ_REPOSITORIES_LIST_REFRESH_TABLE),_.Xf("aria-label",b.i18n.MSG_BQ_REPOSITORIES_LIST_REFRESH_TABLE),
_.y(),_.E("icon",b.icons.refreshIcon24px),_.y(2),_.gg(b.isGitReposPreviewEnabled&&b.model.containerType===b.ResourceEntityType.BUCKET_WORKSPACE?13:_.U(14,11,b.graphqlTableManager$)?15:16))},dependencies:[_.Zy,_.Gq,_.cs,_.Yr,_.Zr,_.as,_.Cp,_.Ap,_.wp,_.Wy,_.Vs,_.Ws,_.Vy,_.kx,_.Oq,_.Tq,_.Gv,_.wy,_.up,_.wx,_.Vw,_.Tw,_.Uw,_.Ww,_.rn,_.Mkk,_.aY,jmk,_.fY,_.Hs,_.dG,_.vC,_.pC,_.yC,_.xC,_.rs,_.wn],styles:[".bq-add-repository-button[_ngcontent-%COMP%]{margin-left:12px}"]});var ymk=class{};ymk.\u0275fac=function(a){return new (a||ymk)};ymk.\u0275mod=_.We({type:ymk});ymk.\u0275inj=_.Pc({imports:[_.Zy,_.rt,_.ds,_.Gp,_.Xs,_.px,_.Oq,_.Tq,_.Gv,_.xy,_.up,_.wx,_.Xw,_.Mkk,_.eY,lmk,_.fY,_.Js,_.eG,_.vC]});var zmk=class{};zmk.\u0275fac=function(a){return new (a||zmk)};zmk.\u0275mod=_.We({type:zmk,id:"pm_bigquery_repositories_list_panel_tab"});zmk.\u0275inj=_.Pc({providers:[{provide:_.Sn,useValue:{BigqueryRepositoriesListPanelTab:xmk}}],imports:[ymk]});_.Mf(zmk,"pm_bigquery_repositories_list_panel_tab");
_.Wh();
}catch(e){_._DumpException(e)}
}).call(this,this.default_r_tvffkgi);
// Google Inc.
